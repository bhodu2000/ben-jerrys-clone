[WARN ] 25-09-26 00:01:04 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=10m47s497ms).
[WARN ] 25-09-26 00:17:04 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m29s777ms).
[WARN ] 25-09-26 00:27:02 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m58s286ms).
[WARN ] 25-09-26 00:43:00 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m28s164ms).
[WARN ] 25-09-26 00:48:10 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m39s863ms).
[WARN ] 25-09-26 00:52:48 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m7s894ms).
[WARN ] 25-09-26 00:58:01 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m43s27ms).
[WARN ] 25-09-26 01:02:52 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m50s301ms).
[WARN ] 25-09-26 01:08:05 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m43s114ms).
[WARN ] 25-09-26 01:12:56 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m21s195ms).
[WARN ] 25-09-26 01:18:08 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m42s110ms).
[WARN ] 25-09-26 01:22:51 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m43s45ms).
[WARN ] 25-09-26 01:44:22 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m1s66ms).
[WARN ] 25-09-26 02:02:26 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=17m34s67ms).
[WARN ] 25-09-26 02:18:08 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m11s468ms).
[WARN ] 25-09-26 02:35:35 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=17m27s665ms).
[WARN ] 25-09-26 02:52:47 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m41s688ms).
[WARN ] 25-09-26 03:10:22 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m34s487ms).
[WARN ] 25-09-26 03:26:23 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m1s45ms).
[WARN ] 25-09-26 03:44:17 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m54s719ms).
[WARN ] 25-09-26 04:00:38 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m20s84ms).
[WARN ] 25-09-26 04:18:35 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=17m27s30ms).
[WARN ] 25-09-26 04:34:49 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m14s27ms).
[WARN ] 25-09-26 04:44:59 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m40s512ms).
[WARN ] 25-09-26 05:02:17 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m48s213ms).
[WARN ] 25-09-26 05:20:51 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=18m4s75ms).
[WARN ] 25-09-26 05:40:11 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=17m19s924ms).
[WARN ] 25-09-26 05:58:06 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m54s889ms).
[WARN ] 25-09-26 06:14:41 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m4s322ms).
[WARN ] 25-09-26 06:32:06 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m25s780ms).
[WARN ] 25-09-26 06:46:13 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=13m36s484ms).
[WARN ] 25-09-26 07:00:39 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=13m55s846ms).
[WARN ] 25-09-26 07:17:38 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=16m28s921ms).
[WARN ] 25-09-26 08:20:57 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m48s954ms).
[WARN ] 25-09-26 08:25:56 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m28s748ms).
[WARN ] 25-09-26 08:40:11 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=14m14s974ms).
[WARN ] 25-09-26 08:47:21 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=6m40s75ms).
[WARN ] 25-09-26 08:53:11 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m49s871ms).
[WARN ] 25-09-26 08:56:17 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m35s915ms).
[WARN ] 25-09-26 08:59:54 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m22s758ms).
[WARN ] 25-09-26 09:48:10 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47m12s815ms).
[WARN ] 25-09-26 10:21:37 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=32m57s631ms).
[WARN ] 25-09-26 10:37:09 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m31s636ms).
[WARN ] 25-09-26 10:48:49 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=11m10s414ms).
[WARN ] 25-09-26 11:14:35 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=25m45s383ms).
[WARN ] 25-09-26 11:37:34 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=22m29s653ms).
[WARN ] 25-09-26 11:44:42 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=7m7s602ms).
[WARN ] 25-09-26 11:48:12 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m29s660ms).
[INFO ] 25-09-26 11:50:15 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:50:15 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:50:15 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[INFO ] 25-09-26 11:50:15 [MyInterceptor:101] - - REFERER : time=54268764, url=http://localhost:8080/cherry-garcia-ice-cream/pint
[DEBUG] 25-09-26 11:50:15 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 11:50:15 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 11:50:15 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 11:50:15 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:50:15 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 11:50:15 [MyInterceptor:122] - running time: 201(ms)
[DEBUG] 25-09-26 11:50:15 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 11:50:15 [selectVariantDetailDefault:135] - ==> Parameters: favicon.ico(String)
[INFO ] 25-09-26 11:50:15 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'favicon.ico'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 11:50:15 [resultsettable:610] - 
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|id |id |slug |name_ko |description_ko |is_new |slug |list_slug |name_ko |
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|---|---|-----|--------|---------------|-------|-----|----------|--------|

[DEBUG] 25-09-26 11:50:15 [selectVariantDetailDefault:135] - <==      Total: 0
[ERROR] 25-09-26 11:50:15 [TemplateEngine:1141] - [THYMELEAF][http-nio-8080-exec-5] Exception processing template "error/404": Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 11:50:15 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[WARN ] 25-09-26 11:50:15 [DefaultHandlerExceptionResolver:254] - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.LinkedHashMap] with preset Content-Type 'text/html;charset=UTF-8']
[INFO ] 25-09-26 11:50:18 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:50:18 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:50:18 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 11:50:18 [MyInterceptor:101] - - REFERER : time=2727, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 11:50:18 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 11:50:18 [selectVariantDetailDefault:135] - ==> Parameters: favicon.ico(String)
[INFO ] 25-09-26 11:50:18 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'favicon.ico'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 11:50:18 [resultsettable:610] - 
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|id |id |slug |name_ko |description_ko |is_new |slug |list_slug |name_ko |
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|---|---|-----|--------|---------------|-------|-----|----------|--------|

[DEBUG] 25-09-26 11:50:18 [selectVariantDetailDefault:135] - <==      Total: 0
[ERROR] 25-09-26 11:50:18 [TemplateEngine:1141] - [THYMELEAF][http-nio-8080-exec-5] Exception processing template "error/404": Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 11:50:18 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[WARN ] 25-09-26 11:50:18 [DefaultHandlerExceptionResolver:254] - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.LinkedHashMap] with preset Content-Type 'text/html;charset=UTF-8']
[DEBUG] 25-09-26 11:50:19 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 11:50:19 [selectVariantDetailDefault:135] - ==> Parameters: favicon.ico(String)
[INFO ] 25-09-26 11:50:19 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'favicon.ico'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 11:50:19 [resultsettable:610] - 
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|id |id |slug |name_ko |description_ko |is_new |slug |list_slug |name_ko |
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|---|---|-----|--------|---------------|-------|-----|----------|--------|

[DEBUG] 25-09-26 11:50:19 [selectVariantDetailDefault:135] - <==      Total: 0
[ERROR] 25-09-26 11:50:19 [TemplateEngine:1141] - [THYMELEAF][http-nio-8080-exec-6] Exception processing template "error/404": Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 11:50:19 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[WARN ] 25-09-26 11:50:19 [DefaultHandlerExceptionResolver:254] - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.LinkedHashMap] with preset Content-Type 'text/html;charset=UTF-8']
[INFO ] 25-09-26 11:50:20 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:50:20 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:50:20 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 11:50:20 [MyInterceptor:101] - - REFERER : time=5560, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 11:50:20 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 11:50:20 [selectVariantDetailDefault:135] - ==> Parameters: favicon.ico(String)
[INFO ] 25-09-26 11:50:20 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'favicon.ico'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 11:50:20 [resultsettable:610] - 
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|id |id |slug |name_ko |description_ko |is_new |slug |list_slug |name_ko |
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|---|---|-----|--------|---------------|-------|-----|----------|--------|

[DEBUG] 25-09-26 11:50:20 [selectVariantDetailDefault:135] - <==      Total: 0
[ERROR] 25-09-26 11:50:20 [TemplateEngine:1141] - [THYMELEAF][http-nio-8080-exec-9] Exception processing template "error/404": Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 11:50:20 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[WARN ] 25-09-26 11:50:20 [DefaultHandlerExceptionResolver:254] - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.LinkedHashMap] with preset Content-Type 'text/html;charset=UTF-8']
[INFO ] 25-09-26 11:50:40 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:50:40 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:50:40 [MyInterceptor:85] - [GET] http://localhost:8080/new-york-super-fudge-chunk-ice-cream/ice-cream-pint
[DEBUG] 25-09-26 11:50:40 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 11:50:40 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), ice-cream-pint(String)
[INFO ] 25-09-26 11:50:40 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'ice-cream-pint'

[INFO ] 25-09-26 11:50:40 [resultsettable:610] - 
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|id |id |slug |name_ko |description_ko |is_new |slug |list_slug |name_ko |
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|---|---|-----|--------|---------------|-------|-----|----------|--------|

[DEBUG] 25-09-26 11:50:40 [selectVariantDetail:135] - <==      Total: 0
[INFO ] 25-09-26 11:50:40 [MyInterceptor:122] - running time: 116(ms)
[ERROR] 25-09-26 11:50:40 [TemplateEngine:1141] - [THYMELEAF][http-nio-8080-exec-10] Exception processing template "errors/404": Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 11:50:40 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[DEBUG] 25-09-26 11:50:40 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 11:50:40 [selectVariantDetailDefault:135] - ==> Parameters: favicon.ico(String)
[INFO ] 25-09-26 11:50:40 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'favicon.ico'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 11:50:40 [resultsettable:610] - 
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|id |id |slug |name_ko |description_ko |is_new |slug |list_slug |name_ko |
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|---|---|-----|--------|---------------|-------|-----|----------|--------|

[DEBUG] 25-09-26 11:50:40 [selectVariantDetailDefault:135] - <==      Total: 0
[ERROR] 25-09-26 11:50:40 [TemplateEngine:1141] - [THYMELEAF][http-nio-8080-exec-8] Exception processing template "error/404": Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 11:50:40 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[WARN ] 25-09-26 11:50:40 [DefaultHandlerExceptionResolver:254] - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.LinkedHashMap] with preset Content-Type 'text/html;charset=UTF-8']
[INFO ] 25-09-26 11:51:06 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:51:06 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:51:06 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/chunky-monkey-ice-cream/scoop-shop
[DEBUG] 25-09-26 11:51:07 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 11:51:07 [selectVariantDetailDefault:135] - ==> Parameters: favicon.ico(String)
[INFO ] 25-09-26 11:51:07 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'favicon.ico'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 11:51:07 [resultsettable:610] - 
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|id |id |slug |name_ko |description_ko |is_new |slug |list_slug |name_ko |
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|---|---|-----|--------|---------------|-------|-----|----------|--------|

[DEBUG] 25-09-26 11:51:07 [selectVariantDetailDefault:135] - <==      Total: 0
[ERROR] 25-09-26 11:51:07 [TemplateEngine:1141] - [THYMELEAF][http-nio-8080-exec-2] Exception processing template "error/404": Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 11:51:07 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[WARN ] 25-09-26 11:51:07 [DefaultHandlerExceptionResolver:254] - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.LinkedHashMap] with preset Content-Type 'text/html;charset=UTF-8']
[INFO ] 25-09-26 11:51:12 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:51:12 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:51:12 [MyInterceptor:85] - [GET] http://localhost:8080/chunky-monkey-ice-cream/scoop-shop
[DEBUG] 25-09-26 11:51:12 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 11:51:12 [selectVariantDetail:135] - ==> Parameters: chunky-monkey-ice-cream(String), scoop-shop(String)
[INFO ] 25-09-26 11:51:12 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'chunky-monkey-ice-cream'
  AND c.slug = 'scoop-shop'

[INFO ] 25-09-26 11:51:12 [resultsettable:610] - 
|------|------|------------------------|--------|-------------------------|-------|-----------|------------------------|--------|
|id    |id    |slug                    |name_ko |description_ko           |is_new |slug       |list_slug               |name_ko |
|------|------|------------------------|--------|-------------------------|-------|-----------|------------------------|--------|
|30035 |20001 |chunky-monkey-ice-cream |청키 몽키®  |호두 퍼지 덩어리가 들어간 바나나 아이스크림 |false  |scoop-shop |ice-cream-shop-flavours |스쿱 샵    |
|------|------|------------------------|--------|-------------------------|-------|-----------|------------------------|--------|

[DEBUG] 25-09-26 11:51:12 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 11:51:12 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 11:51:12 [selectVariantMedia:135] - ==> Parameters: 30035(Long)
[INFO ] 25-09-26 11:51:12 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30035
ORDER BY role, sort_order

[INFO ] 25-09-26 11:51:12 [resultsettable:610] - 
|---------|------------------------------------------------------------------------------|------------|
|role     |url                                                                           |alt_ko      |
|---------|------------------------------------------------------------------------------|------------|
|PACKSHOT |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png     |청키 몽키 스쿱 팩샷 |
|GALLERY  |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/gallery/01-tower.avif |null        |
|---------|------------------------------------------------------------------------------|------------|

[DEBUG] 25-09-26 11:51:12 [selectVariantMedia:135] - <==      Total: 2
[DEBUG] 25-09-26 11:51:12 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 11:51:12 [selectVariantIngredients:135] - ==> Parameters: 30035(Long)
[INFO ] 25-09-26 11:51:12 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30035

[INFO ] 25-09-26 11:51:12 [resultsettable:610] - 
|-----------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                             |smartlabel_url |
|-----------------------------------------------------------------------------------------------------------|---------------|
|크림, 탈지우유, 설탕시럽(설탕, 정제수), 정제수, 설탕, 코코아, 코코아분말, 대두유, 난황, 수수설탕, 전란, 전란액, 소금, 구아검, 카라기난, 바닐라추출물, 맥아분말, 탄산수소나트륨 |null           |
|-----------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 11:51:12 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 11:51:12 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 11:51:12 [selectVariantSourcing:135] - ==> Parameters: 30035(Long)
[INFO ] 25-09-26 11:51:12 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30035
ORDER BY vs.sort_order

[INFO ] 25-09-26 11:51:12 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:51:12 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 11:51:12 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 11:51:12 [selectVariantCerts:135] - ==> Parameters: 30035(Long)
[INFO ] 25-09-26 11:51:12 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30035
ORDER BY vc.sort_order

[INFO ] 25-09-26 11:51:12 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 11:51:12 [selectVariantCerts:135] - <==      Total: 1
[DEBUG] 25-09-26 11:51:12 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 11:51:12 [selectRecommendations:135] - ==> Parameters: 30035(Long)
[INFO ] 25-09-26 11:51:12 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30035
ORDER BY r.slot

[INFO ] 25-09-26 11:51:12 [resultsettable:610] - 
|---|-----|--------|-------|----------|--------|----|
|id |slug |name_ko |is_new |list_slug |name_ko |url |
|---|-----|--------|-------|----------|--------|----|
|---|-----|--------|-------|----------|--------|----|

[DEBUG] 25-09-26 11:51:12 [selectRecommendations:135] - <==      Total: 0
[DEBUG] 25-09-26 11:51:12 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 11:51:12 [selectAvailableCategories:135] - ==> Parameters: 20001(Long)
[INFO ] 25-09-26 11:51:12 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20001
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 11:51:12 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30001 |
|SCOOP |scoop-shop |스쿱 샵    |30035 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 11:51:12 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 11:51:12 [MyInterceptor:122] - running time: 74(ms)
[DEBUG] 25-09-26 11:51:12 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 11:51:12 [selectVariantDetailDefault:135] - ==> Parameters: favicon.ico(String)
[INFO ] 25-09-26 11:51:12 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'favicon.ico'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 11:51:12 [resultsettable:610] - 
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|id |id |slug |name_ko |description_ko |is_new |slug |list_slug |name_ko |
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|---|---|-----|--------|---------------|-------|-----|----------|--------|

[DEBUG] 25-09-26 11:51:12 [selectVariantDetailDefault:135] - <==      Total: 0
[ERROR] 25-09-26 11:51:12 [TemplateEngine:1141] - [THYMELEAF][http-nio-8080-exec-1] Exception processing template "error/404": Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 11:51:12 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [error/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[WARN ] 25-09-26 11:51:12 [DefaultHandlerExceptionResolver:254] - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class java.util.LinkedHashMap] with preset Content-Type 'text/html;charset=UTF-8']
[INFO ] 25-09-26 11:55:22 [BenjerryscloneApplication:53] - Starting BenjerryscloneApplication using Java 17.0.14 with PID 21649 (/Users/sieun/ben-jerrys-clone/build/classes/java/main started by sieun in /Users/sieun/ben-jerrys-clone)
[DEBUG] 25-09-26 11:55:22 [BenjerryscloneApplication:54] - Running with Spring Boot v3.5.5, Spring v6.2.10
[INFO ] 25-09-26 11:55:22 [BenjerryscloneApplication:652] - No active profile set, falling back to 1 default profile: "dev"
[INFO ] 25-09-26 11:55:26 [BenjerryscloneApplication:59] - Started BenjerryscloneApplication in 4.924 seconds (process running for 5.603)
[INFO ] 25-09-26 11:56:06 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:56:06 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:56:06 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/vanilla-ice-cream/pint
[DEBUG] 25-09-26 11:56:07 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 11:56:07 [selectVariantDetail:135] - ==> Parameters: vanilla-ice-cream(String), pint(String)
[INFO ] 25-09-26 11:56:07 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'vanilla-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 11:56:07 [resultsettable:610] - 
|------|------|------------------|--------|---------------|-------|-----|----------------|--------|
|id    |id    |slug              |name_ko |description_ko |is_new |slug |list_slug       |name_ko |
|------|------|------------------|--------|---------------|-------|-----|----------------|--------|
|30013 |20013 |vanilla-ice-cream |바닐라     |바닐라 아이스크림      |false  |pint |ice-cream-pints |파인트     |
|------|------|------------------|--------|---------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 11:56:07 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 11:56:07 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 11:56:07 [selectVariantMedia:135] - ==> Parameters: 30013(Long)
[INFO ] 25-09-26 11:56:07 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30013
ORDER BY role, sort_order

[INFO ] 25-09-26 11:56:07 [resultsettable:610] - 
|----------|---------------------------------------------------------------------|------------|
|role      |url                                                                  |alt_ko      |
|----------|---------------------------------------------------------------------|------------|
|PACKSHOT  |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png        |바닐라 파인트 팩샷  |
|GALLERY   |/assets/img/flavours/vanilla-ice-cream/pint/gallery/01-tower.png     |null        |
|GALLERY   |/assets/img/flavours/vanilla-ice-cream/pint/gallery/02-envirolid.jpg |null        |
|GALLERY   |/assets/img/flavours/vanilla-ice-cream/pint/gallery/03-scooped.jpg   |null        |
|GALLERY   |/assets/img/flavours/vanilla-ice-cream/pint/gallery/04-enviro.jpg    |null        |
|GALLERY   |/assets/img/flavours/vanilla-ice-cream/pint/gallery/05-hero.jpg      |null        |
|NUTRITION |/assets/img/flavours/vanilla-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml |
|----------|---------------------------------------------------------------------|------------|

[DEBUG] 25-09-26 11:56:07 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 11:56:07 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 11:56:07 [selectVariantIngredients:135] - ==> Parameters: 30013(Long)
[INFO ] 25-09-26 11:56:07 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30013

[INFO ] 25-09-26 11:56:07 [resultsettable:610] - 
|---------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                 |smartlabel_url                                                                                                           |
|---------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 탈지유, 액상당(설탕, 물), 물, 계란 노른자, 설탕, 구아검, 바닐라 추출물, 바닐라 빈, 카라기난. |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840400058-0002-en-US-1671461174511/index.html#nutrition |
|---------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:07 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 11:56:07 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 11:56:07 [selectVariantSourcing:135] - ==> Parameters: 30013(Long)
[INFO ] 25-09-26 11:56:07 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30013
ORDER BY vs.sort_order

[INFO ] 25-09-26 11:56:07 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:07 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 11:56:07 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 11:56:07 [selectVariantCerts:135] - ==> Parameters: 30013(Long)
[INFO ] 25-09-26 11:56:07 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30013
ORDER BY vc.sort_order

[INFO ] 25-09-26 11:56:07 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 11:56:07 [selectVariantCerts:135] - <==      Total: 1
[DEBUG] 25-09-26 11:56:07 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 11:56:07 [selectRecommendations:135] - ==> Parameters: 30013(Long)
[INFO ] 25-09-26 11:56:07 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30013
ORDER BY r.slot

[INFO ] 25-09-26 11:56:07 [resultsettable:610] - 
|------|---------------------------------------|-------------|-------|----------------|--------|-----------------------------------------------------------------------------------|
|id    |slug                                   |name_ko      |is_new |list_slug       |name_ko |url                                                                                |
|------|---------------------------------------|-------------|-------|----------------|--------|-----------------------------------------------------------------------------------|
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우  |false  |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png  |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키  |false  |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png        |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈! |false  |ice-cream-pints |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png |
|------|---------------------------------------|-------------|-------|----------------|--------|-----------------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:07 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 11:56:07 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 11:56:07 [selectAvailableCategories:135] - ==> Parameters: 20013(Long)
[INFO ] 25-09-26 11:56:07 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20013
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 11:56:07 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30013 |
|SCOOP |scoop-shop |스쿱 샵    |30041 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 11:56:07 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 11:56:07 [MyInterceptor:122] - running time: 1114(ms)
[INFO ] 25-09-26 11:56:17 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:56:17 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:56:17 [MyInterceptor:85] - [GET] http://localhost:8080/vanilla-ice-cream/pint
[INFO ] 25-09-26 11:56:25 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:56:25 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:56:25 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/vanilla-ice-cream/pint
[DEBUG] 25-09-26 11:56:25 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 11:56:25 [selectVariantDetail:135] - ==> Parameters: vanilla-ice-cream(String), pint(String)
[INFO ] 25-09-26 11:56:25 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'vanilla-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 11:56:25 [resultsettable:610] - 
|------|------|------------------|--------|---------------|-------|-----|----------------|--------|
|id    |id    |slug              |name_ko |description_ko |is_new |slug |list_slug       |name_ko |
|------|------|------------------|--------|---------------|-------|-----|----------------|--------|
|30013 |20013 |vanilla-ice-cream |바닐라     |바닐라 아이스크림      |false  |pint |ice-cream-pints |파인트     |
|------|------|------------------|--------|---------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 11:56:25 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 11:56:25 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 11:56:25 [selectVariantMedia:135] - ==> Parameters: 30013(Long)
[INFO ] 25-09-26 11:56:25 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30013
ORDER BY role, sort_order

[INFO ] 25-09-26 11:56:25 [resultsettable:610] - 
|----------|---------------------------------------------------------------------|------------|
|role      |url                                                                  |alt_ko      |
|----------|---------------------------------------------------------------------|------------|
|PACKSHOT  |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png        |바닐라 파인트 팩샷  |
|GALLERY   |/assets/img/flavours/vanilla-ice-cream/pint/gallery/01-tower.png     |null        |
|GALLERY   |/assets/img/flavours/vanilla-ice-cream/pint/gallery/02-envirolid.jpg |null        |
|GALLERY   |/assets/img/flavours/vanilla-ice-cream/pint/gallery/03-scooped.jpg   |null        |
|GALLERY   |/assets/img/flavours/vanilla-ice-cream/pint/gallery/04-enviro.jpg    |null        |
|GALLERY   |/assets/img/flavours/vanilla-ice-cream/pint/gallery/05-hero.jpg      |null        |
|NUTRITION |/assets/img/flavours/vanilla-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml |
|----------|---------------------------------------------------------------------|------------|

[DEBUG] 25-09-26 11:56:25 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 11:56:25 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 11:56:25 [selectVariantIngredients:135] - ==> Parameters: 30013(Long)
[INFO ] 25-09-26 11:56:25 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30013

[INFO ] 25-09-26 11:56:25 [resultsettable:610] - 
|---------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                 |smartlabel_url                                                                                                           |
|---------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 탈지유, 액상당(설탕, 물), 물, 계란 노른자, 설탕, 구아검, 바닐라 추출물, 바닐라 빈, 카라기난. |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840400058-0002-en-US-1671461174511/index.html#nutrition |
|---------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:25 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 11:56:25 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 11:56:25 [selectVariantSourcing:135] - ==> Parameters: 30013(Long)
[INFO ] 25-09-26 11:56:25 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30013
ORDER BY vs.sort_order

[INFO ] 25-09-26 11:56:26 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:26 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 11:56:26 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 11:56:26 [selectVariantCerts:135] - ==> Parameters: 30013(Long)
[INFO ] 25-09-26 11:56:26 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30013
ORDER BY vc.sort_order

[INFO ] 25-09-26 11:56:26 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 11:56:26 [selectVariantCerts:135] - <==      Total: 1
[DEBUG] 25-09-26 11:56:26 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 11:56:26 [selectRecommendations:135] - ==> Parameters: 30013(Long)
[INFO ] 25-09-26 11:56:26 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30013
ORDER BY r.slot

[INFO ] 25-09-26 11:56:26 [resultsettable:610] - 
|------|---------------------------------------|-------------|-------|----------------|--------|-----------------------------------------------------------------------------------|
|id    |slug                                   |name_ko      |is_new |list_slug       |name_ko |url                                                                                |
|------|---------------------------------------|-------------|-------|----------------|--------|-----------------------------------------------------------------------------------|
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우  |false  |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png  |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키  |false  |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png        |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈! |false  |ice-cream-pints |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png |
|------|---------------------------------------|-------------|-------|----------------|--------|-----------------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:26 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 11:56:26 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 11:56:26 [selectAvailableCategories:135] - ==> Parameters: 20013(Long)
[INFO ] 25-09-26 11:56:26 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20013
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 11:56:26 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30013 |
|SCOOP |scoop-shop |스쿱 샵    |30041 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 11:56:26 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 11:56:26 [MyInterceptor:122] - running time: 158(ms)
[INFO ] 25-09-26 11:56:34 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:56:34 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:56:34 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[INFO ] 25-09-26 11:56:34 [MyInterceptor:101] - - REFERER : time=8552, url=http://localhost:8080/flavours/vanilla-ice-cream/pint
[DEBUG] 25-09-26 11:56:34 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 11:56:34 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 11:56:34 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 11:56:34 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:34 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 11:56:34 [MyInterceptor:122] - running time: 154(ms)
[INFO ] 25-09-26 11:56:36 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:56:36 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:56:36 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 11:56:36 [MyInterceptor:101] - - REFERER : time=1637, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 11:56:36 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 11:56:36 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 11:56:36 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 11:56:36 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 11:56:36 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 11:56:36 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 11:56:36 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 11:56:36 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 11:56:36 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 11:56:36 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 11:56:36 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 11:56:36 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 11:56:36 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 11:56:36 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 11:56:36 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 11:56:36 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 11:56:36 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 11:56:36 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 11:56:36 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:36 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 11:56:36 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 11:56:36 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 11:56:36 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 11:56:36 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 11:56:36 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 11:56:36 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 11:56:36 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 11:56:36 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 11:56:36 [resultsettable:610] - 
|------|----------------------------------|------------|-------|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:36 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 11:56:36 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 11:56:36 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 11:56:36 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 11:56:36 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 11:56:36 [selectAvailableCategories:135] - <==      Total: 1
[INFO ] 25-09-26 11:56:36 [MyInterceptor:122] - running time: 102(ms)
[INFO ] 25-09-26 11:56:45 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:56:45 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:56:45 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[INFO ] 25-09-26 11:56:45 [MyInterceptor:101] - - REFERER : time=8885, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 11:56:45 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 11:56:45 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 11:56:45 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 11:56:45 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:45 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 11:56:45 [MyInterceptor:122] - running time: 61(ms)
[INFO ] 25-09-26 11:56:47 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:56:47 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:56:47 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/chunky-monkey-ice-cream/pint
[INFO ] 25-09-26 11:56:47 [MyInterceptor:101] - - REFERER : time=1602, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 11:56:47 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 11:56:47 [selectVariantDetail:135] - ==> Parameters: chunky-monkey-ice-cream(String), pint(String)
[INFO ] 25-09-26 11:56:47 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'chunky-monkey-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 11:56:47 [resultsettable:610] - 
|------|------|------------------------|--------|-------------------------|-------|-----|----------------|--------|
|id    |id    |slug                    |name_ko |description_ko           |is_new |slug |list_slug       |name_ko |
|------|------|------------------------|--------|-------------------------|-------|-----|----------------|--------|
|30001 |20001 |chunky-monkey-ice-cream |청키 몽키®  |호두 퍼지 덩어리가 들어간 바나나 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|------------------------|--------|-------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 11:56:47 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 11:56:47 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 11:56:47 [selectVariantMedia:135] - ==> Parameters: 30001(Long)
[INFO ] 25-09-26 11:56:47 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30001
ORDER BY role, sort_order

[INFO ] 25-09-26 11:56:47 [resultsettable:610] - 
|----------|---------------------------------------------------------------------------|-------------|
|role      |url                                                                        |alt_ko       |
|----------|---------------------------------------------------------------------------|-------------|
|PACKSHOT  |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png        |청키 몽키 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/chunky-monkey-ice-cream/pint/gallery/01-tower.avif    |null         |
|GALLERY   |/assets/img/flavours/chunky-monkey-ice-cream/pint/gallery/02-envirolid.jpg |null         |
|GALLERY   |/assets/img/flavours/chunky-monkey-ice-cream/pint/gallery/03-scooped.jpg   |null         |
|GALLERY   |/assets/img/flavours/chunky-monkey-ice-cream/pint/gallery/04-enviro.jpg    |null         |
|GALLERY   |/assets/img/flavours/chunky-monkey-ice-cream/pint/gallery/05-hero.jpg      |null         |
|NUTRITION |/assets/img/flavours/chunky-monkey-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml  |
|----------|---------------------------------------------------------------------------|-------------|

[DEBUG] 25-09-26 11:56:47 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 11:56:47 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 11:56:47 [selectVariantIngredients:135] - ==> Parameters: 30001(Long)
[INFO ] 25-09-26 11:56:47 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30001

[INFO ] 25-09-26 11:56:47 [resultsettable:610] - 
|-----------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                             |smartlabel_url                                                                                                 |
|-----------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
|크림, 탈지우유, 설탕시럽(설탕, 정제수), 정제수, 설탕, 코코아, 코코아분말, 대두유, 난황, 수수설탕, 전란, 전란액, 소금, 구아검, 카라기난, 바닐라추출물, 맥아분말, 탄산수소나트륨 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100354-0003-en-US-1665758042857/index.html |
|-----------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:47 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 11:56:47 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 11:56:47 [selectVariantSourcing:135] - ==> Parameters: 30001(Long)
[INFO ] 25-09-26 11:56:47 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30001
ORDER BY vs.sort_order

[INFO ] 25-09-26 11:56:47 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:47 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 11:56:47 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 11:56:47 [selectVariantCerts:135] - ==> Parameters: 30001(Long)
[INFO ] 25-09-26 11:56:47 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30001
ORDER BY vc.sort_order

[INFO ] 25-09-26 11:56:47 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 11:56:47 [selectVariantCerts:135] - <==      Total: 1
[DEBUG] 25-09-26 11:56:47 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 11:56:47 [selectRecommendations:135] - ==> Parameters: 30001(Long)
[INFO ] 25-09-26 11:56:47 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30001
ORDER BY r.slot

[INFO ] 25-09-26 11:56:47 [resultsettable:610] - 
|------|-------------------------------------|------------|-------|----------------|--------|---------------------------------------------------------------------------------|
|id    |slug                                 |name_ko     |is_new |list_slug       |name_ko |url                                                                              |
|------|-------------------------------------|------------|-------|----------------|--------|---------------------------------------------------------------------------------|
|30010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |false  |ice-cream-pints |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png |
|30006 |cherry-garcia-ice-cream              |체리 가르시아®    |false  |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png              |
|30011 |peanut-butter-cup-ice-cream          |피넛 버터 컵     |false  |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png          |
|------|-------------------------------------|------------|-------|----------------|--------|---------------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:47 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 11:56:47 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 11:56:47 [selectAvailableCategories:135] - ==> Parameters: 20001(Long)
[INFO ] 25-09-26 11:56:47 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20001
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 11:56:47 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30001 |
|SCOOP |scoop-shop |스쿱 샵    |30035 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 11:56:47 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 11:56:47 [MyInterceptor:122] - running time: 93(ms)
[INFO ] 25-09-26 11:56:50 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:56:50 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:56:50 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[INFO ] 25-09-26 11:56:50 [MyInterceptor:101] - - REFERER : time=3265, url=http://localhost:8080/flavours/chunky-monkey-ice-cream/pint
[DEBUG] 25-09-26 11:56:50 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 11:56:50 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 11:56:50 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 11:56:50 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:50 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 11:56:50 [MyInterceptor:122] - running time: 69(ms)
[INFO ] 25-09-26 11:56:51 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:56:51 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:56:51 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup
[INFO ] 25-09-26 11:56:51 [MyInterceptor:101] - - REFERER : time=1455, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 11:56:51 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 11:56:51 [selectVariantDetail:135] - ==> Parameters: chocolate-chip-cookie-dough-ice-cream(String), mini-cup(String)
[INFO ] 25-09-26 11:56:51 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'chocolate-chip-cookie-dough-ice-cream'
  AND c.slug = 'mini-cup'

[INFO ] 25-09-26 11:56:51 [resultsettable:610] - 
|------|------|--------------------------------------|------------|-----------------------------------|-------|---------|---------------|--------|
|id    |id    |slug                                  |name_ko     |description_ko                     |is_new |slug     |list_slug      |name_ko |
|------|------|--------------------------------------|------------|-----------------------------------|-------|---------|---------------|--------|
|30022 |20005 |chocolate-chip-cookie-dough-ice-cream |초콜릿 칩 쿠키 도우 |초콜릿 칩 쿠키 도우의 퍼지 덩어리가 들어간 바닐라 아이스크림 |false  |mini-cup |ice-cream-cups |미니컵     |
|------|------|--------------------------------------|------------|-----------------------------------|-------|---------|---------------|--------|

[DEBUG] 25-09-26 11:56:51 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 11:56:51 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 11:56:51 [selectVariantMedia:135] - ==> Parameters: 30022(Long)
[INFO ] 25-09-26 11:56:51 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30022
ORDER BY role, sort_order

[INFO ] 25-09-26 11:56:51 [resultsettable:610] - 
|----------|-----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                      |alt_ko             |
|----------|-----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png    |초콜릿 칩 쿠키 도우 미니컵 팩샷 |
|GALLERY   |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/nutrition/120ml.png  |영양성분표 120ml        |
|----------|-----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 11:56:51 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 11:56:51 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 11:56:51 [selectVariantIngredients:135] - ==> Parameters: 30022(Long)
[INFO ] 25-09-26 11:56:51 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30022

[INFO ] 25-09-26 11:56:51 [resultsettable:610] - 
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                                     |smartlabel_url                                                                                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 농축 탈지유, 액상당, 물, 표백하지 않은 밀가루, 설탕, 황설탕, 계란 노른자, 버터, 대두유, 계란, 코코넛 오일, 카카오 매스, 바닐라 추출물, 코코아 파우더, 소금, 농후제(구아검, 카라기난), 당밀, 코코아 버터, 천연착향료, 천연조미료, 버터 오일, 유화제(대두 레시틴). |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840200276-0002-en-US-1701803145903/index.html#nutrition |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:51 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 11:56:51 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 11:56:51 [selectVariantSourcing:135] - ==> Parameters: 30022(Long)
[INFO ] 25-09-26 11:56:51 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30022
ORDER BY vs.sort_order

[INFO ] 25-09-26 11:56:51 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:51 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 11:56:51 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 11:56:51 [selectVariantCerts:135] - ==> Parameters: 30022(Long)
[INFO ] 25-09-26 11:56:51 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30022
ORDER BY vc.sort_order

[INFO ] 25-09-26 11:56:51 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 11:56:51 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 11:56:51 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 11:56:51 [selectRecommendations:135] - ==> Parameters: 30022(Long)
[INFO ] 25-09-26 11:56:51 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30022
ORDER BY r.slot

[INFO ] 25-09-26 11:56:51 [resultsettable:610] - 
|---|-----|--------|-------|----------|--------|----|
|id |slug |name_ko |is_new |list_slug |name_ko |url |
|---|-----|--------|-------|----------|--------|----|
|---|-----|--------|-------|----------|--------|----|

[DEBUG] 25-09-26 11:56:51 [selectRecommendations:135] - <==      Total: 0
[DEBUG] 25-09-26 11:56:51 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 11:56:51 [selectAvailableCategories:135] - ==> Parameters: 20005(Long)
[INFO ] 25-09-26 11:56:51 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20005
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 11:56:51 [resultsettable:610] - 
|---------|-----------|--------|------|
|code     |slug       |name_ko |id    |
|---------|-----------|--------|------|
|PINT     |pint       |파인트     |30005 |
|MINI_CUP |mini-cup   |미니컵     |30022 |
|SCOOP    |scoop-shop |스쿱 샵    |30033 |
|---------|-----------|--------|------|

[DEBUG] 25-09-26 11:56:51 [selectAvailableCategories:135] - <==      Total: 3
[INFO ] 25-09-26 11:56:51 [MyInterceptor:122] - running time: 81(ms)
[INFO ] 25-09-26 11:56:55 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:56:55 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:56:55 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/chocolate-ice-cream/scoop-shop
[INFO ] 25-09-26 11:56:55 [MyInterceptor:101] - - REFERER : time=3456, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 11:56:55 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 11:56:55 [selectVariantDetail:135] - ==> Parameters: chocolate-ice-cream(String), scoop-shop(String)
[INFO ] 25-09-26 11:56:55 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'chocolate-ice-cream'
  AND c.slug = 'scoop-shop'

[INFO ] 25-09-26 11:56:55 [resultsettable:610] - 
|------|------|--------------------|--------|---------------|-------|-----------|------------------------|--------|
|id    |id    |slug                |name_ko |description_ko |is_new |slug       |list_slug               |name_ko |
|------|------|--------------------|--------|---------------|-------|-----------|------------------------|--------|
|30032 |20014 |chocolate-ice-cream |초콜릿     |초콜릿 아이스크림      |true   |scoop-shop |ice-cream-shop-flavours |스쿱 샵    |
|------|------|--------------------|--------|---------------|-------|-----------|------------------------|--------|

[DEBUG] 25-09-26 11:56:55 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 11:56:55 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 11:56:55 [selectVariantMedia:135] - ==> Parameters: 30032(Long)
[INFO ] 25-09-26 11:56:55 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30032
ORDER BY role, sort_order

[INFO ] 25-09-26 11:56:55 [resultsettable:610] - 
|---------|----------------------------------------------------------------------|----------|
|role     |url                                                                   |alt_ko    |
|---------|----------------------------------------------------------------------|----------|
|PACKSHOT |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png |초콜릿 스쿱 팩샷 |
|---------|----------------------------------------------------------------------|----------|

[DEBUG] 25-09-26 11:56:55 [selectVariantMedia:135] - <==      Total: 1
[DEBUG] 25-09-26 11:56:55 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 11:56:55 [selectVariantIngredients:135] - ==> Parameters: 30032(Long)
[INFO ] 25-09-26 11:56:55 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30032

[INFO ] 25-09-26 11:56:55 [resultsettable:610] - 
|--------------------------------------------------------|---------------|
|ingredients_ko                                          |smartlabel_url |
|--------------------------------------------------------|---------------|
|유크림, 설탕시럽(설탕, 정제수), 탈지농축우유, 정제수, 코코아분말, 가당난황, 구아검, 카라기난 |null           |
|--------------------------------------------------------|---------------|

[DEBUG] 25-09-26 11:56:55 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 11:56:55 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 11:56:55 [selectVariantSourcing:135] - ==> Parameters: 30032(Long)
[INFO ] 25-09-26 11:56:55 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30032
ORDER BY vs.sort_order

[INFO ] 25-09-26 11:56:55 [resultsettable:610] - 
|---------------|-------------------------------------------------------------|
|name_ko        |icon_url                                                     |
|---------------|-------------------------------------------------------------|
|Non-GMO        |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif        |
|Cage-Free Eggs |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif |
|Fairtrade      |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif      |
|Caring Dairy   |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif   |
|---------------|-------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:55 [selectVariantSourcing:135] - <==      Total: 4
[DEBUG] 25-09-26 11:56:55 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 11:56:55 [selectVariantCerts:135] - ==> Parameters: 30032(Long)
[INFO ] 25-09-26 11:56:55 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30032
ORDER BY vc.sort_order

[INFO ] 25-09-26 11:56:55 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 11:56:55 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 11:56:55 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 11:56:55 [selectRecommendations:135] - ==> Parameters: 30032(Long)
[INFO ] 25-09-26 11:56:55 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30032
ORDER BY r.slot

[INFO ] 25-09-26 11:56:55 [resultsettable:610] - 
|------|-------------------------------------|------------|-------|------------------------|--------|---------------------------------------------------------------------------------------|
|id    |slug                                 |name_ko     |is_new |list_slug               |name_ko |url                                                                                    |
|------|-------------------------------------|------------|-------|------------------------|--------|---------------------------------------------------------------------------------------|
|30038 |mint-chocolate-chunk-ice-cream       |민트 초콜릿 청크   |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png       |
|30039 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png |
|30031 |cherry-garcia-ice-cream              |체리 가르시아®    |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png              |
|------|-------------------------------------|------------|-------|------------------------|--------|---------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:56:55 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 11:56:55 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 11:56:55 [selectAvailableCategories:135] - ==> Parameters: 20014(Long)
[INFO ] 25-09-26 11:56:55 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20014
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 11:56:55 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|SCOOP |scoop-shop |스쿱 샵    |30032 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 11:56:55 [selectAvailableCategories:135] - <==      Total: 1
[INFO ] 25-09-26 11:56:55 [MyInterceptor:122] - running time: 92(ms)
[INFO ] 25-09-26 11:57:57 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:57:57 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:57:57 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[INFO ] 25-09-26 11:57:57 [MyInterceptor:101] - - REFERER : time=62174, url=http://localhost:8080/flavours/chocolate-ice-cream/scoop-shop
[DEBUG] 25-09-26 11:57:57 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 11:57:57 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 11:57:57 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 11:57:57 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:57:57 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 11:57:57 [MyInterceptor:122] - running time: 50(ms)
[INFO ] 25-09-26 11:57:59 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:57:59 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:57:59 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 11:57:59 [MyInterceptor:101] - - REFERER : time=1987, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 11:57:59 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 11:57:59 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 11:57:59 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 11:57:59 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 11:57:59 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 11:57:59 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 11:57:59 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 11:57:59 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 11:57:59 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 11:57:59 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 11:57:59 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 11:57:59 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 11:57:59 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 11:57:59 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 11:57:59 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 11:57:59 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 11:57:59 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 11:57:59 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 11:57:59 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:57:59 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 11:57:59 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 11:57:59 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 11:57:59 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 11:57:59 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 11:57:59 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 11:57:59 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 11:57:59 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 11:57:59 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 11:57:59 [resultsettable:610] - 
|------|----------------------------------|------------|-------|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:57:59 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 11:57:59 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 11:57:59 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 11:57:59 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 11:57:59 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 11:57:59 [selectAvailableCategories:135] - <==      Total: 1
[INFO ] 25-09-26 11:57:59 [MyInterceptor:122] - running time: 106(ms)
[INFO ] 25-09-26 11:58:09 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:58:09 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:58:09 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[INFO ] 25-09-26 11:58:09 [MyInterceptor:101] - - REFERER : time=9852, url=http://localhost:8080/flavours/chocolate-ice-cream/scoop-shop
[DEBUG] 25-09-26 11:58:09 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 11:58:09 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 11:58:09 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 11:58:09 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 11:58:09 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 11:58:09 [MyInterceptor:122] - running time: 47(ms)
[ERROR] 25-09-26 11:58:37 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Ambiguous handler methods mapped for '/flavours/ice-cream-pints': {public java.lang.String kr.bhodu.benjerrysclone.controllers.FlavourController.listByCategory(java.lang.String,org.springframework.ui.Model), public java.lang.String kr.bhodu.benjerrysclone.controllers.FlavourController.productDetailDefault(java.lang.String,org.springframework.ui.Model)}] with root cause
java.lang.IllegalStateException: Ambiguous handler methods mapped for '/flavours/ice-cream-pints': {public java.lang.String kr.bhodu.benjerrysclone.controllers.FlavourController.listByCategory(java.lang.String,org.springframework.ui.Model), public java.lang.String kr.bhodu.benjerrysclone.controllers.FlavourController.productDetailDefault(java.lang.String,org.springframework.ui.Model)}
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:431)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:382)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:127)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:68)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:509)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 11:58:44 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Ambiguous handler methods mapped for '/flavours/ice-cream-pints': {public java.lang.String kr.bhodu.benjerrysclone.controllers.FlavourController.listByCategory(java.lang.String,org.springframework.ui.Model), public java.lang.String kr.bhodu.benjerrysclone.controllers.FlavourController.productDetailDefault(java.lang.String,org.springframework.ui.Model)}] with root cause
java.lang.IllegalStateException: Ambiguous handler methods mapped for '/flavours/ice-cream-pints': {public java.lang.String kr.bhodu.benjerrysclone.controllers.FlavourController.listByCategory(java.lang.String,org.springframework.ui.Model), public java.lang.String kr.bhodu.benjerrysclone.controllers.FlavourController.productDetailDefault(java.lang.String,org.springframework.ui.Model)}
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:431)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:382)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:127)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:68)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:509)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 11:59:35 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Ambiguous handler methods mapped for '/flavours/ice-cream-pints': {public java.lang.String kr.bhodu.benjerrysclone.controllers.FlavourController.listByCategory(java.lang.String,org.springframework.ui.Model), public java.lang.String kr.bhodu.benjerrysclone.controllers.FlavourController.productDetailDefault(java.lang.String,org.springframework.ui.Model)}] with root cause
java.lang.IllegalStateException: Ambiguous handler methods mapped for '/flavours/ice-cream-pints': {public java.lang.String kr.bhodu.benjerrysclone.controllers.FlavourController.listByCategory(java.lang.String,org.springframework.ui.Model), public java.lang.String kr.bhodu.benjerrysclone.controllers.FlavourController.productDetailDefault(java.lang.String,org.springframework.ui.Model)}
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:431)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:382)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:127)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:68)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:509)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[INFO ] 25-09-26 11:59:36 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 11:59:36 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 11:59:36 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 12:03:39 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 12:03:39 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 12:03:39 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 12:03:39 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 12:03:39 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 12:03:39 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 12:03:42 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 12:03:42 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 12:03:42 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[DEBUG] 25-09-26 12:03:42 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 12:03:42 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 12:03:42 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 12:03:42 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 12:03:42 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 12:03:42 [MyInterceptor:122] - running time: 65(ms)
[INFO ] 25-09-26 12:03:42 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 12:03:42 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 12:03:42 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[ERROR] 25-09-26 12:03:44 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Ambiguous handler methods mapped for '/flavours/ice-cream-cups': {public java.lang.String kr.bhodu.benjerrysclone.controllers.FlavourController.listByCategory(java.lang.String,org.springframework.ui.Model), public java.lang.String kr.bhodu.benjerrysclone.controllers.FlavourController.productDetailDefault(java.lang.String,org.springframework.ui.Model)}] with root cause
java.lang.IllegalStateException: Ambiguous handler methods mapped for '/flavours/ice-cream-cups': {public java.lang.String kr.bhodu.benjerrysclone.controllers.FlavourController.listByCategory(java.lang.String,org.springframework.ui.Model), public java.lang.String kr.bhodu.benjerrysclone.controllers.FlavourController.productDetailDefault(java.lang.String,org.springframework.ui.Model)}
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:431)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:382)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:127)
	at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:68)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:509)
	at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1284)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1065)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[INFO ] 25-09-26 12:03:44 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 12:03:44 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 12:03:44 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[WARN ] 25-09-26 12:29:41 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m3s211ms).
[INFO ] 25-09-26 12:47:59 [BenjerryscloneApplication:53] - Starting BenjerryscloneApplication using Java 17.0.14 with PID 25273 (/Users/sieun/ben-jerrys-clone/build/classes/java/main started by sieun in /Users/sieun/ben-jerrys-clone)
[DEBUG] 25-09-26 12:47:59 [BenjerryscloneApplication:54] - Running with Spring Boot v3.5.5, Spring v6.2.10
[INFO ] 25-09-26 12:47:59 [BenjerryscloneApplication:652] - No active profile set, falling back to 1 default profile: "dev"
[INFO ] 25-09-26 12:48:03 [BenjerryscloneApplication:59] - Started BenjerryscloneApplication in 4.973 seconds (process running for 5.662)
[INFO ] 25-09-26 12:48:19 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 12:48:20 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 12:48:20 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/ice-cream-pints
[DEBUG] 25-09-26 12:48:20 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 12:48:20 [existsCategorySlug:135] - ==> Parameters: ice-cream-pints(String)
[INFO ] 25-09-26 12:48:20 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'ice-cream-pints'

[INFO ] 25-09-26 12:48:20 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|1        |
|---------|

[DEBUG] 25-09-26 12:48:20 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 12:48:20 [selectByCategory:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, f.flavour_type_id as flavourTypeId, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 AND c.list_slug = ? ORDER BY (CASE WHEN f.is_new = 1 THEN 0 ELSE 1 END), f.flavour_type_id ASC, f.name_ko ASC
[DEBUG] 25-09-26 12:48:20 [selectByCategory:135] - ==> Parameters: ice-cream-pints(String)
[INFO ] 25-09-26 12:48:20 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       f.flavour_type_id as flavourTypeId,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
  AND c.list_slug = 'ice-cream-pints'
ORDER BY (CASE WHEN f.is_new = 1 THEN 0 ELSE 1 END),
         f.flavour_type_id ASC,
         f.name_ko ASC

[INFO ] 25-09-26 12:48:20 [resultsettable:610] - 
|------|---------------------------------------|-------------|-------|----------------|----------------|--------|-----------------------------------------------------------------------------------|
|id    |slug                                   |name_ko      |is_new |flavour_type_id |list_slug       |name_ko |url                                                                                |
|------|---------------------------------------|-------------|-------|----------------|----------------|--------|-----------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크  |true   |1               |ice-cream-pints |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png        |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png   |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png        |
|30013 |vanilla-ice-cream                      |바닐라          |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                      |
|30001 |chunky-monkey-ice-cream                |청키 몽키®       |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®     |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png  |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png      |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈! |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵      |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png            |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png          |
|30002 |half-baked-ice-cream                   |하프베이크드®      |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                   |
|30008 |karamel-sutra-core                     |카라멜 수트라      |false  |2               |ice-cream-pints |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                     |
|------|---------------------------------------|-------------|-------|----------------|----------------|--------|-----------------------------------------------------------------------------------|

[DEBUG] 25-09-26 12:48:20 [selectByCategory:135] - <==      Total: 13
[INFO ] 25-09-26 12:48:20 [MyInterceptor:122] - running time: 1070(ms)
[INFO ] 25-09-26 12:48:31 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 12:48:31 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 12:48:31 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/ice-cream-pints
[INFO ] 25-09-26 12:48:31 [MyInterceptor:101] - - REFERER : time=10904, url=http://localhost:8080/flavours/ice-cream-pints
[DEBUG] 25-09-26 12:48:32 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 12:48:32 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), ice-cream-pints(String)
[INFO ] 25-09-26 12:48:32 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'ice-cream-pints'

[INFO ] 25-09-26 12:48:32 [resultsettable:610] - 
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|id |id |slug |name_ko |description_ko |is_new |slug |list_slug |name_ko |
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|---|---|-----|--------|---------------|-------|-----|----------|--------|

[DEBUG] 25-09-26 12:48:32 [selectVariantDetail:135] - <==      Total: 0
[INFO ] 25-09-26 12:48:32 [MyInterceptor:122] - running time: 248(ms)
[ERROR] 25-09-26 12:48:32 [TemplateEngine:1141] - [THYMELEAF][http-nio-8080-exec-1] Exception processing template "errors/404": Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 12:48:32 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[INFO ] 25-09-26 12:49:13 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 12:49:13 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 12:49:13 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 12:49:13 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 12:49:13 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 12:49:13 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 12:49:13 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 12:49:13 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 12:49:13 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 12:49:13 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 12:49:13 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 12:49:13 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 12:49:13 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 12:49:13 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 12:49:13 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 12:49:13 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 12:49:13 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 12:49:13 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 12:49:13 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 12:49:13 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 12:49:13 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 12:49:13 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 12:49:13 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 12:49:13 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 12:49:13 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 12:49:13 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 12:49:13 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 12:49:13 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 12:49:13 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 12:49:13 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 12:49:13 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 12:49:13 [resultsettable:610] - 
|------|----------------------------------|------------|-------|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 12:49:13 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 12:49:13 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 12:49:13 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 12:49:13 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 12:49:13 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 12:49:13 [selectAvailableCategories:135] - <==      Total: 1
[INFO ] 25-09-26 12:49:13 [MyInterceptor:122] - running time: 238(ms)
[INFO ] 25-09-26 13:01:57 [BenjerryscloneApplication:53] - Starting BenjerryscloneApplication using Java 17.0.14 with PID 26256 (/Users/sieun/ben-jerrys-clone/build/classes/java/main started by sieun in /Users/sieun/ben-jerrys-clone)
[DEBUG] 25-09-26 13:01:57 [BenjerryscloneApplication:54] - Running with Spring Boot v3.5.5, Spring v6.2.10
[INFO ] 25-09-26 13:01:57 [BenjerryscloneApplication:652] - No active profile set, falling back to 1 default profile: "dev"
[INFO ] 25-09-26 13:02:01 [BenjerryscloneApplication:59] - Started BenjerryscloneApplication in 4.76 seconds (process running for 5.357)
[INFO ] 25-09-26 13:04:21 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:04:21 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:04:21 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/ice-cream-pints
[DEBUG] 25-09-26 13:04:22 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 13:04:22 [existsCategorySlug:135] - ==> Parameters: ice-cream-pints(String)
[INFO ] 25-09-26 13:04:22 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'ice-cream-pints'

[INFO ] 25-09-26 13:04:22 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|1        |
|---------|

[DEBUG] 25-09-26 13:04:22 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 13:04:22 [selectByCategory:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, f.flavour_type_id as flavourTypeId, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 AND c.list_slug = ? ORDER BY (CASE WHEN f.is_new = 1 THEN 0 ELSE 1 END), f.flavour_type_id ASC, f.name_ko ASC
[DEBUG] 25-09-26 13:04:22 [selectByCategory:135] - ==> Parameters: ice-cream-pints(String)
[INFO ] 25-09-26 13:04:22 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       f.flavour_type_id as flavourTypeId,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
  AND c.list_slug = 'ice-cream-pints'
ORDER BY (CASE WHEN f.is_new = 1 THEN 0 ELSE 1 END),
         f.flavour_type_id ASC,
         f.name_ko ASC

[INFO ] 25-09-26 13:04:22 [resultsettable:610] - 
|------|---------------------------------------|-------------|-------|----------------|----------------|--------|-----------------------------------------------------------------------------------|
|id    |slug                                   |name_ko      |is_new |flavour_type_id |list_slug       |name_ko |url                                                                                |
|------|---------------------------------------|-------------|-------|----------------|----------------|--------|-----------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크  |true   |1               |ice-cream-pints |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png        |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png   |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png        |
|30013 |vanilla-ice-cream                      |바닐라          |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                      |
|30001 |chunky-monkey-ice-cream                |청키 몽키®       |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®     |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png  |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png      |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈! |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵      |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png            |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png          |
|30002 |half-baked-ice-cream                   |하프베이크드®      |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                   |
|30008 |karamel-sutra-core                     |카라멜 수트라      |false  |2               |ice-cream-pints |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                     |
|------|---------------------------------------|-------------|-------|----------------|----------------|--------|-----------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:04:22 [selectByCategory:135] - <==      Total: 13
[INFO ] 25-09-26 13:04:22 [MyInterceptor:122] - running time: 1055(ms)
[INFO ] 25-09-26 13:04:28 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:04:28 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:04:28 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/ice-cream-pints
[INFO ] 25-09-26 13:04:28 [MyInterceptor:101] - - REFERER : time=5839, url=http://localhost:8080/flavours/ice-cream-pints
[DEBUG] 25-09-26 13:04:28 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 13:04:28 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), ice-cream-pints(String)
[INFO ] 25-09-26 13:04:28 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'ice-cream-pints'

[INFO ] 25-09-26 13:04:28 [resultsettable:610] - 
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|id |id |slug |name_ko |description_ko |is_new |slug |list_slug |name_ko |
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|---|---|-----|--------|---------------|-------|-----|----------|--------|

[DEBUG] 25-09-26 13:04:28 [selectVariantDetail:135] - <==      Total: 0
[INFO ] 25-09-26 13:04:28 [MyInterceptor:122] - running time: 172(ms)
[ERROR] 25-09-26 13:04:28 [TemplateEngine:1141] - [THYMELEAF][http-nio-8080-exec-7] Exception processing template "errors/404": Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 13:04:28 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[INFO ] 25-09-26 13:12:19 [BenjerryscloneApplication:53] - Starting BenjerryscloneApplication using Java 17.0.14 with PID 27032 (/Users/sieun/ben-jerrys-clone/build/classes/java/main started by sieun in /Users/sieun/ben-jerrys-clone)
[DEBUG] 25-09-26 13:12:19 [BenjerryscloneApplication:54] - Running with Spring Boot v3.5.5, Spring v6.2.10
[INFO ] 25-09-26 13:12:19 [BenjerryscloneApplication:652] - No active profile set, falling back to 1 default profile: "dev"
[INFO ] 25-09-26 13:12:23 [BenjerryscloneApplication:59] - Started BenjerryscloneApplication in 5.028 seconds (process running for 5.643)
[INFO ] 25-09-26 13:12:54 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:12:54 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:12:54 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/ice-cream-pints
[DEBUG] 25-09-26 13:12:55 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 13:12:55 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), ice-cream-pints(String)
[INFO ] 25-09-26 13:12:55 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'ice-cream-pints'

[INFO ] 25-09-26 13:12:55 [resultsettable:610] - 
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|id |id |slug |name_ko |description_ko |is_new |slug |list_slug |name_ko |
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|---|---|-----|--------|---------------|-------|-----|----------|--------|

[DEBUG] 25-09-26 13:12:55 [selectVariantDetail:135] - <==      Total: 0
[INFO ] 25-09-26 13:12:55 [MyInterceptor:122] - running time: 1031(ms)
[ERROR] 25-09-26 13:12:55 [TemplateEngine:1141] - [THYMELEAF][http-nio-8080-exec-1] Exception processing template "errors/404": Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 13:12:55 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[INFO ] 25-09-26 13:12:56 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:12:56 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:12:56 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/ice-cream-pints
[INFO ] 25-09-26 13:12:56 [MyInterceptor:101] - - REFERER : time=1211, url=http://localhost:8080/flavours/ice-cream-pints
[DEBUG] 25-09-26 13:12:56 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 13:12:56 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), ice-cream-pints(String)
[INFO ] 25-09-26 13:12:56 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'ice-cream-pints'

[INFO ] 25-09-26 13:12:56 [resultsettable:610] - 
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|id |id |slug |name_ko |description_ko |is_new |slug |list_slug |name_ko |
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|---|---|-----|--------|---------------|-------|-----|----------|--------|

[DEBUG] 25-09-26 13:12:56 [selectVariantDetail:135] - <==      Total: 0
[INFO ] 25-09-26 13:12:56 [MyInterceptor:122] - running time: 140(ms)
[ERROR] 25-09-26 13:12:56 [TemplateEngine:1141] - [THYMELEAF][http-nio-8080-exec-3] Exception processing template "errors/404": Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 13:12:56 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[INFO ] 25-09-26 13:14:55 [BenjerryscloneApplication:53] - Starting BenjerryscloneApplication using Java 17.0.14 with PID 27239 (/Users/sieun/ben-jerrys-clone/build/classes/java/main started by sieun in /Users/sieun/ben-jerrys-clone)
[DEBUG] 25-09-26 13:14:55 [BenjerryscloneApplication:54] - Running with Spring Boot v3.5.5, Spring v6.2.10
[INFO ] 25-09-26 13:14:55 [BenjerryscloneApplication:652] - No active profile set, falling back to 1 default profile: "dev"
[INFO ] 25-09-26 13:14:59 [BenjerryscloneApplication:59] - Started BenjerryscloneApplication in 4.992 seconds (process running for 5.599)
[INFO ] 25-09-26 13:15:06 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:15:06 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:15:06 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/ice-cream-pints
[DEBUG] 25-09-26 13:15:06 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 13:15:07 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), ice-cream-pints(String)
[INFO ] 25-09-26 13:15:07 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'ice-cream-pints'

[INFO ] 25-09-26 13:15:07 [resultsettable:610] - 
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|id |id |slug |name_ko |description_ko |is_new |slug |list_slug |name_ko |
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|---|---|-----|--------|---------------|-------|-----|----------|--------|

[DEBUG] 25-09-26 13:15:07 [selectVariantDetail:135] - <==      Total: 0
[INFO ] 25-09-26 13:15:07 [MyInterceptor:122] - running time: 939(ms)
[ERROR] 25-09-26 13:15:07 [TemplateEngine:1141] - [THYMELEAF][http-nio-8080-exec-1] Exception processing template "errors/404": Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 13:15:07 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[INFO ] 25-09-26 13:15:08 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:15:08 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:15:08 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/ice-cream-pints
[INFO ] 25-09-26 13:15:08 [MyInterceptor:101] - - REFERER : time=1767, url=http://localhost:8080/flavours/ice-cream-pints
[DEBUG] 25-09-26 13:15:08 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 13:15:08 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), ice-cream-pints(String)
[INFO ] 25-09-26 13:15:08 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'ice-cream-pints'

[INFO ] 25-09-26 13:15:08 [resultsettable:610] - 
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|id |id |slug |name_ko |description_ko |is_new |slug |list_slug |name_ko |
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|---|---|-----|--------|---------------|-------|-----|----------|--------|

[DEBUG] 25-09-26 13:15:08 [selectVariantDetail:135] - <==      Total: 0
[INFO ] 25-09-26 13:15:08 [MyInterceptor:122] - running time: 152(ms)
[ERROR] 25-09-26 13:15:08 [TemplateEngine:1141] - [THYMELEAF][http-nio-8080-exec-2] Exception processing template "errors/404": Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 13:15:08 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[INFO ] 25-09-26 13:15:11 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:15:11 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:15:11 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/ice-cream-pints
[INFO ] 25-09-26 13:15:11 [MyInterceptor:101] - - REFERER : time=2743, url=http://localhost:8080/flavours/ice-cream-pints
[DEBUG] 25-09-26 13:15:11 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 13:15:11 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), ice-cream-pints(String)
[INFO ] 25-09-26 13:15:11 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'ice-cream-pints'

[INFO ] 25-09-26 13:15:11 [resultsettable:610] - 
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|id |id |slug |name_ko |description_ko |is_new |slug |list_slug |name_ko |
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|---|---|-----|--------|---------------|-------|-----|----------|--------|

[DEBUG] 25-09-26 13:15:11 [selectVariantDetail:135] - <==      Total: 0
[INFO ] 25-09-26 13:15:11 [MyInterceptor:122] - running time: 99(ms)
[ERROR] 25-09-26 13:15:11 [TemplateEngine:1141] - [THYMELEAF][http-nio-8080-exec-4] Exception processing template "errors/404": Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 13:15:11 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[INFO ] 25-09-26 13:15:20 [BenjerryscloneApplication:53] - Starting BenjerryscloneApplication using Java 17.0.14 with PID 27285 (/Users/sieun/ben-jerrys-clone/build/classes/java/main started by sieun in /Users/sieun/ben-jerrys-clone)
[DEBUG] 25-09-26 13:15:20 [BenjerryscloneApplication:54] - Running with Spring Boot v3.5.5, Spring v6.2.10
[INFO ] 25-09-26 13:15:20 [BenjerryscloneApplication:652] - No active profile set, falling back to 1 default profile: "dev"
[INFO ] 25-09-26 13:15:24 [BenjerryscloneApplication:59] - Started BenjerryscloneApplication in 5.03 seconds (process running for 5.638)
[INFO ] 25-09-26 13:16:01 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:02 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:02 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[DEBUG] 25-09-26 13:16:02 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 13:16:02 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 13:16:02 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 13:16:02 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:02 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 13:16:02 [MyInterceptor:122] - running time: 1046(ms)
[INFO ] 25-09-26 13:16:08 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:08 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:08 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 13:16:08 [MyInterceptor:101] - - REFERER : time=5243, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 13:16:08 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 13:16:08 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 13:16:08 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 13:16:08 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 13:16:08 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:08 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 13:16:08 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 13:16:08 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 13:16:08 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 13:16:08 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 13:16:08 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 13:16:08 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 13:16:08 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 13:16:08 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 13:16:08 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:08 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 13:16:08 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 13:16:08 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 13:16:08 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:08 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 13:16:08 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 13:16:08 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 13:16:08 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 13:16:08 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 13:16:08 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 13:16:08 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 13:16:08 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 13:16:08 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 13:16:08 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:08 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 13:16:08 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 13:16:08 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 13:16:08 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 13:16:08 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 13:16:08 [selectAvailableCategories:135] - <==      Total: 1
[INFO ] 25-09-26 13:16:08 [MyInterceptor:122] - running time: 349(ms)
[INFO ] 25-09-26 13:16:13 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:13 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:13 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[INFO ] 25-09-26 13:16:13 [MyInterceptor:101] - - REFERER : time=4887, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 13:16:13 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 13:16:13 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 13:16:13 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 13:16:13 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:13 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 13:16:13 [MyInterceptor:122] - running time: 121(ms)
[INFO ] 25-09-26 13:16:14 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:15 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:15 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/vanilla-ice-cream/pint
[INFO ] 25-09-26 13:16:15 [MyInterceptor:101] - - REFERER : time=1510, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 13:16:15 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 13:16:15 [selectVariantDetail:135] - ==> Parameters: vanilla-ice-cream(String), pint(String)
[INFO ] 25-09-26 13:16:15 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'vanilla-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 13:16:15 [resultsettable:610] - 
|------|------|------------------|--------|---------------|-------|-----|----------------|--------|
|id    |id    |slug              |name_ko |description_ko |is_new |slug |list_slug       |name_ko |
|------|------|------------------|--------|---------------|-------|-----|----------------|--------|
|30013 |20013 |vanilla-ice-cream |바닐라     |바닐라 아이스크림      |false  |pint |ice-cream-pints |파인트     |
|------|------|------------------|--------|---------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 13:16:15 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:15 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 13:16:15 [selectVariantMedia:135] - ==> Parameters: 30013(Long)
[INFO ] 25-09-26 13:16:15 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30013
ORDER BY role, sort_order

[INFO ] 25-09-26 13:16:15 [resultsettable:610] - 
|----------|---------------------------------------------------------------------|------------|
|role      |url                                                                  |alt_ko      |
|----------|---------------------------------------------------------------------|------------|
|PACKSHOT  |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png        |바닐라 파인트 팩샷  |
|GALLERY   |/assets/img/flavours/vanilla-ice-cream/pint/gallery/01-tower.png     |null        |
|GALLERY   |/assets/img/flavours/vanilla-ice-cream/pint/gallery/02-envirolid.jpg |null        |
|GALLERY   |/assets/img/flavours/vanilla-ice-cream/pint/gallery/03-scooped.jpg   |null        |
|GALLERY   |/assets/img/flavours/vanilla-ice-cream/pint/gallery/04-enviro.jpg    |null        |
|GALLERY   |/assets/img/flavours/vanilla-ice-cream/pint/gallery/05-hero.jpg      |null        |
|NUTRITION |/assets/img/flavours/vanilla-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml |
|----------|---------------------------------------------------------------------|------------|

[DEBUG] 25-09-26 13:16:15 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 13:16:15 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 13:16:15 [selectVariantIngredients:135] - ==> Parameters: 30013(Long)
[INFO ] 25-09-26 13:16:15 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30013

[INFO ] 25-09-26 13:16:15 [resultsettable:610] - 
|---------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                 |smartlabel_url                                                                                                           |
|---------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 탈지유, 액상당(설탕, 물), 물, 계란 노른자, 설탕, 구아검, 바닐라 추출물, 바닐라 빈, 카라기난. |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840400058-0002-en-US-1671461174511/index.html#nutrition |
|---------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:15 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:15 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 13:16:15 [selectVariantSourcing:135] - ==> Parameters: 30013(Long)
[INFO ] 25-09-26 13:16:15 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30013
ORDER BY vs.sort_order

[INFO ] 25-09-26 13:16:15 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:15 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 13:16:15 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 13:16:15 [selectVariantCerts:135] - ==> Parameters: 30013(Long)
[INFO ] 25-09-26 13:16:15 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30013
ORDER BY vc.sort_order

[INFO ] 25-09-26 13:16:15 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 13:16:15 [selectVariantCerts:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:15 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 13:16:15 [selectRecommendations:135] - ==> Parameters: 30013(Long)
[INFO ] 25-09-26 13:16:15 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30013
ORDER BY r.slot

[INFO ] 25-09-26 13:16:15 [resultsettable:610] - 
|------|---------------------------------------|-------------|-------|-----|----------------|--------|-----------------------------------------------------------------------------------|
|id    |slug                                   |name_ko      |is_new |slug |list_slug       |name_ko |url                                                                                |
|------|---------------------------------------|-------------|-------|-----|----------------|--------|-----------------------------------------------------------------------------------|
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우  |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png  |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키  |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png        |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈! |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png |
|------|---------------------------------------|-------------|-------|-----|----------------|--------|-----------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:15 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 13:16:15 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 13:16:15 [selectAvailableCategories:135] - ==> Parameters: 20013(Long)
[INFO ] 25-09-26 13:16:15 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20013
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 13:16:15 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30013 |
|SCOOP |scoop-shop |스쿱 샵    |30041 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 13:16:15 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 13:16:15 [MyInterceptor:122] - running time: 122(ms)
[INFO ] 25-09-26 13:16:17 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:18 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:18 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 13:16:18 [MyInterceptor:101] - - REFERER : time=2889, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 13:16:18 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 13:16:18 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 13:16:18 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 13:16:18 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 13:16:18 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:18 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 13:16:18 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 13:16:18 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 13:16:18 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 13:16:18 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 13:16:18 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 13:16:18 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 13:16:18 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 13:16:18 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 13:16:18 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:18 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 13:16:18 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 13:16:18 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 13:16:18 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:18 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 13:16:18 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 13:16:18 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 13:16:18 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 13:16:18 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 13:16:18 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 13:16:18 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 13:16:18 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 13:16:18 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 13:16:18 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:18 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 13:16:18 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 13:16:18 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 13:16:18 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 13:16:18 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 13:16:18 [selectAvailableCategories:135] - <==      Total: 1
[INFO ] 25-09-26 13:16:18 [MyInterceptor:122] - running time: 120(ms)
[INFO ] 25-09-26 13:16:21 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:21 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:21 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[INFO ] 25-09-26 13:16:21 [MyInterceptor:101] - - REFERER : time=3381, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 13:16:21 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 13:16:21 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 13:16:21 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 13:16:21 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:21 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 13:16:21 [MyInterceptor:122] - running time: 84(ms)
[INFO ] 25-09-26 13:16:24 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:24 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:24 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/ice-cream-shop-flavours
[INFO ] 25-09-26 13:16:24 [MyInterceptor:101] - - REFERER : time=2952, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 13:16:24 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 13:16:24 [existsCategorySlug:135] - ==> Parameters: ice-cream-shop-flavours(String)
[INFO ] 25-09-26 13:16:24 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'ice-cream-shop-flavours'

[INFO ] 25-09-26 13:16:24 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|1        |
|---------|

[DEBUG] 25-09-26 13:16:24 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:24 [selectByCategory:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, f.flavour_type_id as flavourTypeId, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 AND c.list_slug = ? ORDER BY (CASE WHEN f.is_new = 1 THEN 0 ELSE 1 END), f.flavour_type_id ASC, f.name_ko ASC
[DEBUG] 25-09-26 13:16:24 [selectByCategory:135] - ==> Parameters: ice-cream-shop-flavours(String)
[INFO ] 25-09-26 13:16:24 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       f.flavour_type_id as flavourTypeId,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
  AND c.list_slug = 'ice-cream-shop-flavours'
ORDER BY (CASE WHEN f.is_new = 1 THEN 0 ELSE 1 END),
         f.flavour_type_id ASC,
         f.name_ko ASC

[INFO ] 25-09-26 13:16:24 [resultsettable:610] - 
|------|--------------------------------------|----------------|-------|----------------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                  |name_ko         |is_new |flavour_type_id |list_slug               |name_ko |url                                                                                     |
|------|--------------------------------------|----------------|-------|----------------|------------------------|--------|----------------------------------------------------------------------------------------|
|30032 |chocolate-ice-cream                   |초콜릿             |true   |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream  |뉴욕 수퍼 퍼지 청크     |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream        |민트 초콜릿 청크       |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                     |바닐라             |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream     |스위트 크림&쿠키       |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                  |스트로베리           |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream               |청키 몽키®          |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream               |체리 가르시아®        |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream |초콜릿 칩 쿠키 도우     |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream     |초콜릿 퍼지 브라우니     |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                  |하프베이크드®         |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                       |레모네이드 소르베       |false  |3               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet      |베리베리 엑스트라 오디너리® |false  |3               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|--------------------------------------|----------------|-------|----------------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:24 [selectByCategory:135] - <==      Total: 13
[INFO ] 25-09-26 13:16:24 [MyInterceptor:122] - running time: 78(ms)
[INFO ] 25-09-26 13:16:26 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:26 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:26 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/chocolate-ice-cream/
[INFO ] 25-09-26 13:16:26 [MyInterceptor:101] - - REFERER : time=1609, url=http://localhost:8080/flavours/ice-cream-shop-flavours
[DEBUG] 25-09-26 13:16:26 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 13:16:26 [existsCategorySlug:135] - ==> Parameters: chocolate-ice-cream(String)
[INFO ] 25-09-26 13:16:26 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'chocolate-ice-cream'

[INFO ] 25-09-26 13:16:26 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|0        |
|---------|

[DEBUG] 25-09-26 13:16:26 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:26 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 13:16:26 [selectVariantDetailDefault:135] - ==> Parameters: chocolate-ice-cream(String)
[INFO ] 25-09-26 13:16:26 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'chocolate-ice-cream'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 13:16:26 [resultsettable:610] - 
|------|------|--------------------|--------|---------------|-------|-----------|------------------------|--------|
|id    |id    |slug                |name_ko |description_ko |is_new |slug       |list_slug               |name_ko |
|------|------|--------------------|--------|---------------|-------|-----------|------------------------|--------|
|30032 |20014 |chocolate-ice-cream |초콜릿     |초콜릿 아이스크림      |true   |scoop-shop |ice-cream-shop-flavours |스쿱 샵    |
|------|------|--------------------|--------|---------------|-------|-----------|------------------------|--------|

[DEBUG] 25-09-26 13:16:26 [selectVariantDetailDefault:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:26 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 13:16:26 [selectVariantMedia:135] - ==> Parameters: 30032(Long)
[INFO ] 25-09-26 13:16:26 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30032
ORDER BY role, sort_order

[INFO ] 25-09-26 13:16:26 [resultsettable:610] - 
|---------|----------------------------------------------------------------------|----------|
|role     |url                                                                   |alt_ko    |
|---------|----------------------------------------------------------------------|----------|
|PACKSHOT |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png |초콜릿 스쿱 팩샷 |
|---------|----------------------------------------------------------------------|----------|

[DEBUG] 25-09-26 13:16:26 [selectVariantMedia:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:26 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 13:16:26 [selectVariantIngredients:135] - ==> Parameters: 30032(Long)
[INFO ] 25-09-26 13:16:26 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30032

[INFO ] 25-09-26 13:16:26 [resultsettable:610] - 
|--------------------------------------------------------|---------------|
|ingredients_ko                                          |smartlabel_url |
|--------------------------------------------------------|---------------|
|유크림, 설탕시럽(설탕, 정제수), 탈지농축우유, 정제수, 코코아분말, 가당난황, 구아검, 카라기난 |null           |
|--------------------------------------------------------|---------------|

[DEBUG] 25-09-26 13:16:26 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:26 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 13:16:26 [selectVariantSourcing:135] - ==> Parameters: 30032(Long)
[INFO ] 25-09-26 13:16:26 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30032
ORDER BY vs.sort_order

[INFO ] 25-09-26 13:16:26 [resultsettable:610] - 
|---------------|-------------------------------------------------------------|
|name_ko        |icon_url                                                     |
|---------------|-------------------------------------------------------------|
|Non-GMO        |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif        |
|Cage-Free Eggs |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif |
|Fairtrade      |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif      |
|Caring Dairy   |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif   |
|---------------|-------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:26 [selectVariantSourcing:135] - <==      Total: 4
[DEBUG] 25-09-26 13:16:26 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 13:16:26 [selectVariantCerts:135] - ==> Parameters: 30032(Long)
[INFO ] 25-09-26 13:16:26 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30032
ORDER BY vc.sort_order

[INFO ] 25-09-26 13:16:26 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 13:16:26 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 13:16:26 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 13:16:26 [selectRecommendations:135] - ==> Parameters: 30032(Long)
[INFO ] 25-09-26 13:16:26 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30032
ORDER BY r.slot

[INFO ] 25-09-26 13:16:26 [resultsettable:610] - 
|------|-------------------------------------|------------|-------|-----------|------------------------|--------|---------------------------------------------------------------------------------------|
|id    |slug                                 |name_ko     |is_new |slug       |list_slug               |name_ko |url                                                                                    |
|------|-------------------------------------|------------|-------|-----------|------------------------|--------|---------------------------------------------------------------------------------------|
|30038 |mint-chocolate-chunk-ice-cream       |민트 초콜릿 청크   |false  |scoop-shop |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png       |
|30039 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |false  |scoop-shop |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png |
|30031 |cherry-garcia-ice-cream              |체리 가르시아®    |false  |scoop-shop |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png              |
|------|-------------------------------------|------------|-------|-----------|------------------------|--------|---------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:26 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 13:16:26 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 13:16:26 [selectAvailableCategories:135] - ==> Parameters: 20014(Long)
[INFO ] 25-09-26 13:16:26 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20014
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 13:16:26 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|SCOOP |scoop-shop |스쿱 샵    |30032 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 13:16:26 [selectAvailableCategories:135] - <==      Total: 1
[INFO ] 25-09-26 13:16:26 [MyInterceptor:122] - running time: 85(ms)
[INFO ] 25-09-26 13:16:31 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:31 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:31 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[INFO ] 25-09-26 13:16:31 [MyInterceptor:101] - - REFERER : time=5553, url=http://localhost:8080/flavours/chocolate-ice-cream/
[DEBUG] 25-09-26 13:16:31 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 13:16:31 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 13:16:31 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 13:16:31 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:31 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 13:16:31 [MyInterceptor:122] - running time: 130(ms)
[INFO ] 25-09-26 13:16:33 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:33 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:33 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 13:16:33 [MyInterceptor:101] - - REFERER : time=1601, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 13:16:33 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 13:16:33 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), pint(String)
[INFO ] 25-09-26 13:16:33 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 13:16:33 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 13:16:33 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:33 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 13:16:33 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 13:16:33 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 13:16:33 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 13:16:33 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 13:16:33 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 13:16:33 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 13:16:33 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 13:16:33 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:33 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:33 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 13:16:33 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 13:16:33 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 13:16:33 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:33 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 13:16:33 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 13:16:33 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 13:16:33 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 13:16:33 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 13:16:33 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 13:16:33 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 13:16:33 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 13:16:33 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 13:16:33 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:33 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 13:16:33 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 13:16:33 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 13:16:33 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 13:16:33 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 13:16:33 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 13:16:33 [MyInterceptor:122] - running time: 135(ms)
[INFO ] 25-09-26 13:16:36 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:36 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:36 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop
[INFO ] 25-09-26 13:16:36 [MyInterceptor:101] - - REFERER : time=2807, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 13:16:36 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 13:16:36 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), scoop-shop(String)
[INFO ] 25-09-26 13:16:36 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'scoop-shop'

[INFO ] 25-09-26 13:16:36 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----------|------------------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug       |list_slug               |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----------|------------------------|--------|
|30039 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |scoop-shop |ice-cream-shop-flavours |스쿱 샵    |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----------|------------------------|--------|

[DEBUG] 25-09-26 13:16:36 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:36 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 13:16:36 [selectVariantMedia:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 13:16:36 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30039
ORDER BY role, sort_order

[INFO ] 25-09-26 13:16:36 [resultsettable:610] - 
|---------|------------------------------------------------------------------------------------------|------------------|
|role     |url                                                                                       |alt_ko            |
|---------|------------------------------------------------------------------------------------------|------------------|
|PACKSHOT |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png    |뉴욕 수퍼 퍼지 청크 스쿱 팩샷 |
|GALLERY  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/gallery/01-tower.png |null              |
|---------|------------------------------------------------------------------------------------------|------------------|

[DEBUG] 25-09-26 13:16:36 [selectVariantMedia:135] - <==      Total: 2
[DEBUG] 25-09-26 13:16:36 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 13:16:36 [selectVariantIngredients:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 13:16:36 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30039

[INFO ] 25-09-26 13:16:36 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                |smartlabel_url |
|----------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |null           |
|----------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 13:16:36 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:36 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 13:16:36 [selectVariantSourcing:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 13:16:36 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30039
ORDER BY vs.sort_order

[INFO ] 25-09-26 13:16:36 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:36 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 13:16:36 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 13:16:36 [selectVariantCerts:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 13:16:36 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30039
ORDER BY vc.sort_order

[INFO ] 25-09-26 13:16:36 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 13:16:36 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 13:16:36 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 13:16:36 [selectRecommendations:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 13:16:36 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30039
ORDER BY r.slot

[INFO ] 25-09-26 13:16:36 [resultsettable:610] - 
|---|-----|--------|-------|-----|----------|--------|----|
|id |slug |name_ko |is_new |slug |list_slug |name_ko |url |
|---|-----|--------|-------|-----|----------|--------|----|
|---|-----|--------|-------|-----|----------|--------|----|

[DEBUG] 25-09-26 13:16:36 [selectRecommendations:135] - <==      Total: 0
[DEBUG] 25-09-26 13:16:36 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 13:16:36 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 13:16:36 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 13:16:36 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 13:16:36 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 13:16:36 [MyInterceptor:122] - running time: 85(ms)
[INFO ] 25-09-26 13:16:40 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:40 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:40 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/ice-cream-shop-flavours
[INFO ] 25-09-26 13:16:40 [MyInterceptor:101] - - REFERER : time=4296, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop
[DEBUG] 25-09-26 13:16:40 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 13:16:40 [existsCategorySlug:135] - ==> Parameters: ice-cream-shop-flavours(String)
[INFO ] 25-09-26 13:16:40 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'ice-cream-shop-flavours'

[INFO ] 25-09-26 13:16:41 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|1        |
|---------|

[DEBUG] 25-09-26 13:16:41 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:41 [selectByCategory:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, f.flavour_type_id as flavourTypeId, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 AND c.list_slug = ? ORDER BY (CASE WHEN f.is_new = 1 THEN 0 ELSE 1 END), f.flavour_type_id ASC, f.name_ko ASC
[DEBUG] 25-09-26 13:16:41 [selectByCategory:135] - ==> Parameters: ice-cream-shop-flavours(String)
[INFO ] 25-09-26 13:16:41 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       f.flavour_type_id as flavourTypeId,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
  AND c.list_slug = 'ice-cream-shop-flavours'
ORDER BY (CASE WHEN f.is_new = 1 THEN 0 ELSE 1 END),
         f.flavour_type_id ASC,
         f.name_ko ASC

[INFO ] 25-09-26 13:16:41 [resultsettable:610] - 
|------|--------------------------------------|----------------|-------|----------------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                  |name_ko         |is_new |flavour_type_id |list_slug               |name_ko |url                                                                                     |
|------|--------------------------------------|----------------|-------|----------------|------------------------|--------|----------------------------------------------------------------------------------------|
|30032 |chocolate-ice-cream                   |초콜릿             |true   |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream  |뉴욕 수퍼 퍼지 청크     |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream        |민트 초콜릿 청크       |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                     |바닐라             |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream     |스위트 크림&쿠키       |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                  |스트로베리           |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream               |청키 몽키®          |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream               |체리 가르시아®        |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream |초콜릿 칩 쿠키 도우     |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream     |초콜릿 퍼지 브라우니     |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                  |하프베이크드®         |false  |1               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                       |레모네이드 소르베       |false  |3               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet      |베리베리 엑스트라 오디너리® |false  |3               |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|--------------------------------------|----------------|-------|----------------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:41 [selectByCategory:135] - <==      Total: 13
[INFO ] 25-09-26 13:16:41 [MyInterceptor:122] - running time: 122(ms)
[INFO ] 25-09-26 13:16:42 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:42 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:42 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/chocolate-ice-cream/
[INFO ] 25-09-26 13:16:42 [MyInterceptor:101] - - REFERER : time=1861, url=http://localhost:8080/flavours/ice-cream-shop-flavours
[DEBUG] 25-09-26 13:16:42 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 13:16:42 [existsCategorySlug:135] - ==> Parameters: chocolate-ice-cream(String)
[INFO ] 25-09-26 13:16:42 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'chocolate-ice-cream'

[INFO ] 25-09-26 13:16:42 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|0        |
|---------|

[DEBUG] 25-09-26 13:16:42 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:42 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 13:16:42 [selectVariantDetailDefault:135] - ==> Parameters: chocolate-ice-cream(String)
[INFO ] 25-09-26 13:16:42 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'chocolate-ice-cream'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 13:16:42 [resultsettable:610] - 
|------|------|--------------------|--------|---------------|-------|-----------|------------------------|--------|
|id    |id    |slug                |name_ko |description_ko |is_new |slug       |list_slug               |name_ko |
|------|------|--------------------|--------|---------------|-------|-----------|------------------------|--------|
|30032 |20014 |chocolate-ice-cream |초콜릿     |초콜릿 아이스크림      |true   |scoop-shop |ice-cream-shop-flavours |스쿱 샵    |
|------|------|--------------------|--------|---------------|-------|-----------|------------------------|--------|

[DEBUG] 25-09-26 13:16:42 [selectVariantDetailDefault:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:42 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 13:16:42 [selectVariantMedia:135] - ==> Parameters: 30032(Long)
[INFO ] 25-09-26 13:16:42 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30032
ORDER BY role, sort_order

[INFO ] 25-09-26 13:16:42 [resultsettable:610] - 
|---------|----------------------------------------------------------------------|----------|
|role     |url                                                                   |alt_ko    |
|---------|----------------------------------------------------------------------|----------|
|PACKSHOT |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png |초콜릿 스쿱 팩샷 |
|---------|----------------------------------------------------------------------|----------|

[DEBUG] 25-09-26 13:16:42 [selectVariantMedia:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:42 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 13:16:42 [selectVariantIngredients:135] - ==> Parameters: 30032(Long)
[INFO ] 25-09-26 13:16:42 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30032

[INFO ] 25-09-26 13:16:42 [resultsettable:610] - 
|--------------------------------------------------------|---------------|
|ingredients_ko                                          |smartlabel_url |
|--------------------------------------------------------|---------------|
|유크림, 설탕시럽(설탕, 정제수), 탈지농축우유, 정제수, 코코아분말, 가당난황, 구아검, 카라기난 |null           |
|--------------------------------------------------------|---------------|

[DEBUG] 25-09-26 13:16:42 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:42 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 13:16:42 [selectVariantSourcing:135] - ==> Parameters: 30032(Long)
[INFO ] 25-09-26 13:16:42 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30032
ORDER BY vs.sort_order

[INFO ] 25-09-26 13:16:42 [resultsettable:610] - 
|---------------|-------------------------------------------------------------|
|name_ko        |icon_url                                                     |
|---------------|-------------------------------------------------------------|
|Non-GMO        |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif        |
|Cage-Free Eggs |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif |
|Fairtrade      |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif      |
|Caring Dairy   |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif   |
|---------------|-------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:42 [selectVariantSourcing:135] - <==      Total: 4
[DEBUG] 25-09-26 13:16:42 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 13:16:42 [selectVariantCerts:135] - ==> Parameters: 30032(Long)
[INFO ] 25-09-26 13:16:42 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30032
ORDER BY vc.sort_order

[INFO ] 25-09-26 13:16:42 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 13:16:42 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 13:16:42 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 13:16:42 [selectRecommendations:135] - ==> Parameters: 30032(Long)
[INFO ] 25-09-26 13:16:42 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30032
ORDER BY r.slot

[INFO ] 25-09-26 13:16:42 [resultsettable:610] - 
|------|-------------------------------------|------------|-------|-----------|------------------------|--------|---------------------------------------------------------------------------------------|
|id    |slug                                 |name_ko     |is_new |slug       |list_slug               |name_ko |url                                                                                    |
|------|-------------------------------------|------------|-------|-----------|------------------------|--------|---------------------------------------------------------------------------------------|
|30038 |mint-chocolate-chunk-ice-cream       |민트 초콜릿 청크   |false  |scoop-shop |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png       |
|30039 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |false  |scoop-shop |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png |
|30031 |cherry-garcia-ice-cream              |체리 가르시아®    |false  |scoop-shop |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png              |
|------|-------------------------------------|------------|-------|-----------|------------------------|--------|---------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:42 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 13:16:42 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 13:16:42 [selectAvailableCategories:135] - ==> Parameters: 20014(Long)
[INFO ] 25-09-26 13:16:42 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20014
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 13:16:42 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|SCOOP |scoop-shop |스쿱 샵    |30032 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 13:16:42 [selectAvailableCategories:135] - <==      Total: 1
[INFO ] 25-09-26 13:16:42 [MyInterceptor:122] - running time: 87(ms)
[INFO ] 25-09-26 13:16:46 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:46 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:46 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/
[INFO ] 25-09-26 13:16:46 [MyInterceptor:101] - - REFERER : time=3895, url=http://localhost:8080/flavours/ice-cream-shop-flavours
[DEBUG] 25-09-26 13:16:46 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 13:16:46 [existsCategorySlug:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String)
[INFO ] 25-09-26 13:16:46 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'new-york-super-fudge-chunk-ice-cream'

[INFO ] 25-09-26 13:16:46 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|0        |
|---------|

[DEBUG] 25-09-26 13:16:46 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:46 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 13:16:46 [selectVariantDetailDefault:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String)
[INFO ] 25-09-26 13:16:46 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 13:16:46 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 13:16:46 [selectVariantDetailDefault:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:46 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 13:16:46 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 13:16:46 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 13:16:46 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 13:16:46 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 13:16:46 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 13:16:46 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 13:16:46 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 13:16:46 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:46 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 13:16:46 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 13:16:46 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 13:16:46 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 13:16:46 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:46 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 13:16:46 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 13:16:46 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 13:16:46 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 13:16:46 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 13:16:46 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 13:16:46 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 13:16:46 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 13:16:46 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 13:16:46 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:16:46 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 13:16:46 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 13:16:46 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 13:16:46 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 13:16:46 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 13:16:46 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 13:16:46 [MyInterceptor:122] - running time: 89(ms)
[INFO ] 25-09-26 13:16:49 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:49 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:49 [MyInterceptor:85] - [GET] http://localhost:8080/new-york-super-fudge-chunk-ice-cream/scoop-shop
[INFO ] 25-09-26 13:16:49 [MyInterceptor:101] - - REFERER : time=2832, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/
[INFO ] 25-09-26 13:16:52 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:52 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:52 [MyInterceptor:85] - [GET] http://localhost:8080/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 13:16:52 [MyInterceptor:101] - - REFERER : time=5331, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/
[INFO ] 25-09-26 13:16:54 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:16:54 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:16:54 [MyInterceptor:85] - [GET] http://localhost:8080/new-york-super-fudge-chunk-ice-cream/scoop-shop
[INFO ] 25-09-26 13:16:54 [MyInterceptor:101] - - REFERER : time=7542, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/
[INFO ] 25-09-26 13:17:00 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:17:00 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:17:00 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/chocolate-chip-cookie-dough-ice-cream/
[INFO ] 25-09-26 13:17:00 [MyInterceptor:101] - - REFERER : time=13843, url=http://localhost:8080/flavours/ice-cream-shop-flavours
[DEBUG] 25-09-26 13:17:00 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 13:17:00 [existsCategorySlug:135] - ==> Parameters: chocolate-chip-cookie-dough-ice-cream(String)
[INFO ] 25-09-26 13:17:00 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'chocolate-chip-cookie-dough-ice-cream'

[INFO ] 25-09-26 13:17:00 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|0        |
|---------|

[DEBUG] 25-09-26 13:17:00 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 13:17:00 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 13:17:00 [selectVariantDetailDefault:135] - ==> Parameters: chocolate-chip-cookie-dough-ice-cream(String)
[INFO ] 25-09-26 13:17:00 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'chocolate-chip-cookie-dough-ice-cream'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 13:17:00 [resultsettable:610] - 
|------|------|--------------------------------------|------------|-----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                  |name_ko     |description_ko                     |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------------|------------|-----------------------------------|-------|-----|----------------|--------|
|30005 |20005 |chocolate-chip-cookie-dough-ice-cream |초콜릿 칩 쿠키 도우 |초콜릿 칩 쿠키 도우의 퍼지 덩어리가 들어간 바닐라 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------------|------------|-----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 13:17:00 [selectVariantDetailDefault:135] - <==      Total: 1
[DEBUG] 25-09-26 13:17:00 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 13:17:00 [selectVariantMedia:135] - ==> Parameters: 30005(Long)
[INFO ] 25-09-26 13:17:00 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30005
ORDER BY role, sort_order

[INFO ] 25-09-26 13:17:00 [resultsettable:610] - 
|----------|-----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                      |alt_ko             |
|----------|-----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png        |초콜릿 칩 쿠키 도우 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|NUTRITION |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|-----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 13:17:00 [selectVariantMedia:135] - <==      Total: 6
[DEBUG] 25-09-26 13:17:00 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 13:17:00 [selectVariantIngredients:135] - ==> Parameters: 30005(Long)
[INFO ] 25-09-26 13:17:00 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30005

[INFO ] 25-09-26 13:17:00 [resultsettable:610] - 
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                                     |smartlabel_url                                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
|크림, 농축 탈지유, 액상당, 물, 표백하지 않은 밀가루, 설탕, 황설탕, 계란 노른자, 버터, 대두유, 계란, 코코넛 오일, 카카오 매스, 바닐라 추출물, 코코아 파우더, 소금, 농후제(구아검, 카라기난), 당밀, 코코아 버터, 천연착향료, 천연조미료, 버터 오일, 유화제(대두 레시틴). |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100583-0002-en-US-1669211882662/index.html |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:17:00 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 13:17:00 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 13:17:00 [selectVariantSourcing:135] - ==> Parameters: 30005(Long)
[INFO ] 25-09-26 13:17:00 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30005
ORDER BY vs.sort_order

[INFO ] 25-09-26 13:17:00 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:17:00 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 13:17:00 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 13:17:00 [selectVariantCerts:135] - ==> Parameters: 30005(Long)
[INFO ] 25-09-26 13:17:00 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30005
ORDER BY vc.sort_order

[INFO ] 25-09-26 13:17:00 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 13:17:00 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 13:17:00 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 13:17:00 [selectRecommendations:135] - ==> Parameters: 30005(Long)
[INFO ] 25-09-26 13:17:00 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30005
ORDER BY r.slot

[INFO ] 25-09-26 13:17:00 [resultsettable:610] - 
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|
|id    |slug                                 |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                              |
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|
|30013 |vanilla-ice-cream                    |바닐라         |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                    |
|30002 |half-baked-ice-cream                 |하프베이크드®     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                 |
|30010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png |
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|

[DEBUG] 25-09-26 13:17:00 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 13:17:00 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 13:17:00 [selectAvailableCategories:135] - ==> Parameters: 20005(Long)
[INFO ] 25-09-26 13:17:00 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20005
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 13:17:00 [resultsettable:610] - 
|---------|-----------|--------|------|
|code     |slug       |name_ko |id    |
|---------|-----------|--------|------|
|PINT     |pint       |파인트     |30005 |
|MINI_CUP |mini-cup   |미니컵     |30022 |
|SCOOP    |scoop-shop |스쿱 샵    |30033 |
|---------|-----------|--------|------|

[DEBUG] 25-09-26 13:17:00 [selectAvailableCategories:135] - <==      Total: 3
[INFO ] 25-09-26 13:17:00 [MyInterceptor:122] - running time: 83(ms)
[INFO ] 25-09-26 13:17:02 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 13:17:02 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 13:17:02 [MyInterceptor:85] - [GET] http://localhost:8080/chocolate-chip-cookie-dough-ice-cream/mini-cup
[INFO ] 25-09-26 13:17:02 [MyInterceptor:101] - - REFERER : time=1464, url=http://localhost:8080/flavours/chocolate-chip-cookie-dough-ice-cream/
[WARN ] 25-09-26 13:26:28 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m25s310ms).
[WARN ] 25-09-26 13:28:43 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m1s430ms).
[WARN ] 25-09-26 13:44:45 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m31s579ms).
[WARN ] 25-09-26 14:08:00 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=23m15s693ms).
[WARN ] 25-09-26 14:23:59 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m28s132ms).
[WARN ] 25-09-26 14:39:26 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m27s596ms).
[WARN ] 25-09-26 14:51:49 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=11m52s624ms).
[WARN ] 25-09-26 15:07:47 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m28s479ms).
[WARN ] 25-09-26 15:18:22 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=10m35s10ms).
[WARN ] 25-09-26 15:36:01 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=17m8s467ms).
[WARN ] 25-09-26 15:43:34 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=7m3s547ms).
[WARN ] 25-09-26 15:55:15 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=11m10s125ms).
[WARN ] 25-09-26 16:01:03 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m48s367ms).
[WARN ] 25-09-26 16:14:23 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=13m19s950ms).
[WARN ] 25-09-26 16:19:13 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m43s353ms).
[WARN ] 25-09-26 16:30:16 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=10m32s59ms).
[WARN ] 25-09-26 17:20:40 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=49m53s977ms).
[WARN ] 25-09-26 18:02:01 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=41m21s165ms).
[WARN ] 25-09-26 18:21:36 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=19m4s984ms).
[WARN ] 25-09-26 18:58:58 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=37m22s147ms).
[WARN ] 25-09-26 19:06:11 [HikariPool:825] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=6m43s435ms).
[INFO ] 25-09-26 19:09:14 [BenjerryscloneApplication:53] - Starting BenjerryscloneApplication using Java 17.0.14 with PID 29413 (/Users/sieun/ben-jerrys-clone/build/classes/java/main started by sieun in /Users/sieun/ben-jerrys-clone)
[DEBUG] 25-09-26 19:09:14 [BenjerryscloneApplication:54] - Running with Spring Boot v3.5.5, Spring v6.2.10
[INFO ] 25-09-26 19:09:14 [BenjerryscloneApplication:652] - No active profile set, falling back to 1 default profile: "dev"
[INFO ] 25-09-26 19:09:18 [BenjerryscloneApplication:59] - Started BenjerryscloneApplication in 4.964 seconds (process running for 5.699)
[INFO ] 25-09-26 19:11:40 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:11:40 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:11:40 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/chocolate-chip-cookie-dough-ice-cream/
[DEBUG] 25-09-26 19:11:41 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 19:11:41 [existsCategorySlug:135] - ==> Parameters: chocolate-chip-cookie-dough-ice-cream(String)
[INFO ] 25-09-26 19:11:41 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'chocolate-chip-cookie-dough-ice-cream'

[INFO ] 25-09-26 19:11:41 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|0        |
|---------|

[DEBUG] 25-09-26 19:11:41 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 19:11:41 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 19:11:41 [selectVariantDetailDefault:135] - ==> Parameters: chocolate-chip-cookie-dough-ice-cream(String)
[INFO ] 25-09-26 19:11:41 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'chocolate-chip-cookie-dough-ice-cream'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 19:11:41 [resultsettable:610] - 
|------|------|--------------------------------------|------------|-----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                  |name_ko     |description_ko                     |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------------|------------|-----------------------------------|-------|-----|----------------|--------|
|30005 |20005 |chocolate-chip-cookie-dough-ice-cream |초콜릿 칩 쿠키 도우 |초콜릿 칩 쿠키 도우의 퍼지 덩어리가 들어간 바닐라 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------------|------------|-----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:11:41 [selectVariantDetailDefault:135] - <==      Total: 1
[DEBUG] 25-09-26 19:11:41 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:11:41 [selectVariantMedia:135] - ==> Parameters: 30005(Long)
[INFO ] 25-09-26 19:11:41 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30005
ORDER BY role, sort_order

[INFO ] 25-09-26 19:11:41 [resultsettable:610] - 
|----------|-----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                      |alt_ko             |
|----------|-----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png        |초콜릿 칩 쿠키 도우 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|NUTRITION |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|-----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:11:41 [selectVariantMedia:135] - <==      Total: 6
[DEBUG] 25-09-26 19:11:41 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:11:41 [selectVariantIngredients:135] - ==> Parameters: 30005(Long)
[INFO ] 25-09-26 19:11:41 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30005

[INFO ] 25-09-26 19:11:41 [resultsettable:610] - 
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                                     |smartlabel_url                                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
|크림, 농축 탈지유, 액상당, 물, 표백하지 않은 밀가루, 설탕, 황설탕, 계란 노른자, 버터, 대두유, 계란, 코코넛 오일, 카카오 매스, 바닐라 추출물, 코코아 파우더, 소금, 농후제(구아검, 카라기난), 당밀, 코코아 버터, 천연착향료, 천연조미료, 버터 오일, 유화제(대두 레시틴). |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100583-0002-en-US-1669211882662/index.html |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:11:41 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:11:41 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:11:41 [selectVariantSourcing:135] - ==> Parameters: 30005(Long)
[INFO ] 25-09-26 19:11:41 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30005
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:11:41 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:11:41 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:11:41 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:11:41 [selectVariantCerts:135] - ==> Parameters: 30005(Long)
[INFO ] 25-09-26 19:11:41 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30005
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:11:41 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:11:41 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:11:41 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:11:41 [selectRecommendations:135] - ==> Parameters: 30005(Long)
[INFO ] 25-09-26 19:11:41 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30005
ORDER BY r.slot

[INFO ] 25-09-26 19:11:41 [resultsettable:610] - 
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|
|id    |slug                                 |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                              |
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|
|30013 |vanilla-ice-cream                    |바닐라         |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                    |
|30002 |half-baked-ice-cream                 |하프베이크드®     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                 |
|30010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png |
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:11:41 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:11:41 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:11:41 [selectAvailableCategories:135] - ==> Parameters: 20005(Long)
[INFO ] 25-09-26 19:11:41 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20005
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:11:41 [resultsettable:610] - 
|---------|-----------|--------|------|
|code     |slug       |name_ko |id    |
|---------|-----------|--------|------|
|PINT     |pint       |파인트     |30005 |
|MINI_CUP |mini-cup   |미니컵     |30022 |
|SCOOP    |scoop-shop |스쿱 샵    |30033 |
|---------|-----------|--------|------|

[DEBUG] 25-09-26 19:11:41 [selectAvailableCategories:135] - <==      Total: 3
[INFO ] 25-09-26 19:11:41 [MyInterceptor:122] - running time: 1196(ms)
[INFO ] 25-09-26 19:11:42 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:11:42 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:11:42 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[INFO ] 25-09-26 19:11:42 [MyInterceptor:101] - - REFERER : time=887, url=http://localhost:8080/flavours/chocolate-chip-cookie-dough-ice-cream/
[DEBUG] 25-09-26 19:11:42 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 19:11:42 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 19:11:42 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 19:11:42 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:11:42 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 19:11:42 [MyInterceptor:122] - running time: 205(ms)
[INFO ] 25-09-26 19:11:48 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:11:48 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:11:48 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/ice-cream-pints
[INFO ] 25-09-26 19:11:48 [MyInterceptor:101] - - REFERER : time=5604, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 19:11:48 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 19:11:48 [existsCategorySlug:135] - ==> Parameters: ice-cream-pints(String)
[INFO ] 25-09-26 19:11:48 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'ice-cream-pints'

[INFO ] 25-09-26 19:11:48 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|1        |
|---------|

[DEBUG] 25-09-26 19:11:48 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 19:11:48 [selectByCategory:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, f.flavour_type_id as flavourTypeId, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 AND c.list_slug = ? ORDER BY (CASE WHEN f.is_new = 1 THEN 0 ELSE 1 END), f.flavour_type_id ASC, f.name_ko ASC
[DEBUG] 25-09-26 19:11:48 [selectByCategory:135] - ==> Parameters: ice-cream-pints(String)
[INFO ] 25-09-26 19:11:48 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       f.flavour_type_id as flavourTypeId,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
  AND c.list_slug = 'ice-cream-pints'
ORDER BY (CASE WHEN f.is_new = 1 THEN 0 ELSE 1 END),
         f.flavour_type_id ASC,
         f.name_ko ASC

[INFO ] 25-09-26 19:11:48 [resultsettable:610] - 
|------|---------------------------------------|-------------|-------|----------------|----------------|--------|-----------------------------------------------------------------------------------|
|id    |slug                                   |name_ko      |is_new |flavour_type_id |list_slug       |name_ko |url                                                                                |
|------|---------------------------------------|-------------|-------|----------------|----------------|--------|-----------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크  |true   |1               |ice-cream-pints |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png        |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png   |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png        |
|30013 |vanilla-ice-cream                      |바닐라          |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                      |
|30001 |chunky-monkey-ice-cream                |청키 몽키®       |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®     |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png  |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png      |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈! |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵      |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png            |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png          |
|30002 |half-baked-ice-cream                   |하프베이크드®      |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                   |
|30008 |karamel-sutra-core                     |카라멜 수트라      |false  |2               |ice-cream-pints |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                     |
|------|---------------------------------------|-------------|-------|----------------|----------------|--------|-----------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:11:48 [selectByCategory:135] - <==      Total: 13
[INFO ] 25-09-26 19:11:48 [MyInterceptor:122] - running time: 128(ms)
[INFO ] 25-09-26 19:12:01 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:12:01 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:12:01 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/
[INFO ] 25-09-26 19:12:01 [MyInterceptor:101] - - REFERER : time=13475, url=http://localhost:8080/flavours/ice-cream-pints
[DEBUG] 25-09-26 19:12:01 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 19:12:01 [existsCategorySlug:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String)
[INFO ] 25-09-26 19:12:01 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'strawberry-cheesecake-ice-cream'

[INFO ] 25-09-26 19:12:01 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|0        |
|---------|

[DEBUG] 25-09-26 19:12:01 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 19:12:01 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 19:12:01 [selectVariantDetailDefault:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String)
[INFO ] 25-09-26 19:12:01 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 19:12:01 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:12:01 [selectVariantDetailDefault:135] - <==      Total: 1
[DEBUG] 25-09-26 19:12:01 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:12:01 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:12:01 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:12:01 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:12:01 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:12:01 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:12:01 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:12:01 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:12:01 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:12:01 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:12:01 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:12:01 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:12:01 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:12:01 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:12:01 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:12:01 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:12:01 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:12:01 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:12:01 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:12:01 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:12:01 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:12:01 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:12:01 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:12:01 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:12:01 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:12:01 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:12:01 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:12:01 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:12:01 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:12:01 [selectAvailableCategories:135] - <==      Total: 1
[INFO ] 25-09-26 19:12:01 [MyInterceptor:122] - running time: 124(ms)
[INFO ] 25-09-26 19:12:22 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:12:22 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:12:22 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/
[INFO ] 25-09-26 19:12:22 [MyInterceptor:101] - - REFERER : time=20633, url=http://localhost:8080/flavours/ice-cream-pints
[DEBUG] 25-09-26 19:12:22 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 19:12:22 [existsCategorySlug:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String)
[INFO ] 25-09-26 19:12:22 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'new-york-super-fudge-chunk-ice-cream'

[INFO ] 25-09-26 19:12:22 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|0        |
|---------|

[DEBUG] 25-09-26 19:12:22 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 19:12:22 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 19:12:22 [selectVariantDetailDefault:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String)
[INFO ] 25-09-26 19:12:22 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 19:12:22 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:12:22 [selectVariantDetailDefault:135] - <==      Total: 1
[DEBUG] 25-09-26 19:12:22 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:12:22 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:12:22 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 19:12:22 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:12:22 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:12:22 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:12:22 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:12:22 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 19:12:22 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:12:22 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:12:22 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:12:22 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:12:22 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:12:22 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:12:22 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:12:22 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:12:22 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:12:22 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:12:22 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:12:22 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:12:22 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:12:22 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:12:22 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 19:12:22 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:12:22 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:12:22 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:12:22 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:12:22 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:12:22 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:12:22 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:12:22 [MyInterceptor:122] - running time: 129(ms)
[INFO ] 25-09-26 19:12:58 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:12:58 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:12:58 [MyInterceptor:85] - [GET] http://localhost:8080/ice-cream-near-me
[INFO ] 25-09-26 19:12:58 [MyInterceptor:101] - - REFERER : time=35484, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/
[INFO ] 25-09-26 19:13:06 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:13:06 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:13:06 [MyInterceptor:85] - [GET] http://localhost:8080/new-york-super-fudge-chunk-ice-cream/scoop-shop
[INFO ] 25-09-26 19:13:06 [MyInterceptor:101] - - REFERER : time=44396, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/
[INFO ] 25-09-26 19:14:40 [BenjerryscloneApplication:53] - Starting BenjerryscloneApplication using Java 17.0.14 with PID 29811 (/Users/sieun/ben-jerrys-clone/build/classes/java/main started by sieun in /Users/sieun/ben-jerrys-clone)
[DEBUG] 25-09-26 19:14:40 [BenjerryscloneApplication:54] - Running with Spring Boot v3.5.5, Spring v6.2.10
[INFO ] 25-09-26 19:14:40 [BenjerryscloneApplication:652] - No active profile set, falling back to 1 default profile: "dev"
[INFO ] 25-09-26 19:14:44 [BenjerryscloneApplication:59] - Started BenjerryscloneApplication in 4.796 seconds (process running for 5.41)
[INFO ] 25-09-26 19:14:51 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:14:51 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:14:51 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/
[DEBUG] 25-09-26 19:14:52 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 19:14:52 [existsCategorySlug:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String)
[INFO ] 25-09-26 19:14:52 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'new-york-super-fudge-chunk-ice-cream'

[INFO ] 25-09-26 19:14:52 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|0        |
|---------|

[DEBUG] 25-09-26 19:14:52 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 19:14:52 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 19:14:52 [selectVariantDetailDefault:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String)
[INFO ] 25-09-26 19:14:52 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 19:14:52 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:14:52 [selectVariantDetailDefault:135] - <==      Total: 1
[DEBUG] 25-09-26 19:14:52 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:14:52 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:14:52 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 19:14:52 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:14:52 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:14:52 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:14:52 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:14:52 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 19:14:52 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:14:52 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:14:52 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:14:52 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:14:52 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:14:52 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:14:52 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:14:52 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:14:52 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:14:52 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:14:52 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:14:52 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:14:52 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:14:52 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:14:52 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 19:14:52 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:14:52 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:14:52 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:14:52 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:14:52 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:14:52 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:14:52 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:14:52 [MyInterceptor:122] - running time: 1132(ms)
[INFO ] 25-09-26 19:14:54 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:14:54 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:14:54 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop
[INFO ] 25-09-26 19:14:54 [MyInterceptor:101] - - REFERER : time=2174, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/
[DEBUG] 25-09-26 19:14:54 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:14:54 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), scoop-shop(String)
[INFO ] 25-09-26 19:14:54 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'scoop-shop'

[INFO ] 25-09-26 19:14:54 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----------|------------------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug       |list_slug               |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----------|------------------------|--------|
|30039 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |scoop-shop |ice-cream-shop-flavours |스쿱 샵    |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----------|------------------------|--------|

[DEBUG] 25-09-26 19:14:54 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:14:54 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:14:54 [selectVariantMedia:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 19:14:54 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30039
ORDER BY role, sort_order

[INFO ] 25-09-26 19:14:54 [resultsettable:610] - 
|---------|------------------------------------------------------------------------------------------|------------------|
|role     |url                                                                                       |alt_ko            |
|---------|------------------------------------------------------------------------------------------|------------------|
|PACKSHOT |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png    |뉴욕 수퍼 퍼지 청크 스쿱 팩샷 |
|GALLERY  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/gallery/01-tower.png |null              |
|---------|------------------------------------------------------------------------------------------|------------------|

[DEBUG] 25-09-26 19:14:54 [selectVariantMedia:135] - <==      Total: 2
[DEBUG] 25-09-26 19:14:54 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:14:54 [selectVariantIngredients:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 19:14:54 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30039

[INFO ] 25-09-26 19:14:54 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                |smartlabel_url |
|----------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |null           |
|----------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:14:54 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:14:54 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:14:54 [selectVariantSourcing:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 19:14:54 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30039
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:14:54 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:14:54 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:14:54 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:14:54 [selectVariantCerts:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 19:14:54 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30039
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:14:54 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:14:54 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:14:54 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:14:54 [selectRecommendations:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 19:14:54 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30039
ORDER BY r.slot

[INFO ] 25-09-26 19:14:54 [resultsettable:610] - 
|---|-----|--------|-------|-----|----------|--------|----|
|id |slug |name_ko |is_new |slug |list_slug |name_ko |url |
|---|-----|--------|-------|-----|----------|--------|----|
|---|-----|--------|-------|-----|----------|--------|----|

[DEBUG] 25-09-26 19:14:54 [selectRecommendations:135] - <==      Total: 0
[DEBUG] 25-09-26 19:14:54 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:14:54 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:14:54 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:14:54 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:14:54 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:14:54 [MyInterceptor:122] - running time: 155(ms)
[INFO ] 25-09-26 19:14:59 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:14:59 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:14:59 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:14:59 [MyInterceptor:101] - - REFERER : time=5217, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop
[DEBUG] 25-09-26 19:14:59 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:14:59 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:14:59 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:14:59 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:14:59 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:14:59 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:14:59 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:14:59 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 19:14:59 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:14:59 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:14:59 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:14:59 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:14:59 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 19:14:59 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:14:59 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:14:59 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:14:59 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:14:59 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:14:59 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:14:59 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:14:59 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:14:59 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:14:59 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:14:59 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:14:59 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:14:59 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:14:59 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:14:59 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 19:14:59 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:14:59 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:14:59 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:14:59 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:14:59 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:14:59 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:14:59 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:14:59 [MyInterceptor:122] - running time: 150(ms)
[INFO ] 25-09-26 19:15:01 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:15:01 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:15:01 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop
[INFO ] 25-09-26 19:15:01 [MyInterceptor:101] - - REFERER : time=1588, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[DEBUG] 25-09-26 19:15:01 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:15:01 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), scoop-shop(String)
[INFO ] 25-09-26 19:15:01 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'scoop-shop'

[INFO ] 25-09-26 19:15:01 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----------|------------------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug       |list_slug               |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----------|------------------------|--------|
|30039 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |scoop-shop |ice-cream-shop-flavours |스쿱 샵    |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----------|------------------------|--------|

[DEBUG] 25-09-26 19:15:01 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:15:01 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:15:01 [selectVariantMedia:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 19:15:01 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30039
ORDER BY role, sort_order

[INFO ] 25-09-26 19:15:01 [resultsettable:610] - 
|---------|------------------------------------------------------------------------------------------|------------------|
|role     |url                                                                                       |alt_ko            |
|---------|------------------------------------------------------------------------------------------|------------------|
|PACKSHOT |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png    |뉴욕 수퍼 퍼지 청크 스쿱 팩샷 |
|GALLERY  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/gallery/01-tower.png |null              |
|---------|------------------------------------------------------------------------------------------|------------------|

[DEBUG] 25-09-26 19:15:01 [selectVariantMedia:135] - <==      Total: 2
[DEBUG] 25-09-26 19:15:01 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:15:01 [selectVariantIngredients:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 19:15:01 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30039

[INFO ] 25-09-26 19:15:01 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                |smartlabel_url |
|----------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |null           |
|----------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:15:01 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:15:01 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:15:01 [selectVariantSourcing:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 19:15:01 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30039
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:15:01 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:15:01 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:15:01 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:15:01 [selectVariantCerts:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 19:15:01 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30039
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:15:01 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:15:01 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:15:01 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:15:01 [selectRecommendations:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 19:15:01 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30039
ORDER BY r.slot

[INFO ] 25-09-26 19:15:01 [resultsettable:610] - 
|---|-----|--------|-------|-----|----------|--------|----|
|id |slug |name_ko |is_new |slug |list_slug |name_ko |url |
|---|-----|--------|-------|-----|----------|--------|----|
|---|-----|--------|-------|-----|----------|--------|----|

[DEBUG] 25-09-26 19:15:01 [selectRecommendations:135] - <==      Total: 0
[DEBUG] 25-09-26 19:15:01 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:15:01 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:15:01 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:15:01 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:15:01 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:15:01 [MyInterceptor:122] - running time: 111(ms)
[INFO ] 25-09-26 19:15:04 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:15:05 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:15:05 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:15:05 [MyInterceptor:101] - - REFERER : time=3261, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop
[DEBUG] 25-09-26 19:15:05 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:15:05 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:15:05 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:15:05 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:15:05 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:15:05 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:15:05 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:15:05 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 19:15:05 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:15:05 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:15:05 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:15:05 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:15:05 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 19:15:05 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:15:05 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:15:05 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:15:05 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:15:05 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:15:05 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:15:05 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:15:05 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:15:05 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:15:05 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:15:05 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:15:05 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:15:05 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:15:05 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:15:05 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 19:15:05 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:15:05 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:15:05 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:15:05 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:15:05 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:15:05 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:15:05 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:15:05 [MyInterceptor:122] - running time: 98(ms)
[INFO ] 25-09-26 19:18:22 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:18:22 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:18:22 [MyInterceptor:85] - [GET] http://localhost:8080/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:18:22 [MyInterceptor:101] - - REFERER : time=197713, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:18:27 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:18:27 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:18:27 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:18:27 [MyInterceptor:101] - - REFERER : time=202000, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop
[DEBUG] 25-09-26 19:18:27 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:18:27 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:18:27 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:18:27 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:18:27 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:18:27 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:18:27 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:18:27 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 19:18:27 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:18:27 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:18:27 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:18:27 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:18:27 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 19:18:27 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:18:27 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:18:27 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:18:27 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:18:27 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:18:27 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:18:27 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:18:27 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:18:27 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:18:27 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:18:27 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:18:27 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:18:27 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:18:27 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:18:27 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 19:18:27 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:18:27 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:18:27 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:18:27 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:18:27 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:18:27 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:18:27 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:18:27 [MyInterceptor:122] - running time: 138(ms)
[INFO ] 25-09-26 19:18:28 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:18:28 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:18:28 [MyInterceptor:85] - [GET] http://localhost:8080/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:18:28 [MyInterceptor:101] - - REFERER : time=1368, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:18:46 [BenjerryscloneApplication:53] - Starting BenjerryscloneApplication using Java 17.0.14 with PID 30124 (/Users/sieun/ben-jerrys-clone/build/classes/java/main started by sieun in /Users/sieun/ben-jerrys-clone)
[DEBUG] 25-09-26 19:18:46 [BenjerryscloneApplication:54] - Running with Spring Boot v3.5.5, Spring v6.2.10
[INFO ] 25-09-26 19:18:46 [BenjerryscloneApplication:652] - No active profile set, falling back to 1 default profile: "dev"
[INFO ] 25-09-26 19:18:50 [BenjerryscloneApplication:59] - Started BenjerryscloneApplication in 4.84 seconds (process running for 5.452)
[INFO ] 25-09-26 19:19:44 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:19:44 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:19:44 [MyInterceptor:85] - [GET] http://localhost:8080/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:19:46 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:19:46 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:19:46 [MyInterceptor:85] - [GET] http://localhost:8080/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:19:49 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:19:49 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:19:49 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[DEBUG] 25-09-26 19:19:49 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:19:49 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:19:49 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:19:49 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:19:49 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:49 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:19:49 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:49 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 19:19:49 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:19:49 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:19:49 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:19:49 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:49 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 19:19:49 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:49 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:49 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:19:49 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:49 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:19:49 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:49 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:19:49 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:19:49 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:49 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:19:49 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:19:49 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:19:49 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:19:49 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:49 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 19:19:49 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:49 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:19:49 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:19:49 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:19:49 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:19:49 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:19:49 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:19:49 [MyInterceptor:122] - running time: 723(ms)
[INFO ] 25-09-26 19:19:51 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:19:51 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:19:51 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:19:51 [MyInterceptor:101] - - REFERER : time=1563, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[DEBUG] 25-09-26 19:19:51 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:19:51 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:19:51 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:19:51 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:19:51 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:51 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:19:51 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:51 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 19:19:51 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:19:51 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:19:51 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:19:51 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:51 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 19:19:51 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:51 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:51 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:19:51 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:51 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:19:51 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:51 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:19:51 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:19:51 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:51 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:19:51 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:19:51 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:19:51 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:19:51 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:51 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 19:19:51 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:51 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:19:51 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:19:51 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:19:51 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:19:51 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:19:51 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:19:51 [MyInterceptor:122] - running time: 150(ms)
[INFO ] 25-09-26 19:19:53 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:19:53 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:19:53 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:19:53 [MyInterceptor:101] - - REFERER : time=1794, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[DEBUG] 25-09-26 19:19:53 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:19:53 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:19:53 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:19:53 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:19:53 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:53 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:19:53 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:53 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 19:19:53 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:19:53 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:19:53 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:19:53 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:53 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 19:19:53 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:53 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:53 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:19:53 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:53 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:19:53 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:53 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:19:53 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:19:53 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:53 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:19:53 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:19:53 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:19:53 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:19:53 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:53 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 19:19:53 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:53 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:19:53 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:19:53 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:19:53 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:19:53 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:19:53 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:19:53 [MyInterceptor:122] - running time: 181(ms)
[INFO ] 25-09-26 19:19:54 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:19:54 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:19:54 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:19:54 [MyInterceptor:101] - - REFERER : time=823, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[DEBUG] 25-09-26 19:19:54 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:19:54 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:19:54 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:19:54 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:19:54 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:54 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:19:54 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:54 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 19:19:54 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:19:54 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:19:54 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:19:54 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:54 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 19:19:54 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:54 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:54 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:19:54 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:54 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:19:54 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:54 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:19:54 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:19:54 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:54 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:19:54 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:19:54 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:19:54 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:19:54 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:54 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 19:19:54 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:54 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:19:54 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:19:54 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:19:54 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:19:54 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:19:54 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:19:54 [MyInterceptor:122] - running time: 102(ms)
[INFO ] 25-09-26 19:19:55 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:19:55 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:19:55 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:19:55 [MyInterceptor:101] - - REFERER : time=646, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[DEBUG] 25-09-26 19:19:55 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:19:55 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:19:55 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:19:55 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:19:55 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:55 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:19:55 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:55 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 19:19:55 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:19:55 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:19:55 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:19:55 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:55 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 19:19:55 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:55 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:55 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:19:55 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:55 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:19:55 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:55 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:19:55 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:19:55 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:55 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:19:55 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:19:55 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:19:55 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:19:55 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:55 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 19:19:55 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:55 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:19:55 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:19:55 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:19:55 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:19:55 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:19:55 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:19:55 [MyInterceptor:122] - running time: 91(ms)
[INFO ] 25-09-26 19:19:55 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:19:55 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:19:55 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:19:55 [MyInterceptor:101] - - REFERER : time=728, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[DEBUG] 25-09-26 19:19:55 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:19:55 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:19:55 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:19:55 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:19:55 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:55 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:19:55 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:55 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 19:19:55 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:19:55 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:19:55 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:19:55 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:55 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 19:19:55 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:55 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:55 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:19:55 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:55 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:19:55 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:55 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:19:55 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:19:55 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:55 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:19:55 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:19:55 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:19:55 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:19:55 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:55 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 19:19:55 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:55 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:19:55 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:19:55 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:19:55 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:19:55 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:19:55 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:19:55 [MyInterceptor:122] - running time: 146(ms)
[INFO ] 25-09-26 19:19:56 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:19:56 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:19:56 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:19:56 [MyInterceptor:101] - - REFERER : time=689, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[DEBUG] 25-09-26 19:19:56 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:19:56 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:19:56 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:19:56 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:19:56 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:56 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:19:56 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:56 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 19:19:56 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:19:56 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:19:56 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:19:56 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:56 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 19:19:56 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:56 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:56 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:19:56 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:56 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:19:56 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:56 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:19:56 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:19:56 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:56 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:19:56 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:19:56 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:19:56 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:19:56 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:56 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 19:19:56 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:56 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:19:56 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:19:56 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:19:56 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:19:56 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:19:56 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:19:56 [MyInterceptor:122] - running time: 88(ms)
[INFO ] 25-09-26 19:19:57 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:19:57 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:19:57 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:19:57 [MyInterceptor:101] - - REFERER : time=834, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[DEBUG] 25-09-26 19:19:57 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:19:57 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:19:57 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:19:57 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:19:57 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:57 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:19:57 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:57 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 19:19:57 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:19:57 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:19:57 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:19:57 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:57 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 19:19:57 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:57 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:57 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:19:57 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:57 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:19:57 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:57 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:19:57 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:19:57 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:57 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:19:57 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:19:57 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:19:57 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:19:57 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:57 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 19:19:57 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:57 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:19:57 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:19:57 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:19:57 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:19:57 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:19:57 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:19:57 [MyInterceptor:122] - running time: 80(ms)
[INFO ] 25-09-26 19:19:58 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:19:58 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:19:58 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:19:58 [MyInterceptor:101] - - REFERER : time=642, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[DEBUG] 25-09-26 19:19:58 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:19:58 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:19:58 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:19:58 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:19:58 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:58 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:19:58 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:58 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 19:19:58 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:19:58 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:19:58 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:19:58 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:58 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 19:19:58 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:58 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:58 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:19:58 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:58 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:19:58 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:58 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:19:58 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:19:58 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:58 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:19:58 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:19:58 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:19:58 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:19:58 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:58 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 19:19:58 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:58 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:19:58 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:19:58 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:19:58 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:19:58 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:19:58 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:19:58 [MyInterceptor:122] - running time: 142(ms)
[INFO ] 25-09-26 19:19:59 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:19:59 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:19:59 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 19:19:59 [MyInterceptor:101] - - REFERER : time=874, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[DEBUG] 25-09-26 19:19:59 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:19:59 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:19:59 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:19:59 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:19:59 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:59 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:19:59 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:59 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 19:19:59 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:19:59 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:19:59 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:19:59 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:59 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 19:19:59 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:59 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:19:59 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:19:59 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:59 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:19:59 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:59 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:19:59 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:19:59 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:59 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:19:59 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:19:59 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:19:59 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:19:59 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 19:19:59 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 19:19:59 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:19:59 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:19:59 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:19:59 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 19:19:59 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:19:59 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:19:59 [selectAvailableCategories:135] - <==      Total: 2
[INFO ] 25-09-26 19:19:59 [MyInterceptor:122] - running time: 138(ms)
[INFO ] 25-09-26 19:21:37 [BenjerryscloneApplication:53] - Starting BenjerryscloneApplication using Java 17.0.14 with PID 30340 (/Users/sieun/ben-jerrys-clone/build/classes/java/main started by sieun in /Users/sieun/ben-jerrys-clone)
[DEBUG] 25-09-26 19:21:37 [BenjerryscloneApplication:54] - Running with Spring Boot v3.5.5, Spring v6.2.10
[INFO ] 25-09-26 19:21:37 [BenjerryscloneApplication:652] - No active profile set, falling back to 1 default profile: "dev"
[INFO ] 25-09-26 19:21:41 [BenjerryscloneApplication:59] - Started BenjerryscloneApplication in 4.861 seconds (process running for 5.476)
[INFO ] 25-09-26 19:21:48 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:21:48 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:21:48 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/ice-cream-pints
[DEBUG] 25-09-26 19:21:49 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:21:49 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), ice-cream-pints(String)
[INFO ] 25-09-26 19:21:49 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'ice-cream-pints'

[INFO ] 25-09-26 19:21:49 [resultsettable:610] - 
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|id |id |slug |name_ko |description_ko |is_new |slug |list_slug |name_ko |
|---|---|-----|--------|---------------|-------|-----|----------|--------|
|---|---|-----|--------|---------------|-------|-----|----------|--------|

[DEBUG] 25-09-26 19:21:49 [selectVariantDetail:135] - <==      Total: 0
[INFO ] 25-09-26 19:21:49 [MyInterceptor:122] - running time: 1117(ms)
[ERROR] 25-09-26 19:21:49 [TemplateEngine:1141] - [THYMELEAF][http-nio-8080-exec-1] Exception processing template "errors/404": Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[ERROR] 25-09-26 19:21:49 [[dispatcherServlet]:170] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers] with root cause
org.thymeleaf.exceptions.TemplateInputException: Error resolving template [errors/404], template might not exist or might not be accessible by any of the configured Template Resolvers
	at org.thymeleaf.engine.TemplateManager.resolveTemplate(TemplateManager.java:869)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:607)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
[INFO ] 25-09-26 19:21:53 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:21:53 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:21:53 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/
[INFO ] 25-09-26 19:21:53 [MyInterceptor:101] - - REFERER : time=4251, url=http://localhost:8080/flavours/ice-cream-pints
[DEBUG] 25-09-26 19:21:53 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 19:21:53 [existsCategorySlug:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String)
[INFO ] 25-09-26 19:21:53 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'strawberry-cheesecake-ice-cream'

[INFO ] 25-09-26 19:21:53 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|0        |
|---------|

[DEBUG] 25-09-26 19:21:53 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 19:21:53 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 19:21:53 [selectVariantDetailDefault:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String)
[INFO ] 25-09-26 19:21:53 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 19:21:53 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:21:53 [selectVariantDetailDefault:135] - <==      Total: 1
[DEBUG] 25-09-26 19:21:53 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:21:53 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:53 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:21:53 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:21:53 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:21:53 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:21:53 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:53 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:21:53 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:21:53 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:21:53 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:21:53 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:53 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:21:53 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:21:53 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:21:53 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:21:53 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:53 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:21:53 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:21:53 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:21:53 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:21:53 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:53 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:21:53 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:21:53 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:21:53 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:21:53 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:21:53 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:21:53 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:21:53 [selectAvailableCategories:135] - <==      Total: 1
[INFO ] 25-09-26 19:21:53 [MyInterceptor:122] - running time: 206(ms)
[INFO ] 25-09-26 19:21:55 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:21:55 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:21:55 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:21:55 [MyInterceptor:101] - - REFERER : time=1425, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/
[DEBUG] 25-09-26 19:21:55 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:21:55 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:21:55 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:21:55 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:21:55 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:21:55 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:21:55 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:55 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:21:55 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:21:55 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:21:55 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:21:55 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:55 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:21:55 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:21:55 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:21:55 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:21:55 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:55 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:21:55 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:21:55 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:21:55 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:21:55 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:55 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:21:55 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:21:55 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:21:55 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:21:55 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:55 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:21:55 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:21:55 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:21:55 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:21:55 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:21:55 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:21:55 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:21:55 [selectAvailableCategories:135] - <==      Total: 1
[INFO ] 25-09-26 19:21:55 [MyInterceptor:122] - running time: 146(ms)
[INFO ] 25-09-26 19:21:56 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:21:56 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:21:56 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:21:56 [MyInterceptor:101] - - REFERER : time=1524, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:21:56 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:21:56 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:21:56 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:21:56 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:21:56 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:21:56 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:21:56 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:56 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:21:56 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:21:56 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:21:56 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:21:56 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:56 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:21:56 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:21:56 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:21:56 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:21:56 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:56 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:21:56 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:21:56 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:21:56 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:21:56 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:56 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:21:56 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:21:56 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:21:56 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:21:56 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:56 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:21:56 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:21:56 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:21:56 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:21:56 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:21:56 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:21:56 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:21:56 [selectAvailableCategories:135] - <==      Total: 1
[INFO ] 25-09-26 19:21:56 [MyInterceptor:122] - running time: 157(ms)
[INFO ] 25-09-26 19:21:57 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:21:57 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:21:57 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:21:57 [MyInterceptor:101] - - REFERER : time=738, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:21:57 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:21:57 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:21:57 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:21:57 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:21:57 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:21:57 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:21:57 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:57 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:21:57 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:21:57 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:21:57 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:21:57 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:57 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:21:57 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:21:57 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:21:57 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:21:57 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:57 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:21:57 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:21:57 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:21:57 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:21:57 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:57 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:21:57 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:21:57 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:21:57 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:21:57 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:57 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:21:57 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:21:57 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:21:57 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:21:57 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:21:57 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:21:57 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:21:57 [selectAvailableCategories:135] - <==      Total: 1
[INFO ] 25-09-26 19:21:57 [MyInterceptor:122] - running time: 95(ms)
[INFO ] 25-09-26 19:21:58 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:21:58 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:21:58 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:21:58 [MyInterceptor:101] - - REFERER : time=765, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:21:58 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:21:58 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:21:58 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:21:58 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:21:58 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:21:58 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:21:58 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:58 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:21:58 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:21:58 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:21:58 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:21:58 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:58 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:21:58 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:21:58 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:21:58 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:21:58 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:58 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:21:58 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:21:58 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:21:58 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:21:58 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:58 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:21:58 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:21:58 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:21:58 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:21:58 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:21:58 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:21:58 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:21:58 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:21:58 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:21:58 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:21:58 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:21:58 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:21:58 [selectAvailableCategories:135] - <==      Total: 1
[INFO ] 25-09-26 19:21:58 [MyInterceptor:122] - running time: 94(ms)
[INFO ] 25-09-26 19:47:41 [BenjerryscloneApplication:53] - Starting BenjerryscloneApplication using Java 17.0.14 with PID 32195 (/Users/sieun/ben-jerrys-clone/build/classes/java/main started by sieun in /Users/sieun/ben-jerrys-clone)
[DEBUG] 25-09-26 19:47:41 [BenjerryscloneApplication:54] - Running with Spring Boot v3.5.5, Spring v6.2.10
[INFO ] 25-09-26 19:47:41 [BenjerryscloneApplication:652] - No active profile set, falling back to 1 default profile: "dev"
[INFO ] 25-09-26 19:47:45 [BenjerryscloneApplication:59] - Started BenjerryscloneApplication in 5.158 seconds (process running for 5.769)
[INFO ] 25-09-26 19:47:50 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:47:51 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:47:51 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:47:51 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:47:51 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:47:51 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:47:51 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:47:51 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:47:51 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:47:51 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:51 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:47:51 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:47:51 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:47:51 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:47:51 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:51 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:47:51 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:47:51 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:47:51 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:47:51 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:51 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:47:51 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:47:51 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:47:51 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:47:51 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:51 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:47:51 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:47:51 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:47:51 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:47:51 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:51 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:47:51 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:47:51 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:47:51 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:47:51 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:47:51 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:47:51 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:47:51 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:47:51 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:47:51 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:47:51 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:47:51 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:47:51 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:47:51 [MyInterceptor:122] - running time: 1062(ms)
[INFO ] 25-09-26 19:47:53 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:47:53 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:47:53 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:47:53 [MyInterceptor:101] - - REFERER : time=1518, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:47:53 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:47:53 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:47:53 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:47:53 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:47:53 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:47:53 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:47:53 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:53 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:47:53 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:47:53 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:47:53 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:47:53 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:53 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:47:53 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:47:53 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:47:53 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:47:53 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:53 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:47:53 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:47:53 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:47:53 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:47:53 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:53 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:47:53 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:47:53 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:47:53 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:47:53 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:53 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:47:53 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:47:53 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:47:53 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:47:53 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:47:53 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:47:53 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:47:53 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:47:53 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:47:53 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:47:53 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:47:53 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:47:53 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:47:53 [MyInterceptor:122] - running time: 223(ms)
[INFO ] 25-09-26 19:47:54 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:47:54 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:47:54 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:47:54 [MyInterceptor:101] - - REFERER : time=916, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:47:54 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:47:54 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:47:54 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:47:54 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:47:54 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:47:54 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:47:54 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:54 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:47:54 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:47:54 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:47:54 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:47:54 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:54 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:47:54 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:47:54 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:47:54 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:47:54 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:54 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:47:54 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:47:54 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:47:54 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:47:54 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:54 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:47:54 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:47:54 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:47:54 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:47:54 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:54 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:47:54 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:47:54 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:47:54 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:47:54 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:47:54 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:47:54 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:47:54 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:47:54 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:47:54 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:47:54 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:47:54 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:47:54 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:47:54 [MyInterceptor:122] - running time: 298(ms)
[INFO ] 25-09-26 19:47:56 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:47:56 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:47:56 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[INFO ] 25-09-26 19:47:56 [MyInterceptor:101] - - REFERER : time=1934, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:47:56 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 19:47:56 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 19:47:56 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 19:47:56 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:47:56 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 19:47:56 [MyInterceptor:122] - running time: 113(ms)
[INFO ] 25-09-26 19:47:58 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:47:58 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:47:58 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:47:58 [MyInterceptor:101] - - REFERER : time=1803, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 19:47:58 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:47:58 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:47:58 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:47:58 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:47:58 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:47:58 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:47:58 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:58 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:47:58 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:47:58 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:47:58 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:47:58 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:58 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:47:58 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:47:58 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:47:58 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:47:58 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:58 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:47:58 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:47:58 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:47:58 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:47:58 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:58 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:47:58 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:47:58 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:47:58 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:47:58 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:47:58 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:47:58 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:47:58 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:47:58 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:47:58 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:47:58 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:47:58 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:47:58 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:47:58 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:47:58 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:47:58 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:47:58 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:47:58 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:47:58 [MyInterceptor:122] - running time: 110(ms)
[INFO ] 25-09-26 19:48:00 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:00 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:00 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:48:00 [MyInterceptor:101] - - REFERER : time=1607, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:48:00 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:48:00 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:48:00 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:48:00 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:48:00 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:00 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:48:00 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:00 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:48:00 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:48:00 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:00 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:48:00 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:00 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:48:00 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:48:00 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:00 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:48:00 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:00 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:48:00 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:00 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:48:00 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:48:00 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:00 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:48:00 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:48:00 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:48:00 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:48:00 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:00 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:48:00 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:00 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:00 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:48:00 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:48:00 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:48:00 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:48:00 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:00 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:48:00 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:48:00 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:48:00 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:48:00 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:48:00 [MyInterceptor:122] - running time: 101(ms)
[INFO ] 25-09-26 19:48:01 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:01 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:01 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:48:01 [MyInterceptor:101] - - REFERER : time=1211, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:48:01 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:48:01 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:48:01 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:48:01 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:48:01 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:01 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:48:01 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:01 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:48:01 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:48:01 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:01 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:48:01 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:01 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:48:01 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:48:01 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:01 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:48:01 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:01 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:48:01 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:01 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:48:01 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:48:01 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:01 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:48:01 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:48:01 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:48:01 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:48:01 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:01 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:48:01 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:01 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:01 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:48:01 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:48:01 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:48:01 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:48:01 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:01 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:48:01 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:48:01 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:48:01 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:48:01 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:48:01 [MyInterceptor:122] - running time: 89(ms)
[INFO ] 25-09-26 19:48:03 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:03 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:03 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:48:03 [MyInterceptor:101] - - REFERER : time=1361, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:48:03 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:48:03 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:48:03 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:48:03 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:48:03 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:03 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:48:03 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:03 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:48:03 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:48:03 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:03 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:48:03 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:03 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:48:03 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:48:03 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:03 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:48:03 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:03 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:48:03 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:03 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:48:03 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:48:03 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:03 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:48:03 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:48:03 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:48:03 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:48:03 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:03 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:48:03 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:03 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:03 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:48:03 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:48:03 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:48:03 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:48:03 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:03 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:48:03 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:48:03 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:48:03 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:48:03 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:48:03 [MyInterceptor:122] - running time: 78(ms)
[INFO ] 25-09-26 19:48:04 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:04 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:04 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:48:04 [MyInterceptor:101] - - REFERER : time=1039, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:48:04 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:48:04 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:48:04 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:48:04 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:48:04 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:04 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:48:04 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:04 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:48:04 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:48:04 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:04 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:48:04 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:04 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:48:04 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:48:04 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:04 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:48:04 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:04 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:48:04 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:04 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:48:04 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:48:04 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:04 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:48:04 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:48:04 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:48:04 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:48:04 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:04 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:48:04 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:04 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:04 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:48:04 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:48:04 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:48:04 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:48:04 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:04 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:48:04 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:48:04 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:48:04 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:48:04 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:48:04 [MyInterceptor:122] - running time: 107(ms)
[INFO ] 25-09-26 19:48:05 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:05 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:05 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:48:05 [MyInterceptor:101] - - REFERER : time=775, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:48:05 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:48:05 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:48:05 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:48:05 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:48:05 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:05 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:48:05 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:05 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:48:05 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:48:05 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:05 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:48:05 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:05 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:48:05 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:48:05 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:05 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:48:05 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:05 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:48:05 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:05 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:48:05 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:48:05 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:05 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:48:05 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:48:05 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:48:05 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:48:05 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:05 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:48:05 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:05 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:05 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:48:05 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:48:05 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:48:05 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:48:05 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:05 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:48:05 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:48:05 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:48:05 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:48:05 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:48:05 [MyInterceptor:122] - running time: 172(ms)
[INFO ] 25-09-26 19:48:05 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:05 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:05 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:48:05 [MyInterceptor:101] - - REFERER : time=640, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:48:05 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:48:05 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:48:05 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:48:06 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:48:06 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:06 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:48:06 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:06 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:48:06 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:48:06 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:06 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:48:06 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:06 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:48:06 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:48:06 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:06 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:48:06 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:06 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:48:06 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:06 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:48:06 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:48:06 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:06 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:48:06 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:48:06 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:48:06 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:48:06 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:06 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:48:06 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:06 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:06 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:48:06 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:48:06 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:48:06 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:48:06 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:06 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:48:06 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:48:06 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:48:06 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:48:06 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:48:06 [MyInterceptor:122] - running time: 82(ms)
[INFO ] 25-09-26 19:48:07 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:07 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:07 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:48:07 [MyInterceptor:101] - - REFERER : time=1404, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:48:07 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:48:07 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:48:07 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:48:07 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:48:07 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:07 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:48:07 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:07 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:48:07 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:48:07 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:07 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:48:07 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:07 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:48:07 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:48:07 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:07 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:48:07 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:07 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:48:07 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:07 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:48:07 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:48:07 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:07 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:48:07 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:48:07 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:48:07 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:48:07 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:07 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:48:07 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:07 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:07 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:48:07 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:48:07 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:48:07 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:48:07 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:07 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:48:07 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:48:07 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:48:07 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:48:07 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:48:07 [MyInterceptor:122] - running time: 107(ms)
[INFO ] 25-09-26 19:48:10 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:10 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:10 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[INFO ] 25-09-26 19:48:10 [MyInterceptor:101] - - REFERER : time=3393, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:48:10 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 19:48:10 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 19:48:10 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 19:48:10 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:10 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 19:48:10 [MyInterceptor:122] - running time: 51(ms)
[INFO ] 25-09-26 19:48:11 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:11 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:11 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[INFO ] 25-09-26 19:48:11 [MyInterceptor:101] - - REFERER : time=901, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:48:11 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 19:48:11 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 19:48:11 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 19:48:11 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:11 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 19:48:11 [MyInterceptor:122] - running time: 55(ms)
[INFO ] 25-09-26 19:48:14 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:14 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:14 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:48:16 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:16 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:16 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/ice-cream-pints
[INFO ] 25-09-26 19:48:16 [MyInterceptor:101] - - REFERER : time=4451, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 19:48:16 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 19:48:16 [existsCategorySlug:135] - ==> Parameters: ice-cream-pints(String)
[INFO ] 25-09-26 19:48:16 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'ice-cream-pints'

[INFO ] 25-09-26 19:48:16 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|1        |
|---------|

[DEBUG] 25-09-26 19:48:16 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:16 [selectByCategory:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, f.flavour_type_id as flavourTypeId, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 AND c.list_slug = ? ORDER BY (CASE WHEN f.is_new = 1 THEN 0 ELSE 1 END), f.flavour_type_id ASC, f.name_ko ASC
[DEBUG] 25-09-26 19:48:16 [selectByCategory:135] - ==> Parameters: ice-cream-pints(String)
[INFO ] 25-09-26 19:48:16 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       f.flavour_type_id as flavourTypeId,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
  AND c.list_slug = 'ice-cream-pints'
ORDER BY (CASE WHEN f.is_new = 1 THEN 0 ELSE 1 END),
         f.flavour_type_id ASC,
         f.name_ko ASC

[INFO ] 25-09-26 19:48:16 [resultsettable:610] - 
|------|---------------------------------------|-------------|-------|----------------|----------------|--------|-----------------------------------------------------------------------------------|
|id    |slug                                   |name_ko      |is_new |flavour_type_id |list_slug       |name_ko |url                                                                                |
|------|---------------------------------------|-------------|-------|----------------|----------------|--------|-----------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크  |true   |1               |ice-cream-pints |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png        |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png   |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png        |
|30013 |vanilla-ice-cream                      |바닐라          |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                      |
|30001 |chunky-monkey-ice-cream                |청키 몽키®       |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®     |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png  |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png      |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈! |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵      |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png            |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png          |
|30002 |half-baked-ice-cream                   |하프베이크드®      |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                   |
|30008 |karamel-sutra-core                     |카라멜 수트라      |false  |2               |ice-cream-pints |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                     |
|------|---------------------------------------|-------------|-------|----------------|----------------|--------|-----------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:16 [selectByCategory:135] - <==      Total: 13
[INFO ] 25-09-26 19:48:16 [MyInterceptor:122] - running time: 65(ms)
[INFO ] 25-09-26 19:48:16 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:16 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:16 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:48:18 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:18 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:18 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/
[INFO ] 25-09-26 19:48:18 [MyInterceptor:101] - - REFERER : time=1711, url=http://localhost:8080/flavours/ice-cream-pints
[DEBUG] 25-09-26 19:48:18 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 19:48:18 [existsCategorySlug:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String)
[INFO ] 25-09-26 19:48:18 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'strawberry-cheesecake-ice-cream'

[INFO ] 25-09-26 19:48:18 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|0        |
|---------|

[DEBUG] 25-09-26 19:48:18 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:18 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 19:48:18 [selectVariantDetailDefault:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String)
[INFO ] 25-09-26 19:48:18 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 19:48:18 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:48:18 [selectVariantDetailDefault:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:18 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:48:18 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:18 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:48:18 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:48:18 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:18 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:48:18 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:18 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:48:18 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:48:18 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:18 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:48:18 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:18 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:48:18 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:18 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:48:18 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:48:18 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:18 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:48:18 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:48:18 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:48:18 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:48:18 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:18 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:48:18 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:18 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:18 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:48:18 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:48:18 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:48:18 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:48:18 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:18 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:48:18 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:48:18 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:48:18 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:48:18 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:48:18 [MyInterceptor:122] - running time: 96(ms)
[INFO ] 25-09-26 19:48:18 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:18 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:18 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:48:19 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:19 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:19 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:48:19 [MyInterceptor:101] - - REFERER : time=1566, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/
[DEBUG] 25-09-26 19:48:19 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:48:19 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:48:19 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:48:19 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:48:19 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:19 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:48:19 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:19 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:48:19 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:48:19 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:19 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:48:19 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:19 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:48:19 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:48:19 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:19 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:48:19 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:19 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:48:19 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:19 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:48:19 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:48:19 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:19 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:48:19 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:48:19 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:48:19 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:48:19 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:19 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:48:19 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:19 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:19 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:48:19 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:48:19 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:48:19 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:48:19 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:19 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:48:19 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:48:19 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:48:19 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:48:19 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:48:19 [MyInterceptor:122] - running time: 75(ms)
[INFO ] 25-09-26 19:48:19 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:19 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:19 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:48:20 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:20 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:20 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:48:20 [MyInterceptor:101] - - REFERER : time=797, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:48:20 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:48:20 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:48:20 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:48:20 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:48:20 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:20 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:48:20 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:20 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:48:20 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:48:20 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:20 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:48:20 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:20 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:48:20 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:48:20 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:20 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:48:20 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:20 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:48:20 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:20 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:48:20 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:48:20 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:20 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:48:20 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:48:20 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:48:20 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:48:20 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:20 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:48:20 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:20 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:20 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:48:20 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:48:20 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:48:20 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:48:20 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:20 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:48:20 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:48:20 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:48:20 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:48:20 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:48:20 [MyInterceptor:122] - running time: 64(ms)
[INFO ] 25-09-26 19:48:20 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:20 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:20 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:48:21 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:21 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:21 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:48:21 [MyInterceptor:101] - - REFERER : time=614, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:48:21 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:48:21 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:48:21 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:48:21 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:48:21 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:21 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:48:21 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:21 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:48:21 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:48:21 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:21 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:48:21 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:21 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:48:21 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:48:21 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:21 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:48:21 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:21 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:48:21 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:21 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:48:21 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:48:21 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:21 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:48:21 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:48:21 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:48:21 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:48:21 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:21 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:48:21 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:21 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:21 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:48:21 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:48:21 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:48:21 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:48:21 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:21 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:48:21 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:48:21 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:48:21 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:48:21 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:48:21 [MyInterceptor:122] - running time: 49(ms)
[INFO ] 25-09-26 19:48:21 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:21 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:21 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:48:21 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:22 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:22 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:48:22 [MyInterceptor:101] - - REFERER : time=527, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:48:22 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:48:22 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:48:22 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:48:22 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:48:22 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:22 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:48:22 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:22 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:48:22 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:48:22 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:22 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:48:22 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:22 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:48:22 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:48:22 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:22 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:48:22 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:22 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:48:22 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:22 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:48:22 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:48:22 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:22 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:48:22 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:48:22 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:48:22 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:48:22 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:22 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:48:22 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:22 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:22 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:48:22 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:48:22 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:48:22 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:48:22 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:22 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:48:22 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:48:22 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:48:22 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:48:22 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:48:22 [MyInterceptor:122] - running time: 107(ms)
[INFO ] 25-09-26 19:48:22 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:22 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:22 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:48:22 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:22 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:22 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:48:22 [MyInterceptor:101] - - REFERER : time=504, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:48:22 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:48:22 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:48:22 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:48:22 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:48:22 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:22 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:48:22 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:22 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:48:22 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:48:22 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:22 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:48:22 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:22 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:48:22 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:48:22 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:22 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:48:22 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:22 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:48:22 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:22 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:48:22 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:48:22 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:22 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:48:22 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:48:22 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:48:22 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:48:22 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:22 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:48:22 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:22 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:22 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:48:22 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:48:22 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:48:22 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:48:22 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:22 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:48:22 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:48:22 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:48:22 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:48:22 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:48:22 [MyInterceptor:122] - running time: 88(ms)
[INFO ] 25-09-26 19:48:22 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:22 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:22 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:48:23 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:23 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:23 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:48:23 [MyInterceptor:101] - - REFERER : time=486, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:48:23 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:48:23 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:48:23 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:48:23 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:48:23 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:23 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:48:23 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:23 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:48:23 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:48:23 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:23 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:48:23 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:23 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:48:23 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:48:23 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:23 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:48:23 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:23 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:48:23 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:23 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:48:23 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:48:23 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:23 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:48:23 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:48:23 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:48:23 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:48:23 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:23 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:48:23 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:23 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:23 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:48:23 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:48:23 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:48:23 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:48:23 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:23 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:48:23 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:48:23 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:48:23 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:48:23 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:48:23 [MyInterceptor:122] - running time: 109(ms)
[INFO ] 25-09-26 19:48:23 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:23 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:23 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:48:23 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:23 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:23 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:48:23 [MyInterceptor:101] - - REFERER : time=463, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:48:23 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:48:23 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:48:23 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:48:23 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:48:23 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:23 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:48:23 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:23 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:48:23 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:48:23 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:23 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:48:23 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:23 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:48:23 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:48:23 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:23 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:48:23 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:23 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:48:23 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:23 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:48:23 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:48:23 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:23 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:48:23 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:48:23 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:48:23 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:48:23 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:23 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:48:23 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:23 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:23 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:48:23 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:48:23 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:48:23 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:48:23 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:23 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:48:23 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:48:23 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:48:23 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:48:23 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:48:23 [MyInterceptor:122] - running time: 60(ms)
[INFO ] 25-09-26 19:48:23 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:23 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:23 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:48:24 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:24 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:24 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:48:24 [MyInterceptor:101] - - REFERER : time=518, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:48:24 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:48:24 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:48:24 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:48:24 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:48:24 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:24 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:48:24 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:24 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:48:24 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:48:24 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:24 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:48:24 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:24 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:48:24 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:48:24 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:24 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:48:24 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:24 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:48:24 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:24 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:48:24 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:48:24 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:24 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:48:24 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:48:24 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:48:24 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:48:24 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:48:24 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:48:24 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:48:24 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:48:24 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:48:24 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:48:24 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:48:24 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:48:24 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:48:24 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:48:24 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:48:24 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:48:24 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:48:24 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:48:24 [MyInterceptor:122] - running time: 122(ms)
[INFO ] 25-09-26 19:48:24 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:48:24 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:48:24 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:49:54 [BenjerryscloneApplication:53] - Starting BenjerryscloneApplication using Java 17.0.14 with PID 32387 (/Users/sieun/ben-jerrys-clone/build/classes/java/main started by sieun in /Users/sieun/ben-jerrys-clone)
[DEBUG] 25-09-26 19:49:54 [BenjerryscloneApplication:54] - Running with Spring Boot v3.5.5, Spring v6.2.10
[INFO ] 25-09-26 19:49:54 [BenjerryscloneApplication:652] - No active profile set, falling back to 1 default profile: "dev"
[INFO ] 25-09-26 19:49:58 [BenjerryscloneApplication:59] - Started BenjerryscloneApplication in 4.968 seconds (process running for 5.583)
[INFO ] 25-09-26 19:50:07 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:08 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:08 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:50:08 [MyInterceptor:47] - ---------- new client connect ----------
[DEBUG] 25-09-26 19:50:08 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:50:08 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:50:08 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:50:08 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:08 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[INFO ] 25-09-26 19:50:08 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:50:08 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:08 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:50:08 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:50:08 [selectVariantDetail:135] - ==> Parameters: strawberry-cheesecake-ice-cream(String), pint(String)
[DEBUG] 25-09-26 19:50:08 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:50:08 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'strawberry-cheesecake-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:50:08 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:50:08 [resultsettable:610] - 
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                            |name_ko     |description_ko                    |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|
|30004 |20004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |그라함 크래커 스월이 가득한 스트로베리 치즈케이크 아이스크림 |true   |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------|------------|----------------------------------|-------|-----|----------------|--------|

[INFO ] 25-09-26 19:50:08 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:50:08 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:08 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:08 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:50:08 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:50:08 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[DEBUG] 25-09-26 19:50:08 [selectVariantMedia:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:50:08 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:50:08 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30004
ORDER BY role, sort_order

[INFO ] 25-09-26 19:50:08 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|-------------------|
|role      |url                                                                            |alt_ko             |
|----------|-------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png    |스트로베리 치즈케이크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/nutrition/473ml.png  |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:50:08 [selectVariantMedia:135] - <==      Total: 3
[INFO ] 25-09-26 19:50:08 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:50:08 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:08 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:50:08 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:50:08 [selectVariantIngredients:135] - ==> Parameters: 30004(Long)
[DEBUG] 25-09-26 19:50:08 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:50:08 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30004

[INFO ] 25-09-26 19:50:08 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:50:08 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:08 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:50:08 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[INFO ] 25-09-26 19:50:08 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                                    |smartlabel_url |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|아이스크림믹스[유크림, 탈지우유, 정제수, 설탕시럽 (설탕, 정제수), 가당난황, 구아검, 카라기난], 그라함크래커[기타설탕, 옥수수전분, 카놀라유, 대두유, 밀가루], 딸기다이스 [딸기, 설탕, 구아검, 레몬농축과즙], 치즈케이크베이스[설탕, 정제수, 크림치즈, 향료, 젖산], 딸기퓌레 |null           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:50:08 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:08 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:50:08 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[DEBUG] 25-09-26 19:50:08 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:50:08 [selectVariantSourcing:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:50:08 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30004
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:50:08 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:50:08 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:50:08 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[INFO ] 25-09-26 19:50:08 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Open Chain Sourcing           |/assets/img/misc/90008_Cocoa_Sourcing_VLS_Simpler_Icons.avif                |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:08 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:50:08 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:50:08 [selectVariantCerts:135] - ==> Parameters: 30004(Long)
[DEBUG] 25-09-26 19:50:08 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:50:08 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30004
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:50:08 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[INFO ] 25-09-26 19:50:08 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:50:08 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:50:08 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[INFO ] 25-09-26 19:50:08 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:08 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:08 [selectRecommendations:135] - ==> Parameters: 30004(Long)
[INFO ] 25-09-26 19:50:08 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30004
ORDER BY r.slot

[DEBUG] 25-09-26 19:50:08 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:50:08 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[INFO ] 25-09-26 19:50:08 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:50:08 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:50:08 [selectAvailableCategories:135] - <==      Total: 1
[INFO ] 25-09-26 19:50:08 [resultsettable:610] - 
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|id    |slug                              |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                           |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream   |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png   |
|30006 |cherry-garcia-ice-cream           |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png           |
|30003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png |
|------|----------------------------------|------------|-------|-----|----------------|--------|------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:08 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:08 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:50:08 [selectAvailableCategories:135] - ==> Parameters: 20004(Long)
[DEBUG] 25-09-26 19:50:08 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[INFO ] 25-09-26 19:50:08 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20004
  AND v.is_active = 1
ORDER BY c.priority

[DEBUG] 25-09-26 19:50:08 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:50:08 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:50:08 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30004 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:50:08 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:08 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[INFO ] 25-09-26 19:50:08 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:50:08 [findNextVariant:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:08 [findNextVariant:135] - ==> Parameters: 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long), 30004(Long)
[INFO ] 25-09-26 19:50:08 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30004))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30004)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30004)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30004)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:50:08 [MyInterceptor:122] - running time: 312(ms)
[INFO ] 25-09-26 19:50:08 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30001 |chunky-monkey-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:50:08 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:50:08 [MyInterceptor:122] - running time: 318(ms)
[INFO ] 25-09-26 19:50:09 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:09 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:09 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:50:10 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:10 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:10 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/chunky-monkey-ice-cream/pint
[INFO ] 25-09-26 19:50:10 [MyInterceptor:101] - - REFERER : time=2093, url=http://localhost:8080/flavours/strawberry-cheesecake-ice-cream/pint
[DEBUG] 25-09-26 19:50:11 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:50:11 [selectVariantDetail:135] - ==> Parameters: chunky-monkey-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:50:11 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'chunky-monkey-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:50:11 [resultsettable:610] - 
|------|------|------------------------|--------|-------------------------|-------|-----|----------------|--------|
|id    |id    |slug                    |name_ko |description_ko           |is_new |slug |list_slug       |name_ko |
|------|------|------------------------|--------|-------------------------|-------|-----|----------------|--------|
|30001 |20001 |chunky-monkey-ice-cream |청키 몽키®  |호두 퍼지 덩어리가 들어간 바나나 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|------------------------|--------|-------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:50:11 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:11 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:50:11 [selectVariantMedia:135] - ==> Parameters: 30001(Long)
[INFO ] 25-09-26 19:50:11 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30001
ORDER BY role, sort_order

[INFO ] 25-09-26 19:50:11 [resultsettable:610] - 
|----------|---------------------------------------------------------------------------|-------------|
|role      |url                                                                        |alt_ko       |
|----------|---------------------------------------------------------------------------|-------------|
|PACKSHOT  |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png        |청키 몽키 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/chunky-monkey-ice-cream/pint/gallery/01-tower.avif    |null         |
|GALLERY   |/assets/img/flavours/chunky-monkey-ice-cream/pint/gallery/02-envirolid.jpg |null         |
|GALLERY   |/assets/img/flavours/chunky-monkey-ice-cream/pint/gallery/03-scooped.jpg   |null         |
|GALLERY   |/assets/img/flavours/chunky-monkey-ice-cream/pint/gallery/04-enviro.jpg    |null         |
|GALLERY   |/assets/img/flavours/chunky-monkey-ice-cream/pint/gallery/05-hero.jpg      |null         |
|NUTRITION |/assets/img/flavours/chunky-monkey-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml  |
|----------|---------------------------------------------------------------------------|-------------|

[DEBUG] 25-09-26 19:50:11 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:50:11 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:50:11 [selectVariantIngredients:135] - ==> Parameters: 30001(Long)
[INFO ] 25-09-26 19:50:11 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30001

[INFO ] 25-09-26 19:50:11 [resultsettable:610] - 
|-----------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                             |smartlabel_url                                                                                                 |
|-----------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
|크림, 탈지우유, 설탕시럽(설탕, 정제수), 정제수, 설탕, 코코아, 코코아분말, 대두유, 난황, 수수설탕, 전란, 전란액, 소금, 구아검, 카라기난, 바닐라추출물, 맥아분말, 탄산수소나트륨 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100354-0003-en-US-1665758042857/index.html |
|-----------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:11 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:11 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:50:11 [selectVariantSourcing:135] - ==> Parameters: 30001(Long)
[INFO ] 25-09-26 19:50:11 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30001
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:50:11 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:11 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:50:11 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:50:11 [selectVariantCerts:135] - ==> Parameters: 30001(Long)
[INFO ] 25-09-26 19:50:11 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30001
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:50:11 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:50:11 [selectVariantCerts:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:11 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:50:11 [selectRecommendations:135] - ==> Parameters: 30001(Long)
[INFO ] 25-09-26 19:50:11 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30001
ORDER BY r.slot

[INFO ] 25-09-26 19:50:11 [resultsettable:610] - 
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|
|id    |slug                                 |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                              |
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|
|30010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png |
|30006 |cherry-garcia-ice-cream              |체리 가르시아®    |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png              |
|30011 |peanut-butter-cup-ice-cream          |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png          |
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:11 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:11 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:50:11 [selectAvailableCategories:135] - ==> Parameters: 20001(Long)
[INFO ] 25-09-26 19:50:11 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20001
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:50:11 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30001 |
|SCOOP |scoop-shop |스쿱 샵    |30035 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:50:11 [selectAvailableCategories:135] - <==      Total: 2
[DEBUG] 25-09-26 19:50:11 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:50:11 [findNextVariant:135] - ==> Parameters: 30001(Long), 30001(Long), 30001(Long), 30001(Long), 30001(Long), 30001(Long)
[INFO ] 25-09-26 19:50:11 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30001))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30001)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30001)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30001)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30001)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30001)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:50:11 [resultsettable:610] - 
|------|------------------------|-----|
|id    |slug                    |slug |
|------|------------------------|-----|
|30006 |cherry-garcia-ice-cream |pint |
|------|------------------------|-----|

[DEBUG] 25-09-26 19:50:11 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:50:11 [MyInterceptor:122] - running time: 145(ms)
[INFO ] 25-09-26 19:50:11 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:11 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:11 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:50:13 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:13 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:13 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/cherry-garcia-ice-cream/pint
[INFO ] 25-09-26 19:50:13 [MyInterceptor:101] - - REFERER : time=2533, url=http://localhost:8080/flavours/chunky-monkey-ice-cream/pint
[DEBUG] 25-09-26 19:50:13 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:50:13 [selectVariantDetail:135] - ==> Parameters: cherry-garcia-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:50:13 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'cherry-garcia-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:50:13 [resultsettable:610] - 
|------|------|------------------------|---------|-------------------------|-------|-----|----------------|--------|
|id    |id    |slug                    |name_ko  |description_ko           |is_new |slug |list_slug       |name_ko |
|------|------|------------------------|---------|-------------------------|-------|-----|----------------|--------|
|30006 |20006 |cherry-garcia-ice-cream |체리 가르시아® |체리 퍼지 플레이크가 들어간 체리 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|------------------------|---------|-------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:50:13 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:13 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:50:13 [selectVariantMedia:135] - ==> Parameters: 30006(Long)
[INFO ] 25-09-26 19:50:13 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30006
ORDER BY role, sort_order

[INFO ] 25-09-26 19:50:13 [resultsettable:610] - 
|----------|---------------------------------------------------------------------------|---------------|
|role      |url                                                                        |alt_ko         |
|----------|---------------------------------------------------------------------------|---------------|
|PACKSHOT  |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png        |체리 가르시아 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/cherry-garcia-ice-cream/pint/gallery/01-tower.png     |null           |
|GALLERY   |/assets/img/flavours/cherry-garcia-ice-cream/pint/gallery/02-envirolid.jpg |null           |
|GALLERY   |/assets/img/flavours/cherry-garcia-ice-cream/pint/gallery/03-scooped.jpg   |null           |
|GALLERY   |/assets/img/flavours/cherry-garcia-ice-cream/pint/gallery/04-enviro.jpg    |null           |
|GALLERY   |/assets/img/flavours/cherry-garcia-ice-cream/pint/gallery/05-hero.jpg      |null           |
|NUTRITION |/assets/img/flavours/cherry-garcia-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml    |
|----------|---------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:50:13 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:50:13 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:50:13 [selectVariantIngredients:135] - ==> Parameters: 30006(Long)
[INFO ] 25-09-26 19:50:13 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30006

[INFO ] 25-09-26 19:50:13 [resultsettable:610] - 
|---------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                   |smartlabel_url                                                                                                 |
|---------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
|크림, 탈지유, 액상당(설탕, 물), 물, 체리, 설탕, 계란 노른자, 코코넛 오일, (알칼리로 처리한) 코코아, 과일 및 채소 농축액(색소), 코코아 파우더, 구아검, 천연착향료, 레몬 농축액, 카라기난, 유지방, 대두 레시틴. |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100156-0002-en-US-1665758051552/index.html |
|---------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:13 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:13 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:50:13 [selectVariantSourcing:135] - ==> Parameters: 30006(Long)
[INFO ] 25-09-26 19:50:13 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30006
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:50:13 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:13 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:50:13 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:50:13 [selectVariantCerts:135] - ==> Parameters: 30006(Long)
[INFO ] 25-09-26 19:50:13 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30006
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:50:13 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:50:13 [selectVariantCerts:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:13 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:50:13 [selectRecommendations:135] - ==> Parameters: 30006(Long)
[INFO ] 25-09-26 19:50:13 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30006
ORDER BY r.slot

[INFO ] 25-09-26 19:50:13 [resultsettable:610] - 
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|
|id    |slug                                 |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                              |
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream              |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png              |
|30004 |strawberry-cheesecake-ice-cream      |스트로베리 치즈케이크 |true   |pint |ice-cream-pints |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png      |
|30010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png |
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:13 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:13 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:50:13 [selectAvailableCategories:135] - ==> Parameters: 20006(Long)
[INFO ] 25-09-26 19:50:13 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20006
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:50:13 [resultsettable:610] - 
|---------|-----------|--------|------|
|code     |slug       |name_ko |id    |
|---------|-----------|--------|------|
|PINT     |pint       |파인트     |30006 |
|MINI_CUP |mini-cup   |미니컵     |30023 |
|SCOOP    |scoop-shop |스쿱 샵    |30031 |
|---------|-----------|--------|------|

[DEBUG] 25-09-26 19:50:13 [selectAvailableCategories:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:13 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:50:13 [findNextVariant:135] - ==> Parameters: 30006(Long), 30006(Long), 30006(Long), 30006(Long), 30006(Long), 30006(Long)
[INFO ] 25-09-26 19:50:13 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30006))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30006)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30006)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30006)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30006)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30006)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:50:13 [resultsettable:610] - 
|------|--------------------------------------|-----|
|id    |slug                                  |slug |
|------|--------------------------------------|-----|
|30005 |chocolate-chip-cookie-dough-ice-cream |pint |
|------|--------------------------------------|-----|

[DEBUG] 25-09-26 19:50:13 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:50:13 [MyInterceptor:122] - running time: 97(ms)
[INFO ] 25-09-26 19:50:13 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:13 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:13 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:50:14 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:14 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:14 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/chocolate-chip-cookie-dough-ice-cream/pint
[INFO ] 25-09-26 19:50:14 [MyInterceptor:101] - - REFERER : time=846, url=http://localhost:8080/flavours/cherry-garcia-ice-cream/pint
[DEBUG] 25-09-26 19:50:14 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:50:14 [selectVariantDetail:135] - ==> Parameters: chocolate-chip-cookie-dough-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:50:14 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'chocolate-chip-cookie-dough-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:50:14 [resultsettable:610] - 
|------|------|--------------------------------------|------------|-----------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                  |name_ko     |description_ko                     |is_new |slug |list_slug       |name_ko |
|------|------|--------------------------------------|------------|-----------------------------------|-------|-----|----------------|--------|
|30005 |20005 |chocolate-chip-cookie-dough-ice-cream |초콜릿 칩 쿠키 도우 |초콜릿 칩 쿠키 도우의 퍼지 덩어리가 들어간 바닐라 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|--------------------------------------|------------|-----------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:50:14 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:14 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:50:14 [selectVariantMedia:135] - ==> Parameters: 30005(Long)
[INFO ] 25-09-26 19:50:14 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30005
ORDER BY role, sort_order

[INFO ] 25-09-26 19:50:14 [resultsettable:610] - 
|----------|-----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                      |alt_ko             |
|----------|-----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png        |초콜릿 칩 쿠키 도우 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|NUTRITION |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|-----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:50:14 [selectVariantMedia:135] - <==      Total: 6
[DEBUG] 25-09-26 19:50:14 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:50:14 [selectVariantIngredients:135] - ==> Parameters: 30005(Long)
[INFO ] 25-09-26 19:50:14 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30005

[INFO ] 25-09-26 19:50:14 [resultsettable:610] - 
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                                     |smartlabel_url                                                                                                 |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
|크림, 농축 탈지유, 액상당, 물, 표백하지 않은 밀가루, 설탕, 황설탕, 계란 노른자, 버터, 대두유, 계란, 코코넛 오일, 카카오 매스, 바닐라 추출물, 코코아 파우더, 소금, 농후제(구아검, 카라기난), 당밀, 코코아 버터, 천연착향료, 천연조미료, 버터 오일, 유화제(대두 레시틴). |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100583-0002-en-US-1669211882662/index.html |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:14 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:14 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:50:14 [selectVariantSourcing:135] - ==> Parameters: 30005(Long)
[INFO ] 25-09-26 19:50:14 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30005
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:50:14 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:14 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:50:14 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:50:14 [selectVariantCerts:135] - ==> Parameters: 30005(Long)
[INFO ] 25-09-26 19:50:14 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30005
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:50:14 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:50:14 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:50:14 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:50:14 [selectRecommendations:135] - ==> Parameters: 30005(Long)
[INFO ] 25-09-26 19:50:14 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30005
ORDER BY r.slot

[INFO ] 25-09-26 19:50:14 [resultsettable:610] - 
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|
|id    |slug                                 |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                              |
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|
|30013 |vanilla-ice-cream                    |바닐라         |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                    |
|30002 |half-baked-ice-cream                 |하프베이크드®     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                 |
|30010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png |
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:14 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:14 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:50:14 [selectAvailableCategories:135] - ==> Parameters: 20005(Long)
[INFO ] 25-09-26 19:50:14 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20005
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:50:14 [resultsettable:610] - 
|---------|-----------|--------|------|
|code     |slug       |name_ko |id    |
|---------|-----------|--------|------|
|PINT     |pint       |파인트     |30005 |
|MINI_CUP |mini-cup   |미니컵     |30022 |
|SCOOP    |scoop-shop |스쿱 샵    |30033 |
|---------|-----------|--------|------|

[DEBUG] 25-09-26 19:50:14 [selectAvailableCategories:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:14 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:50:14 [findNextVariant:135] - ==> Parameters: 30005(Long), 30005(Long), 30005(Long), 30005(Long), 30005(Long), 30005(Long)
[INFO ] 25-09-26 19:50:14 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30005))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30005)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30005)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30005)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30005)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30005)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:50:14 [resultsettable:610] - 
|------|----------------------------------|-----|
|id    |slug                              |slug |
|------|----------------------------------|-----|
|30003 |chocolate-fudge-brownie-ice-cream |pint |
|------|----------------------------------|-----|

[DEBUG] 25-09-26 19:50:14 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:50:14 [MyInterceptor:122] - running time: 103(ms)
[INFO ] 25-09-26 19:50:14 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:14 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:14 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:50:15 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:15 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:15 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/chocolate-fudge-brownie-ice-cream/pint
[INFO ] 25-09-26 19:50:15 [MyInterceptor:101] - - REFERER : time=807, url=http://localhost:8080/flavours/chocolate-chip-cookie-dough-ice-cream/pint
[DEBUG] 25-09-26 19:50:15 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:50:15 [selectVariantDetail:135] - ==> Parameters: chocolate-fudge-brownie-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:50:15 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'chocolate-fudge-brownie-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:50:15 [resultsettable:610] - 
|------|------|----------------------------------|------------|-----------------------|-------|-----|----------------|--------|
|id    |id    |slug                              |name_ko     |description_ko         |is_new |slug |list_slug       |name_ko |
|------|------|----------------------------------|------------|-----------------------|-------|-----|----------------|--------|
|30003 |20003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |퍼지 브라우니가 들어간 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|----------------------------------|------------|-----------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:50:15 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:15 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:50:15 [selectVariantMedia:135] - ==> Parameters: 30003(Long)
[INFO ] 25-09-26 19:50:15 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30003
ORDER BY role, sort_order

[INFO ] 25-09-26 19:50:15 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                  |alt_ko             |
|----------|-------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png        |초콜릿 퍼지 브라우니 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:50:15 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:50:15 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:50:15 [selectVariantIngredients:135] - ==> Parameters: 30003(Long)
[INFO ] 25-09-26 19:50:15 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30003

[INFO ] 25-09-26 19:50:15 [resultsettable:610] - 
|-------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                               |smartlabel_url                                                                                                           |
|-------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 액상당, 농축 탈지유, 물, 코코아, 설탕, 밀가루, 대두유, 계란 노른자, 전화당, 계란, 계란 흰자, 농후제(구아검, 카라기난), 설탕, 바닐라 추출물, 팽창제(중탄산나트륨), 맥아분 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100477-0002-en-US-1668535427889/index.html#nutrition |
|-------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:15 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:15 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:50:15 [selectVariantSourcing:135] - ==> Parameters: 30003(Long)
[INFO ] 25-09-26 19:50:15 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30003
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:50:15 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Greyston Brownies             |/assets/img/misc/90007_Greyston_Brownies_VLS_Simpler_Icons.avif             |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:15 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 19:50:15 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:50:15 [selectVariantCerts:135] - ==> Parameters: 30003(Long)
[INFO ] 25-09-26 19:50:15 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30003
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:50:15 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Halal        |/assets/img/misc/91001_Halal_Dietary_Icon.avif       |
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:50:15 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:50:15 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:50:15 [selectRecommendations:135] - ==> Parameters: 30003(Long)
[INFO ] 25-09-26 19:50:15 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30003
ORDER BY r.slot

[INFO ] 25-09-26 19:50:15 [resultsettable:610] - 
|------|--------------------------------|------------|-------|-----|----------------|--------|----------------------------------------------------------------------------|
|id    |slug                            |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                         |
|------|--------------------------------|------------|-------|-----|----------------|--------|----------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png |
|30002 |half-baked-ice-cream            |하프베이크드®     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png            |
|30004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |true   |pint |ice-cream-pints |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png |
|------|--------------------------------|------------|-------|-----|----------------|--------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:15 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:15 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:50:15 [selectAvailableCategories:135] - ==> Parameters: 20003(Long)
[INFO ] 25-09-26 19:50:15 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20003
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:50:15 [resultsettable:610] - 
|---------|-----------|--------|------|
|code     |slug       |name_ko |id    |
|---------|-----------|--------|------|
|PINT     |pint       |파인트     |30003 |
|MINI_CUP |mini-cup   |미니컵     |30021 |
|SCOOP    |scoop-shop |스쿱 샵    |30034 |
|---------|-----------|--------|------|

[DEBUG] 25-09-26 19:50:15 [selectAvailableCategories:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:15 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:50:15 [findNextVariant:135] - ==> Parameters: 30003(Long), 30003(Long), 30003(Long), 30003(Long), 30003(Long), 30003(Long)
[INFO ] 25-09-26 19:50:15 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30003))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30003)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30003)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30003)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30003)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30003)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:50:15 [resultsettable:610] - 
|------|---------------------------------------|-----|
|id    |slug                                   |slug |
|------|---------------------------------------|-----|
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |pint |
|------|---------------------------------------|-----|

[DEBUG] 25-09-26 19:50:15 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:50:15 [MyInterceptor:122] - running time: 88(ms)
[INFO ] 25-09-26 19:50:15 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:15 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:15 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:50:16 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:16 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:16 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint
[INFO ] 25-09-26 19:50:16 [MyInterceptor:101] - - REFERER : time=727, url=http://localhost:8080/flavours/chocolate-fudge-brownie-ice-cream/pint
[DEBUG] 25-09-26 19:50:16 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:50:16 [selectVariantDetail:135] - ==> Parameters: coffee-coffee-buzz-buzz-buzz-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:50:16 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'coffee-coffee-buzz-buzz-buzz-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:50:16 [resultsettable:610] - 
|------|------|---------------------------------------|-------------|-------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                   |name_ko      |description_ko                       |is_new |slug |list_slug       |name_ko |
|------|------|---------------------------------------|-------------|-------------------------------------|-------|-----|----------------|--------|
|30007 |20007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈! |커피 아이스크림 베이스에 에스프레소 빈 퍼지가 들어있는 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|---------------------------------------|-------------|-------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:50:16 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:16 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:50:16 [selectVariantMedia:135] - ==> Parameters: 30007(Long)
[INFO ] 25-09-26 19:50:16 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30007
ORDER BY role, sort_order

[INFO ] 25-09-26 19:50:16 [resultsettable:610] - 
|----------|------------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                       |alt_ko             |
|----------|------------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png        |커피커피 버즈버즈버즈 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|------------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 19:50:16 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:50:16 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:50:16 [selectVariantIngredients:135] - ==> Parameters: 30007(Long)
[INFO ] 25-09-26 19:50:16 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30007

[INFO ] 25-09-26 19:50:16 [resultsettable:610] - 
|-----------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                           |smartlabel_url                                                                                                           |
|-----------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 탈지우유, 설탕시럽(설탕, 정제수), 정제수, 설탕, 코코넛유, 커피추출물, 코코아, 커피, 코코아분말, 대두레시틴, 구아검, 바닐라추출물, 카라기난. |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840298617-0002-en-US-1677511188913/index.html#nutrition |
|-----------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:16 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:16 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:50:16 [selectVariantSourcing:135] - ==> Parameters: 30007(Long)
[INFO ] 25-09-26 19:50:16 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30007
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:50:16 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:16 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:50:16 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:50:16 [selectVariantCerts:135] - ==> Parameters: 30007(Long)
[INFO ] 25-09-26 19:50:16 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30007
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:50:16 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:50:16 [selectVariantCerts:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:16 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:50:16 [selectRecommendations:135] - ==> Parameters: 30007(Long)
[INFO ] 25-09-26 19:50:16 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30007
ORDER BY r.slot

[INFO ] 25-09-26 19:50:16 [resultsettable:610] - 
|------|--------------------------------|------------|-------|-----|----------------|--------|----------------------------------------------------------------------------|
|id    |slug                            |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                         |
|------|--------------------------------|------------|-------|-----|----------------|--------|----------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png |
|30013 |vanilla-ice-cream               |바닐라         |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png               |
|30011 |peanut-butter-cup-ice-cream     |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png     |
|------|--------------------------------|------------|-------|-----|----------------|--------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:16 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:16 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:50:16 [selectAvailableCategories:135] - ==> Parameters: 20007(Long)
[INFO ] 25-09-26 19:50:16 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20007
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:50:16 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30007 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:50:16 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:16 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:50:16 [findNextVariant:135] - ==> Parameters: 30007(Long), 30007(Long), 30007(Long), 30007(Long), 30007(Long), 30007(Long)
[INFO ] 25-09-26 19:50:16 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30007))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30007)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30007)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30007)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30007)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30007)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:50:16 [resultsettable:610] - 
|------|----------------------------|-----|
|id    |slug                        |slug |
|------|----------------------------|-----|
|30011 |peanut-butter-cup-ice-cream |pint |
|------|----------------------------|-----|

[DEBUG] 25-09-26 19:50:16 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:50:16 [MyInterceptor:122] - running time: 74(ms)
[INFO ] 25-09-26 19:50:16 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:16 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:16 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:50:17 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:17 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:17 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/peanut-butter-cup-ice-cream/pint
[INFO ] 25-09-26 19:50:17 [MyInterceptor:101] - - REFERER : time=749, url=http://localhost:8080/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint
[DEBUG] 25-09-26 19:50:17 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:50:17 [selectVariantDetail:135] - ==> Parameters: peanut-butter-cup-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:50:17 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'peanut-butter-cup-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:50:17 [resultsettable:610] - 
|------|------|----------------------------|--------|----------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                        |name_ko |description_ko                          |is_new |slug |list_slug       |name_ko |
|------|------|----------------------------|--------|----------------------------------------|-------|-----|----------------|--------|
|30011 |20011 |peanut-butter-cup-ice-cream |피넛 버터 컵 |고소한 피넛버터 아이스크림에 피넛버터 초콜릿이 콕콕 박혀있는 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|----------------------------|--------|----------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:50:17 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:17 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:50:17 [selectVariantMedia:135] - ==> Parameters: 30011(Long)
[INFO ] 25-09-26 19:50:17 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30011
ORDER BY role, sort_order

[INFO ] 25-09-26 19:50:17 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------|---------------|
|role      |url                                                                            |alt_ko         |
|----------|-------------------------------------------------------------------------------|---------------|
|PACKSHOT  |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png        |피넛 버터 컵 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/gallery/01-tower.png     |null           |
|GALLERY   |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/gallery/02-envirolid.jpg |null           |
|GALLERY   |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/gallery/03-scooped.jpg   |null           |
|GALLERY   |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/gallery/04-enviro.jpg    |null           |
|GALLERY   |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/gallery/05-hero.jpg      |null           |
|NUTRITION |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml    |
|----------|-------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:50:17 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:50:17 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:50:17 [selectVariantIngredients:135] - ==> Parameters: 30011(Long)
[INFO ] 25-09-26 19:50:17 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30011

[INFO ] 25-09-26 19:50:17 [resultsettable:610] - 
|------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                |smartlabel_url                                                                                                 |
|------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|
|유크림, 탈지농축우유, 설탕 시럽 (설탕, 정제수), 정제수, 땅콩, 설탕, 코코넛유, 계란 노른자, 부분 지방질 땅콩 가루, 땅콩기름, 우유, 코코아 (알칼리 처리), 소금, 구아검, 대두 레시틴, 바닐라 추출물, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100811-0002-en-US-1675809822278/index.html |
|------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:17 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:17 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:50:17 [selectVariantSourcing:135] - ==> Parameters: 30011(Long)
[INFO ] 25-09-26 19:50:17 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30011
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:50:17 [resultsettable:610] - 
|---------------|-------------------------------------------------------------|
|name_ko        |icon_url                                                     |
|---------------|-------------------------------------------------------------|
|Non-GMO        |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif        |
|Cage-Free Eggs |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif |
|Fairtrade      |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif      |
|Caring Dairy   |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif   |
|---------------|-------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:17 [selectVariantSourcing:135] - <==      Total: 4
[DEBUG] 25-09-26 19:50:17 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:50:17 [selectVariantCerts:135] - ==> Parameters: 30011(Long)
[INFO ] 25-09-26 19:50:17 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30011
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:50:17 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:50:17 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:50:17 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:50:17 [selectRecommendations:135] - ==> Parameters: 30011(Long)
[INFO ] 25-09-26 19:50:17 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30011
ORDER BY r.slot

[INFO ] 25-09-26 19:50:17 [resultsettable:610] - 
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|
|id    |slug                                 |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                              |
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|
|30012 |pistachio-pistachio-ice-cream        |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png        |
|30010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png |
|30009 |mint-chocolate-cookie-ice-cream      |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png      |
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:17 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:17 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:50:17 [selectAvailableCategories:135] - ==> Parameters: 20011(Long)
[INFO ] 25-09-26 19:50:17 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20011
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:50:17 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30011 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:50:17 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:17 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:50:17 [findNextVariant:135] - ==> Parameters: 30011(Long), 30011(Long), 30011(Long), 30011(Long), 30011(Long), 30011(Long)
[INFO ] 25-09-26 19:50:17 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30011))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30011)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30011)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30011)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30011)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30011)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:50:17 [resultsettable:610] - 
|------|------------------------------|-----|
|id    |slug                          |slug |
|------|------------------------------|-----|
|30012 |pistachio-pistachio-ice-cream |pint |
|------|------------------------------|-----|

[DEBUG] 25-09-26 19:50:17 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:50:17 [MyInterceptor:122] - running time: 93(ms)
[INFO ] 25-09-26 19:50:17 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:17 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:17 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:50:17 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:17 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:17 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/pistachio-pistachio-ice-cream/pint
[INFO ] 25-09-26 19:50:17 [MyInterceptor:101] - - REFERER : time=676, url=http://localhost:8080/flavours/peanut-butter-cup-ice-cream/pint
[DEBUG] 25-09-26 19:50:17 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:50:17 [selectVariantDetail:135] - ==> Parameters: pistachio-pistachio-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:50:17 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'pistachio-pistachio-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:50:17 [resultsettable:610] - 
|------|------|------------------------------|------------|---------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                          |name_ko     |description_ko                   |is_new |slug |list_slug       |name_ko |
|------|------|------------------------------|------------|---------------------------------|-------|-----|----------------|--------|
|30012 |20012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |가볍게 로스팅한 피스타치오가 들어있는 피스타치오 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|------------------------------|------------|---------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:50:17 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:17 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:50:17 [selectVariantMedia:135] - ==> Parameters: 30012(Long)
[INFO ] 25-09-26 19:50:17 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30012
ORDER BY role, sort_order

[INFO ] 25-09-26 19:50:17 [resultsettable:610] - 
|----------|---------------------------------------------------------------------------------|-------------|
|role      |url                                                                              |alt_ko       |
|----------|---------------------------------------------------------------------------------|-------------|
|PACKSHOT  |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png        |피스타치오 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/gallery/01-tower.avif    |null         |
|GALLERY   |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/gallery/02-envirolid.jpg |null         |
|GALLERY   |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/gallery/03-scooped.jpg   |null         |
|GALLERY   |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/gallery/04-enviro.jpg    |null         |
|GALLERY   |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/gallery/05-hero.jpg      |null         |
|NUTRITION |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml  |
|----------|---------------------------------------------------------------------------------|-------------|

[DEBUG] 25-09-26 19:50:17 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:50:17 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:50:17 [selectVariantIngredients:135] - ==> Parameters: 30012(Long)
[INFO ] 25-09-26 19:50:17 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30012

[INFO ] 25-09-26 19:50:17 [resultsettable:610] - 
|-------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
|ingredients_ko                                                                                   |smartlabel_url                                                        |
|-------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|
|아이스크림믹스 [유크림, 탈지우유, 설탕시럽 (설탕, 정제수), 정제수, 가당난황, 구아검, 카라기난], 로스티드피스 타치오 [피스타치오, 코코넛유, 소금], 피스타치오향료 |https://smartlabel.unileverusa.com/076840101184-0002-en-US/index.html |
|-------------------------------------------------------------------------------------------------|----------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:17 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:17 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:50:17 [selectVariantSourcing:135] - ==> Parameters: 30012(Long)
[INFO ] 25-09-26 19:50:17 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30012
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:50:17 [resultsettable:610] - 
|---------------|-------------------------------------------------------------|
|name_ko        |icon_url                                                     |
|---------------|-------------------------------------------------------------|
|Non-GMO        |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif        |
|Cage-Free Eggs |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif |
|Fairtrade      |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif      |
|Caring Dairy   |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif   |
|---------------|-------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:17 [selectVariantSourcing:135] - <==      Total: 4
[DEBUG] 25-09-26 19:50:17 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:50:17 [selectVariantCerts:135] - ==> Parameters: 30012(Long)
[INFO ] 25-09-26 19:50:17 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30012
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:50:17 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:50:17 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:50:17 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:50:17 [selectRecommendations:135] - ==> Parameters: 30012(Long)
[INFO ] 25-09-26 19:50:17 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30012
ORDER BY r.slot

[INFO ] 25-09-26 19:50:17 [resultsettable:610] - 
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|
|id    |slug                                 |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                              |
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|
|30011 |peanut-butter-cup-ice-cream          |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png          |
|30010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png |
|30009 |mint-chocolate-cookie-ice-cream      |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png      |
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:17 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:17 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:50:17 [selectAvailableCategories:135] - ==> Parameters: 20012(Long)
[INFO ] 25-09-26 19:50:17 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20012
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:50:17 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30012 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:50:17 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:17 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:50:17 [findNextVariant:135] - ==> Parameters: 30012(Long), 30012(Long), 30012(Long), 30012(Long), 30012(Long), 30012(Long)
[INFO ] 25-09-26 19:50:17 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30012))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30012)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30012)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30012)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30012)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30012)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:50:17 [resultsettable:610] - 
|------|---------------------|-----|
|id    |slug                 |slug |
|------|---------------------|-----|
|30002 |half-baked-ice-cream |pint |
|------|---------------------|-----|

[DEBUG] 25-09-26 19:50:17 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:50:17 [MyInterceptor:122] - running time: 137(ms)
[INFO ] 25-09-26 19:50:18 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:18 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:18 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:50:18 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:18 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:18 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/half-baked-ice-cream/pint
[INFO ] 25-09-26 19:50:18 [MyInterceptor:101] - - REFERER : time=515, url=http://localhost:8080/flavours/pistachio-pistachio-ice-cream/pint
[DEBUG] 25-09-26 19:50:18 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:50:18 [selectVariantDetail:135] - ==> Parameters: half-baked-ice-cream(String), pint(String)
[INFO ] 25-09-26 19:50:18 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'half-baked-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:50:18 [resultsettable:610] - 
|------|------|---------------------|--------|-------------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                 |name_ko |description_ko                                   |is_new |slug |list_slug       |name_ko |
|------|------|---------------------|--------|-------------------------------------------------|-------|-----|----------------|--------|
|30002 |20002 |half-baked-ice-cream |하프베이크드® |초코칩 쿠키도우와 퍼지 브라우니의 청크가 절묘하게 어우러진 초콜릿 & 바닐라 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|---------------------|--------|-------------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:50:18 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:18 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:50:18 [selectVariantMedia:135] - ==> Parameters: 30002(Long)
[INFO ] 25-09-26 19:50:18 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30002
ORDER BY role, sort_order

[INFO ] 25-09-26 19:50:18 [resultsettable:610] - 
|----------|------------------------------------------------------------------------|--------------|
|role      |url                                                                     |alt_ko        |
|----------|------------------------------------------------------------------------|--------------|
|PACKSHOT  |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png        |하프베이크드 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/half-baked-ice-cream/pint/gallery/01-tower.png     |null          |
|GALLERY   |/assets/img/flavours/half-baked-ice-cream/pint/gallery/02-envirolid.jpg |null          |
|GALLERY   |/assets/img/flavours/half-baked-ice-cream/pint/gallery/03-scooped.jpg   |null          |
|GALLERY   |/assets/img/flavours/half-baked-ice-cream/pint/gallery/04-enviro.jpg    |null          |
|GALLERY   |/assets/img/flavours/half-baked-ice-cream/pint/gallery/05-hero.jpg      |null          |
|NUTRITION |/assets/img/flavours/half-baked-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml   |
|----------|------------------------------------------------------------------------|--------------|

[DEBUG] 25-09-26 19:50:18 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:50:18 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:50:18 [selectVariantIngredients:135] - ==> Parameters: 30002(Long)
[INFO ] 25-09-26 19:50:18 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30002

[INFO ] 25-09-26 19:50:18 [resultsettable:610] - 
|-----------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                     |smartlabel_url                                                                                                           |
|-----------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽, 탈지농축우유, 정제수, 설탕, 밀가루, 코코아분말, 갈색 설탕, 가당난황, 대두유, 버터, 계란, 전화당, 초콜릿 리커, 바닐라 추출물, 소금, 계란 흰자, 구아검, 카라기난, 당밀, 코코아버터, 천연향료, 맥아분말 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840101320-0002-en-US-1669212157071/index.html#nutrition |
|-----------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:18 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:18 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:50:18 [selectVariantSourcing:135] - ==> Parameters: 30002(Long)
[INFO ] 25-09-26 19:50:18 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30002
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:50:18 [resultsettable:610] - 
|----------------|--------------------------------------------------------------|
|name_ko         |icon_url                                                      |
|----------------|--------------------------------------------------------------|
|Non-GMO         |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif         |
|Fairtrade       |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif       |
|Free Range Eggs |/assets/img/misc/90003_Free-range_Eggs_VLS_Simpler_Icons.avif |
|----------------|--------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:18 [selectVariantSourcing:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:18 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:50:18 [selectVariantCerts:135] - ==> Parameters: 30002(Long)
[INFO ] 25-09-26 19:50:18 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30002
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:50:18 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:50:18 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:50:18 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:50:18 [selectRecommendations:135] - ==> Parameters: 30002(Long)
[INFO ] 25-09-26 19:50:18 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30002
ORDER BY r.slot

[INFO ] 25-09-26 19:50:18 [resultsettable:610] - 
|------|--------------------------------------|------------|-------|-----|----------------|--------|----------------------------------------------------------------------------------|
|id    |slug                                  |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                               |
|------|--------------------------------------|------------|-------|-----|----------------|--------|----------------------------------------------------------------------------------|
|30005 |chocolate-chip-cookie-dough-ice-cream |초콜릿 칩 쿠키 도우 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png |
|30003 |chocolate-fudge-brownie-ice-cream     |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png     |
|30009 |mint-chocolate-cookie-ice-cream       |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png       |
|------|--------------------------------------|------------|-------|-----|----------------|--------|----------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:18 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:18 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:50:18 [selectAvailableCategories:135] - ==> Parameters: 20002(Long)
[INFO ] 25-09-26 19:50:18 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20002
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:50:18 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30002 |
|SCOOP |scoop-shop |스쿱 샵    |30036 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 19:50:18 [selectAvailableCategories:135] - <==      Total: 2
[DEBUG] 25-09-26 19:50:18 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:50:18 [findNextVariant:135] - ==> Parameters: 30002(Long), 30002(Long), 30002(Long), 30002(Long), 30002(Long), 30002(Long)
[INFO ] 25-09-26 19:50:18 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30002))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30002)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30002)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30002)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30002)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30002)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:50:18 [resultsettable:610] - 
|------|-------------------|-----|
|id    |slug               |slug |
|------|-------------------|-----|
|30008 |karamel-sutra-core |pint |
|------|-------------------|-----|

[DEBUG] 25-09-26 19:50:18 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:50:18 [MyInterceptor:122] - running time: 83(ms)
[INFO ] 25-09-26 19:50:18 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:18 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:18 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:50:19 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:19 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:19 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/karamel-sutra-core/pint
[INFO ] 25-09-26 19:50:19 [MyInterceptor:101] - - REFERER : time=535, url=http://localhost:8080/flavours/half-baked-ice-cream/pint
[DEBUG] 25-09-26 19:50:19 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:50:19 [selectVariantDetail:135] - ==> Parameters: karamel-sutra-core(String), pint(String)
[INFO ] 25-09-26 19:50:19 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'karamel-sutra-core'
  AND c.slug = 'pint'

[INFO ] 25-09-26 19:50:19 [resultsettable:610] - 
|------|------|-------------------|--------|-------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug               |name_ko |description_ko                       |is_new |slug |list_slug       |name_ko |
|------|------|-------------------|--------|-------------------------------------|-------|-----|----------------|--------|
|30008 |20008 |karamel-sutra-core |카라멜 수트라 |퍼지 칩과 부드러운 카라멜이 들어있는 초콜릿 & 카라멜 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------|--------|-------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 19:50:19 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:19 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:50:19 [selectVariantMedia:135] - ==> Parameters: 30008(Long)
[INFO ] 25-09-26 19:50:19 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30008
ORDER BY role, sort_order

[INFO ] 25-09-26 19:50:19 [resultsettable:610] - 
|----------|----------------------------------------------------------------------|------------------|
|role      |url                                                                   |alt_ko            |
|----------|----------------------------------------------------------------------|------------------|
|PACKSHOT  |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png        |카라멜 수트라 코어 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/karamel-sutra-core/pint/gallery/01-tower.png     |null              |
|GALLERY   |/assets/img/flavours/karamel-sutra-core/pint/gallery/02-envirolid.jpg |null              |
|GALLERY   |/assets/img/flavours/karamel-sutra-core/pint/gallery/03-scooped.jpg   |null              |
|GALLERY   |/assets/img/flavours/karamel-sutra-core/pint/gallery/04-enviro.jpg    |null              |
|GALLERY   |/assets/img/flavours/karamel-sutra-core/pint/gallery/05-hero.jpg      |null              |
|NUTRITION |/assets/img/flavours/karamel-sutra-core/pint/nutrition/473ml.png      |영양성분표 473ml       |
|----------|----------------------------------------------------------------------|------------------|

[DEBUG] 25-09-26 19:50:19 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 19:50:19 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:50:19 [selectVariantIngredients:135] - ==> Parameters: 30008(Long)
[INFO ] 25-09-26 19:50:19 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30008

[INFO ] 25-09-26 19:50:19 [resultsettable:610] - 
|---------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                     |smartlabel_url                                                                                                           |
|---------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 탈지우유, 설탕시럽 (설탕, 정제수), 정제수, 설탕, 우유, 옥수수 시럽, 코코아, 달걀 노른자, 코코넛유, 버터 (크림, 소금), 코코아분말, 유지방, 펙틴, 구아검, 베이킹 소다, 락타아제, 대두 레시틴, 바닐라 추출물, 소금, 카라기난, 천연향료. |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840101542-0002-en-US-1675805403456/index.html#nutrition |
|---------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:19 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:19 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:50:19 [selectVariantSourcing:135] - ==> Parameters: 30008(Long)
[INFO ] 25-09-26 19:50:19 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30008
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:50:19 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:19 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:50:19 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:50:19 [selectVariantCerts:135] - ==> Parameters: 30008(Long)
[INFO ] 25-09-26 19:50:19 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30008
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:50:19 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 19:50:19 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 19:50:19 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:50:19 [selectRecommendations:135] - ==> Parameters: 30008(Long)
[INFO ] 25-09-26 19:50:19 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30008
ORDER BY r.slot

[INFO ] 25-09-26 19:50:19 [resultsettable:610] - 
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|
|id    |slug                                 |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                              |
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream      |스트로베리 치즈케이크 |true   |pint |ice-cream-pints |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png      |
|30010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png |
|30009 |mint-chocolate-cookie-ice-cream      |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png      |
|------|-------------------------------------|------------|-------|-----|----------------|--------|---------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:19 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:19 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:50:19 [selectAvailableCategories:135] - ==> Parameters: 20008(Long)
[INFO ] 25-09-26 19:50:19 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20008
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:50:19 [resultsettable:610] - 
|-----|-----|--------|------|
|code |slug |name_ko |id    |
|-----|-----|--------|------|
|PINT |pint |파인트     |30008 |
|-----|-----|--------|------|

[DEBUG] 25-09-26 19:50:19 [selectAvailableCategories:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:19 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:50:19 [findNextVariant:135] - ==> Parameters: 30008(Long), 30008(Long), 30008(Long), 30008(Long), 30008(Long), 30008(Long)
[INFO ] 25-09-26 19:50:19 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30008))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30008)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30008)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30008)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30008)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30008)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:50:19 [resultsettable:610] - 
|------|------------------------|---------|
|id    |slug                    |slug     |
|------|------------------------|---------|
|30023 |cherry-garcia-ice-cream |mini-cup |
|------|------------------------|---------|

[DEBUG] 25-09-26 19:50:19 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:50:19 [MyInterceptor:122] - running time: 95(ms)
[INFO ] 25-09-26 19:50:19 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:19 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:19 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 19:50:19 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:19 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:19 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/cherry-garcia-ice-cream/mini-cup
[INFO ] 25-09-26 19:50:19 [MyInterceptor:101] - - REFERER : time=631, url=http://localhost:8080/flavours/karamel-sutra-core/pint
[DEBUG] 25-09-26 19:50:19 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 19:50:19 [selectVariantDetail:135] - ==> Parameters: cherry-garcia-ice-cream(String), mini-cup(String)
[INFO ] 25-09-26 19:50:19 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'cherry-garcia-ice-cream'
  AND c.slug = 'mini-cup'

[INFO ] 25-09-26 19:50:19 [resultsettable:610] - 
|------|------|------------------------|---------|-------------------------|-------|---------|---------------|--------|
|id    |id    |slug                    |name_ko  |description_ko           |is_new |slug     |list_slug      |name_ko |
|------|------|------------------------|---------|-------------------------|-------|---------|---------------|--------|
|30023 |20006 |cherry-garcia-ice-cream |체리 가르시아® |체리 퍼지 플레이크가 들어간 체리 아이스크림 |false  |mini-cup |ice-cream-cups |미니컵     |
|------|------|------------------------|---------|-------------------------|-------|---------|---------------|--------|

[DEBUG] 25-09-26 19:50:19 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:19 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 19:50:19 [selectVariantMedia:135] - ==> Parameters: 30023(Long)
[INFO ] 25-09-26 19:50:19 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30023
ORDER BY role, sort_order

[INFO ] 25-09-26 19:50:19 [resultsettable:610] - 
|----------|---------------------------------------------------------------------------|---------------|
|role      |url                                                                        |alt_ko         |
|----------|---------------------------------------------------------------------------|---------------|
|PACKSHOT  |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png    |체리 가르시아 미니컵 팩샷 |
|GALLERY   |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/gallery/01-tower.png |null           |
|NUTRITION |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/nutrition/120ml.png  |영양성분표 120ml    |
|----------|---------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 19:50:19 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:19 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 19:50:19 [selectVariantIngredients:135] - ==> Parameters: 30023(Long)
[INFO ] 25-09-26 19:50:19 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30023

[INFO ] 25-09-26 19:50:19 [resultsettable:610] - 
|---------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                   |smartlabel_url                                                                                                           |
|---------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 탈지유, 액상당(설탕, 물), 물, 체리, 설탕, 계란 노른자, 코코넛 오일, (알칼리로 처리한) 코코아, 과일 및 채소 농축액(색소), 코코아 파우더, 구아검, 천연착향료, 레몬 농축액, 카라기난, 유지방, 대두 레시틴. |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840200153-0003-en-US-1701785653440/index.html#nutrition |
|---------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:19 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 19:50:19 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 19:50:19 [selectVariantSourcing:135] - ==> Parameters: 30023(Long)
[INFO ] 25-09-26 19:50:19 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30023
ORDER BY vs.sort_order

[INFO ] 25-09-26 19:50:19 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.avif                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 19:50:19 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 19:50:19 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 19:50:19 [selectVariantCerts:135] - ==> Parameters: 30023(Long)
[INFO ] 25-09-26 19:50:19 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30023
ORDER BY vc.sort_order

[INFO ] 25-09-26 19:50:19 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 19:50:19 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 19:50:19 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 19:50:19 [selectRecommendations:135] - ==> Parameters: 30023(Long)
[INFO ] 25-09-26 19:50:19 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30023
ORDER BY r.slot

[INFO ] 25-09-26 19:50:19 [resultsettable:610] - 
|---|-----|--------|-------|-----|----------|--------|----|
|id |slug |name_ko |is_new |slug |list_slug |name_ko |url |
|---|-----|--------|-------|-----|----------|--------|----|
|---|-----|--------|-------|-----|----------|--------|----|

[DEBUG] 25-09-26 19:50:19 [selectRecommendations:135] - <==      Total: 0
[DEBUG] 25-09-26 19:50:19 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 19:50:19 [selectAvailableCategories:135] - ==> Parameters: 20006(Long)
[INFO ] 25-09-26 19:50:19 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20006
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 19:50:19 [resultsettable:610] - 
|---------|-----------|--------|------|
|code     |slug       |name_ko |id    |
|---------|-----------|--------|------|
|PINT     |pint       |파인트     |30006 |
|MINI_CUP |mini-cup   |미니컵     |30023 |
|SCOOP    |scoop-shop |스쿱 샵    |30031 |
|---------|-----------|--------|------|

[DEBUG] 25-09-26 19:50:19 [selectAvailableCategories:135] - <==      Total: 3
[DEBUG] 25-09-26 19:50:19 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 19:50:19 [findNextVariant:135] - ==> Parameters: 30023(Long), 30023(Long), 30023(Long), 30023(Long), 30023(Long), 30023(Long)
[INFO ] 25-09-26 19:50:19 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30023))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30023)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30023)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30023)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30023)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30023)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 19:50:19 [resultsettable:610] - 
|------|--------------------------------------|---------|
|id    |slug                                  |slug     |
|------|--------------------------------------|---------|
|30022 |chocolate-chip-cookie-dough-ice-cream |mini-cup |
|------|--------------------------------------|---------|

[DEBUG] 25-09-26 19:50:19 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 19:50:19 [MyInterceptor:122] - running time: 64(ms)
[INFO ] 25-09-26 19:50:19 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 19:50:19 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 19:50:19 [MyInterceptor:85] - [GET] http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json
[INFO ] 25-09-26 20:05:07 [BenjerryscloneApplication:53] - Starting BenjerryscloneApplication using Java 17.0.14 with PID 33601 (/Users/sieun/ben-jerrys-clone/build/classes/java/main started by sieun in /Users/sieun/ben-jerrys-clone)
[DEBUG] 25-09-26 20:05:07 [BenjerryscloneApplication:54] - Running with Spring Boot v3.5.5, Spring v6.2.10
[INFO ] 25-09-26 20:05:07 [BenjerryscloneApplication:652] - No active profile set, falling back to 1 default profile: "dev"
[INFO ] 25-09-26 20:05:11 [BenjerryscloneApplication:59] - Started BenjerryscloneApplication in 4.76 seconds (process running for 5.398)
[INFO ] 25-09-26 20:05:33 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 20:05:34 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 20:05:34 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup
[DEBUG] 25-09-26 20:05:34 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 20:05:34 [selectVariantDetail:135] - ==> Parameters: chocolate-chip-cookie-dough-ice-cream(String), mini-cup(String)
[INFO ] 25-09-26 20:05:34 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'chocolate-chip-cookie-dough-ice-cream'
  AND c.slug = 'mini-cup'

[INFO ] 25-09-26 20:05:34 [resultsettable:610] - 
|------|------|--------------------------------------|------------|-----------------------------------|-------|---------|---------------|--------|
|id    |id    |slug                                  |name_ko     |description_ko                     |is_new |slug     |list_slug      |name_ko |
|------|------|--------------------------------------|------------|-----------------------------------|-------|---------|---------------|--------|
|30022 |20005 |chocolate-chip-cookie-dough-ice-cream |초콜릿 칩 쿠키 도우 |초콜릿 칩 쿠키 도우의 퍼지 덩어리가 들어간 바닐라 아이스크림 |false  |mini-cup |ice-cream-cups |미니컵     |
|------|------|--------------------------------------|------------|-----------------------------------|-------|---------|---------------|--------|

[DEBUG] 25-09-26 20:05:34 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 20:05:34 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 20:05:34 [selectVariantMedia:135] - ==> Parameters: 30022(Long)
[INFO ] 25-09-26 20:05:34 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30022
ORDER BY role, sort_order

[INFO ] 25-09-26 20:05:34 [resultsettable:610] - 
|----------|-----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                      |alt_ko             |
|----------|-----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png    |초콜릿 칩 쿠키 도우 미니컵 팩샷 |
|GALLERY   |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/nutrition/120ml.png  |영양성분표 120ml        |
|----------|-----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 20:05:34 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 20:05:34 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 20:05:34 [selectVariantIngredients:135] - ==> Parameters: 30022(Long)
[INFO ] 25-09-26 20:05:34 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30022

[INFO ] 25-09-26 20:05:34 [resultsettable:610] - 
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                                     |smartlabel_url                                                                                                           |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 농축 탈지유, 액상당, 물, 표백하지 않은 밀가루, 설탕, 황설탕, 계란 노른자, 버터, 대두유, 계란, 코코넛 오일, 카카오 매스, 바닐라 추출물, 코코아 파우더, 소금, 농후제(구아검, 카라기난), 당밀, 코코아 버터, 천연착향료, 천연조미료, 버터 오일, 유화제(대두 레시틴). |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840200276-0002-en-US-1701803145903/index.html#nutrition |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:05:34 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 20:05:34 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 20:05:34 [selectVariantSourcing:135] - ==> Parameters: 30022(Long)
[INFO ] 25-09-26 20:05:34 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30022
ORDER BY vs.sort_order

[INFO ] 25-09-26 20:05:34 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.webp                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:05:34 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 20:05:34 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 20:05:34 [selectVariantCerts:135] - ==> Parameters: 30022(Long)
[INFO ] 25-09-26 20:05:34 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30022
ORDER BY vc.sort_order

[INFO ] 25-09-26 20:05:34 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 20:05:34 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 20:05:34 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 20:05:34 [selectRecommendations:135] - ==> Parameters: 30022(Long)
[INFO ] 25-09-26 20:05:34 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30022
ORDER BY r.slot

[INFO ] 25-09-26 20:05:34 [resultsettable:610] - 
|---|-----|--------|-------|-----|----------|--------|----|
|id |slug |name_ko |is_new |slug |list_slug |name_ko |url |
|---|-----|--------|-------|-----|----------|--------|----|
|---|-----|--------|-------|-----|----------|--------|----|

[DEBUG] 25-09-26 20:05:34 [selectRecommendations:135] - <==      Total: 0
[DEBUG] 25-09-26 20:05:34 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 20:05:34 [selectAvailableCategories:135] - ==> Parameters: 20005(Long)
[INFO ] 25-09-26 20:05:34 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20005
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 20:05:34 [resultsettable:610] - 
|---------|-----------|--------|------|
|code     |slug       |name_ko |id    |
|---------|-----------|--------|------|
|PINT     |pint       |파인트     |30005 |
|MINI_CUP |mini-cup   |미니컵     |30022 |
|SCOOP    |scoop-shop |스쿱 샵    |30033 |
|---------|-----------|--------|------|

[DEBUG] 25-09-26 20:05:34 [selectAvailableCategories:135] - <==      Total: 3
[DEBUG] 25-09-26 20:05:34 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 20:05:34 [findNextVariant:135] - ==> Parameters: 30022(Long), 30022(Long), 30022(Long), 30022(Long), 30022(Long), 30022(Long)
[INFO ] 25-09-26 20:05:34 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30022))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30022)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30022)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30022)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30022)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30022)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 20:05:34 [resultsettable:610] - 
|------|----------------------------------|---------|
|id    |slug                              |slug     |
|------|----------------------------------|---------|
|30021 |chocolate-fudge-brownie-ice-cream |mini-cup |
|------|----------------------------------|---------|

[DEBUG] 25-09-26 20:05:34 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 20:05:34 [MyInterceptor:122] - running time: 1096(ms)
[INFO ] 25-09-26 20:05:46 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 20:05:46 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 20:05:46 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/cherry-garcia-ice-cream/mini-cup
[INFO ] 25-09-26 20:05:46 [MyInterceptor:101] - - REFERER : time=11187, url=http://localhost:8080/flavours/karamel-sutra-core/pint
[DEBUG] 25-09-26 20:05:46 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 20:05:46 [selectVariantDetail:135] - ==> Parameters: cherry-garcia-ice-cream(String), mini-cup(String)
[INFO ] 25-09-26 20:05:46 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'cherry-garcia-ice-cream'
  AND c.slug = 'mini-cup'

[INFO ] 25-09-26 20:05:46 [resultsettable:610] - 
|------|------|------------------------|---------|-------------------------|-------|---------|---------------|--------|
|id    |id    |slug                    |name_ko  |description_ko           |is_new |slug     |list_slug      |name_ko |
|------|------|------------------------|---------|-------------------------|-------|---------|---------------|--------|
|30023 |20006 |cherry-garcia-ice-cream |체리 가르시아® |체리 퍼지 플레이크가 들어간 체리 아이스크림 |false  |mini-cup |ice-cream-cups |미니컵     |
|------|------|------------------------|---------|-------------------------|-------|---------|---------------|--------|

[DEBUG] 25-09-26 20:05:46 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 20:05:46 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 20:05:46 [selectVariantMedia:135] - ==> Parameters: 30023(Long)
[INFO ] 25-09-26 20:05:46 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30023
ORDER BY role, sort_order

[INFO ] 25-09-26 20:05:46 [resultsettable:610] - 
|----------|---------------------------------------------------------------------------|---------------|
|role      |url                                                                        |alt_ko         |
|----------|---------------------------------------------------------------------------|---------------|
|PACKSHOT  |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png    |체리 가르시아 미니컵 팩샷 |
|GALLERY   |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/gallery/01-tower.png |null           |
|NUTRITION |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/nutrition/120ml.png  |영양성분표 120ml    |
|----------|---------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 20:05:46 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 20:05:46 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 20:05:46 [selectVariantIngredients:135] - ==> Parameters: 30023(Long)
[INFO ] 25-09-26 20:05:46 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30023

[INFO ] 25-09-26 20:05:46 [resultsettable:610] - 
|---------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                   |smartlabel_url                                                                                                           |
|---------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 탈지유, 액상당(설탕, 물), 물, 체리, 설탕, 계란 노른자, 코코넛 오일, (알칼리로 처리한) 코코아, 과일 및 채소 농축액(색소), 코코아 파우더, 구아검, 천연착향료, 레몬 농축액, 카라기난, 유지방, 대두 레시틴. |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840200153-0003-en-US-1701785653440/index.html#nutrition |
|---------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:05:46 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 20:05:46 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 20:05:46 [selectVariantSourcing:135] - ==> Parameters: 30023(Long)
[INFO ] 25-09-26 20:05:46 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30023
ORDER BY vs.sort_order

[INFO ] 25-09-26 20:05:46 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.webp                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:05:46 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 20:05:46 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 20:05:46 [selectVariantCerts:135] - ==> Parameters: 30023(Long)
[INFO ] 25-09-26 20:05:46 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30023
ORDER BY vc.sort_order

[INFO ] 25-09-26 20:05:46 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 20:05:46 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 20:05:46 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 20:05:46 [selectRecommendations:135] - ==> Parameters: 30023(Long)
[INFO ] 25-09-26 20:05:46 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30023
ORDER BY r.slot

[INFO ] 25-09-26 20:05:46 [resultsettable:610] - 
|---|-----|--------|-------|-----|----------|--------|----|
|id |slug |name_ko |is_new |slug |list_slug |name_ko |url |
|---|-----|--------|-------|-----|----------|--------|----|
|---|-----|--------|-------|-----|----------|--------|----|

[DEBUG] 25-09-26 20:05:46 [selectRecommendations:135] - <==      Total: 0
[DEBUG] 25-09-26 20:05:46 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 20:05:46 [selectAvailableCategories:135] - ==> Parameters: 20006(Long)
[INFO ] 25-09-26 20:05:46 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20006
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 20:05:46 [resultsettable:610] - 
|---------|-----------|--------|------|
|code     |slug       |name_ko |id    |
|---------|-----------|--------|------|
|PINT     |pint       |파인트     |30006 |
|MINI_CUP |mini-cup   |미니컵     |30023 |
|SCOOP    |scoop-shop |스쿱 샵    |30031 |
|---------|-----------|--------|------|

[DEBUG] 25-09-26 20:05:46 [selectAvailableCategories:135] - <==      Total: 3
[DEBUG] 25-09-26 20:05:46 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 20:05:46 [findNextVariant:135] - ==> Parameters: 30023(Long), 30023(Long), 30023(Long), 30023(Long), 30023(Long), 30023(Long)
[INFO ] 25-09-26 20:05:46 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30023))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30023)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30023)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30023)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30023)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30023)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 20:05:46 [resultsettable:610] - 
|------|--------------------------------------|---------|
|id    |slug                                  |slug     |
|------|--------------------------------------|---------|
|30022 |chocolate-chip-cookie-dough-ice-cream |mini-cup |
|------|--------------------------------------|---------|

[DEBUG] 25-09-26 20:05:46 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 20:05:46 [MyInterceptor:122] - running time: 195(ms)
[INFO ] 25-09-26 20:05:58 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 20:05:58 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 20:05:58 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[INFO ] 25-09-26 20:05:58 [MyInterceptor:101] - - REFERER : time=12120, url=http://localhost:8080/flavours/cherry-garcia-ice-cream/mini-cup
[DEBUG] 25-09-26 20:05:58 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 20:05:58 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 20:05:58 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 20:05:58 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:05:58 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 20:05:58 [MyInterceptor:122] - running time: 177(ms)
[INFO ] 25-09-26 20:06:02 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 20:06:02 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 20:06:02 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[INFO ] 25-09-26 20:06:02 [MyInterceptor:101] - - REFERER : time=4233, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 20:06:02 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 20:06:02 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), pint(String)
[INFO ] 25-09-26 20:06:02 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'pint'

[INFO ] 25-09-26 20:06:02 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug |list_slug       |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|
|30010 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 20:06:02 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 20:06:02 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 20:06:02 [selectVariantMedia:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 20:06:02 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30010
ORDER BY role, sort_order

[INFO ] 25-09-26 20:06:02 [resultsettable:610] - 
|----------|----------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                     |alt_ko             |
|----------|----------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |뉴욕 수퍼 퍼지 청크 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|----------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 20:06:02 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 20:06:02 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 20:06:02 [selectVariantIngredients:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 20:06:02 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30010

[INFO ] 25-09-26 20:06:02 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                                |smartlabel_url                                                                                                           |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100149-0002-en-US-1670951315103/index.html#nutrition |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:06:02 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 20:06:03 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 20:06:03 [selectVariantSourcing:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 20:06:03 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30010
ORDER BY vs.sort_order

[INFO ] 25-09-26 20:06:03 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.webp                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:06:03 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 20:06:03 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 20:06:03 [selectVariantCerts:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 20:06:03 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30010
ORDER BY vc.sort_order

[INFO ] 25-09-26 20:06:03 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 20:06:03 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 20:06:03 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 20:06:03 [selectRecommendations:135] - ==> Parameters: 30010(Long)
[INFO ] 25-09-26 20:06:03 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30010
ORDER BY r.slot

[INFO ] 25-09-26 20:06:03 [resultsettable:610] - 
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|id    |slug                          |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                       |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|
|30001 |chunky-monkey-ice-cream       |청키 몽키®      |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png       |
|30011 |peanut-butter-cup-ice-cream   |피넛 버터 컵     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png   |
|30012 |pistachio-pistachio-ice-cream |피스타치오 피스타치오 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png |
|------|------------------------------|------------|-------|-----|----------------|--------|--------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:06:03 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 20:06:03 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 20:06:03 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 20:06:03 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 20:06:03 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 20:06:03 [selectAvailableCategories:135] - <==      Total: 2
[DEBUG] 25-09-26 20:06:03 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 20:06:03 [findNextVariant:135] - ==> Parameters: 30010(Long), 30010(Long), 30010(Long), 30010(Long), 30010(Long), 30010(Long)
[INFO ] 25-09-26 20:06:03 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30010))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30010)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30010)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30010)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30010)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30010)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 20:06:03 [resultsettable:610] - 
|------|--------------------------------|-----|
|id    |slug                            |slug |
|------|--------------------------------|-----|
|30009 |mint-chocolate-cookie-ice-cream |pint |
|------|--------------------------------|-----|

[DEBUG] 25-09-26 20:06:03 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 20:06:03 [MyInterceptor:122] - running time: 185(ms)
[INFO ] 25-09-26 20:06:06 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 20:06:06 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 20:06:06 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop
[INFO ] 25-09-26 20:06:06 [MyInterceptor:101] - - REFERER : time=3329, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/pint
[DEBUG] 25-09-26 20:06:06 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 20:06:06 [selectVariantDetail:135] - ==> Parameters: new-york-super-fudge-chunk-ice-cream(String), scoop-shop(String)
[INFO ] 25-09-26 20:06:06 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'new-york-super-fudge-chunk-ice-cream'
  AND c.slug = 'scoop-shop'

[INFO ] 25-09-26 20:06:06 [resultsettable:610] - 
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----------|------------------------|--------|
|id    |id    |slug                                 |name_ko     |description_ko                              |is_new |slug       |list_slug               |name_ko |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----------|------------------------|--------|
|30039 |20010 |new-york-super-fudge-chunk-ice-cream |뉴욕 수퍼 퍼지 청크 |화이트 & 다크 퍼지 청크, 피칸, 호두, 아몬드가 들어있는 초콜릿 아이스크림 |false  |scoop-shop |ice-cream-shop-flavours |스쿱 샵    |
|------|------|-------------------------------------|------------|--------------------------------------------|-------|-----------|------------------------|--------|

[DEBUG] 25-09-26 20:06:06 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 20:06:06 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 20:06:06 [selectVariantMedia:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 20:06:06 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30039
ORDER BY role, sort_order

[INFO ] 25-09-26 20:06:06 [resultsettable:610] - 
|---------|------------------------------------------------------------------------------------------|------------------|
|role     |url                                                                                       |alt_ko            |
|---------|------------------------------------------------------------------------------------------|------------------|
|PACKSHOT |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png    |뉴욕 수퍼 퍼지 청크 스쿱 팩샷 |
|GALLERY  |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/gallery/01-tower.png |null              |
|---------|------------------------------------------------------------------------------------------|------------------|

[DEBUG] 25-09-26 20:06:06 [selectVariantMedia:135] - <==      Total: 2
[DEBUG] 25-09-26 20:06:06 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 20:06:06 [selectVariantIngredients:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 20:06:06 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30039

[INFO ] 25-09-26 20:06:06 [resultsettable:610] - 
|----------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                                                                |smartlabel_url |
|----------------------------------------------------------------------------------------------------------------------------------------------|---------------|
|크림, 설탕시럽 (설탕, 정제수), 탈지우유, 정제수, 코코아, 설탕, 코코넛유, 피칸, 구운 아몬드 (아몬드, 땅콩유), 달걀 노른자, 코코아, 유지방, 소금, 콩레시틴, 바닐라 추출물, 구아검, 버터유, 땅콩유, 버터 (크림), 천연조미료, 카라기난 |null           |
|----------------------------------------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 20:06:06 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 20:06:06 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 20:06:06 [selectVariantSourcing:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 20:06:06 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30039
ORDER BY vs.sort_order

[INFO ] 25-09-26 20:06:06 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.webp                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:06:06 [selectVariantSourcing:135] - <==      Total: 5
[DEBUG] 25-09-26 20:06:06 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 20:06:06 [selectVariantCerts:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 20:06:06 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30039
ORDER BY vc.sort_order

[INFO ] 25-09-26 20:06:06 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|Gluten Free  |/assets/img/misc/91003_Gluten-free_Dietary_Icon.png  |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 20:06:06 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 20:06:06 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 20:06:06 [selectRecommendations:135] - ==> Parameters: 30039(Long)
[INFO ] 25-09-26 20:06:06 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30039
ORDER BY r.slot

[INFO ] 25-09-26 20:06:06 [resultsettable:610] - 
|---|-----|--------|-------|-----|----------|--------|----|
|id |slug |name_ko |is_new |slug |list_slug |name_ko |url |
|---|-----|--------|-------|-----|----------|--------|----|
|---|-----|--------|-------|-----|----------|--------|----|

[DEBUG] 25-09-26 20:06:06 [selectRecommendations:135] - <==      Total: 0
[DEBUG] 25-09-26 20:06:06 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 20:06:06 [selectAvailableCategories:135] - ==> Parameters: 20010(Long)
[INFO ] 25-09-26 20:06:06 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20010
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 20:06:06 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30010 |
|SCOOP |scoop-shop |스쿱 샵    |30039 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 20:06:06 [selectAvailableCategories:135] - <==      Total: 2
[DEBUG] 25-09-26 20:06:06 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 20:06:06 [findNextVariant:135] - ==> Parameters: 30039(Long), 30039(Long), 30039(Long), 30039(Long), 30039(Long), 30039(Long)
[INFO ] 25-09-26 20:06:06 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30039))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30039)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30039)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30039)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30039)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30039)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 20:06:06 [resultsettable:610] - 
|------|-------------------------------|-----------|
|id    |slug                           |slug       |
|------|-------------------------------|-----------|
|30038 |mint-chocolate-chunk-ice-cream |scoop-shop |
|------|-------------------------------|-----------|

[DEBUG] 25-09-26 20:06:06 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 20:06:06 [MyInterceptor:122] - running time: 102(ms)
[INFO ] 25-09-26 20:06:10 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 20:06:11 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 20:06:11 [MyInterceptor:85] - [GET] http://localhost:8080/flavours
[INFO ] 25-09-26 20:06:11 [MyInterceptor:101] - - REFERER : time=4436, url=http://localhost:8080/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop
[DEBUG] 25-09-26 20:06:11 [selectAllFlavours:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC
[DEBUG] 25-09-26 20:06:11 [selectAllFlavours:135] - ==> Parameters: 
[INFO ] 25-09-26 20:06:11 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
ORDER BY c.priority ASC, f.flavour_sort_rank ASC, f.name_ko ASC

[INFO ] 25-09-26 20:06:11 [resultsettable:610] - 
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|id    |slug                                   |name_ko         |is_new |list_slug               |name_ko |url                                                                                     |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크     |true   |ice-cream-pints         |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png             |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png        |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png             |
|30013 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-pints         |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                           |
|30001 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                     |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-pints         |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                     |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png       |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png           |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈!    |false  |ice-cream-pints         |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png      |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png                 |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오     |false  |ice-cream-pints         |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png               |
|30002 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                        |
|30008 |karamel-sutra-core                     |카라멜 수트라         |false  |ice-cream-pints         |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                          |
|30023 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/cherry-garcia-ice-cream/mini-cup/packshot/main.png                 |
|30022 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/mini-cup/packshot/main.png   |
|30021 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-cups          |미니컵     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png       |
|30032 |chocolate-ice-cream                    |초콜릿             |true   |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-ice-cream/scoop-shop/packshot/main.png                   |
|30039 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/scoop-shop/packshot/main.png  |
|30038 |mint-chocolate-chunk-ice-cream         |민트 초콜릿 청크       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/mint-chocolate-chunk-ice-cream/scoop-shop/packshot/main.png        |
|30041 |vanilla-ice-cream                      |바닐라             |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/vanilla-ice-cream/scoop-shop/packshot/main.png                     |
|30043 |sweet-cream-and-cookies-ice-cream      |스위트 크림&쿠키       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/sweet-cream-and-cookies-ice-cream/scoop-shop/packshot/main.png     |
|30040 |strawberry-ice-cream                   |스트로베리           |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/strawberry-ice-cream/scoop-shop/packshot/main.png                  |
|30035 |chunky-monkey-ice-cream                |청키 몽키®          |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chunky-monkey-ice-cream/scoop-shop/packshot/main.png               |
|30031 |cherry-garcia-ice-cream                |체리 가르시아®        |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/cherry-garcia-ice-cream/scoop-shop/packshot/main.png               |
|30033 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/scoop-shop/packshot/main.png |
|30034 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니     |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png     |
|30036 |half-baked-ice-cream                   |하프베이크드®         |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/half-baked-ice-cream/scoop-shop/packshot/main.png                  |
|30037 |lemonade-sorbet                        |레모네이드 소르베       |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/lemonade-sorbet/scoop-shop/packshot/main.png                       |
|30042 |berry-berry-extraordinary-sorbet       |베리베리 엑스트라 오디너리® |false  |ice-cream-shop-flavours |스쿱 샵    |/assets/img/flavours/berry-berry-extraordinary-sorbet/scoop-shop/packshot/main.png      |
|------|---------------------------------------|----------------|-------|------------------------|--------|----------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:06:11 [selectAllFlavours:135] - <==      Total: 29
[INFO ] 25-09-26 20:06:11 [MyInterceptor:122] - running time: 91(ms)
[INFO ] 25-09-26 20:06:16 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 20:06:17 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 20:06:17 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/ice-cream-pints
[INFO ] 25-09-26 20:06:17 [MyInterceptor:101] - - REFERER : time=5972, url=http://localhost:8080/flavours
[DEBUG] 25-09-26 20:06:17 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 20:06:17 [existsCategorySlug:135] - ==> Parameters: ice-cream-pints(String)
[INFO ] 25-09-26 20:06:17 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'ice-cream-pints'

[INFO ] 25-09-26 20:06:17 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|1        |
|---------|

[DEBUG] 25-09-26 20:06:17 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 20:06:17 [selectByCategory:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, f.flavour_type_id as flavourTypeId, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE v.is_active = 1 AND c.list_slug = ? ORDER BY (CASE WHEN f.is_new = 1 THEN 0 ELSE 1 END), f.flavour_type_id ASC, f.name_ko ASC
[DEBUG] 25-09-26 20:06:17 [selectByCategory:135] - ==> Parameters: ice-cream-pints(String)
[INFO ] 25-09-26 20:06:17 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       f.flavour_type_id as flavourTypeId,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE v.is_active = 1
  AND c.list_slug = 'ice-cream-pints'
ORDER BY (CASE WHEN f.is_new = 1 THEN 0 ELSE 1 END),
         f.flavour_type_id ASC,
         f.name_ko ASC

[INFO ] 25-09-26 20:06:17 [resultsettable:610] - 
|------|---------------------------------------|-------------|-------|----------------|----------------|--------|-----------------------------------------------------------------------------------|
|id    |slug                                   |name_ko      |is_new |flavour_type_id |list_slug       |name_ko |url                                                                                |
|------|---------------------------------------|-------------|-------|----------------|----------------|--------|-----------------------------------------------------------------------------------|
|30004 |strawberry-cheesecake-ice-cream        |스트로베리 치즈케이크  |true   |1               |ice-cream-pints |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png        |
|30010 |new-york-super-fudge-chunk-ice-cream   |뉴욕 수퍼 퍼지 청크  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/new-york-super-fudge-chunk-ice-cream/pint/packshot/main.png   |
|30009 |mint-chocolate-cookie-ice-cream        |민트 초콜릿 칩 쿠키  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png        |
|30013 |vanilla-ice-cream                      |바닐라          |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/vanilla-ice-cream/pint/packshot/main.png                      |
|30001 |chunky-monkey-ice-cream                |청키 몽키®       |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/chunky-monkey-ice-cream/pint/packshot/main.png                |
|30006 |cherry-garcia-ice-cream                |체리 가르시아®     |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/cherry-garcia-ice-cream/pint/packshot/main.png                |
|30005 |chocolate-chip-cookie-dough-ice-cream  |초콜릿 칩 쿠키 도우  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png  |
|30003 |chocolate-fudge-brownie-ice-cream      |초콜릿 퍼지 브라우니  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png      |
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |커피커피 버즈버즈버즈! |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/coffee-coffee-buzz-buzz-buzz-ice-cream/pint/packshot/main.png |
|30011 |peanut-butter-cup-ice-cream            |피넛 버터 컵      |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/peanut-butter-cup-ice-cream/pint/packshot/main.png            |
|30012 |pistachio-pistachio-ice-cream          |피스타치오 피스타치오  |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/pistachio-pistachio-ice-cream/pint/packshot/main.png          |
|30002 |half-baked-ice-cream                   |하프베이크드®      |false  |1               |ice-cream-pints |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png                   |
|30008 |karamel-sutra-core                     |카라멜 수트라      |false  |2               |ice-cream-pints |파인트     |/assets/img/flavours/karamel-sutra-core/pint/packshot/main.png                     |
|------|---------------------------------------|-------------|-------|----------------|----------------|--------|-----------------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:06:17 [selectByCategory:135] - <==      Total: 13
[INFO ] 25-09-26 20:06:17 [MyInterceptor:122] - running time: 59(ms)
[INFO ] 25-09-26 20:06:22 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 20:06:22 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 20:06:22 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/half-baked-ice-cream/
[INFO ] 25-09-26 20:06:22 [MyInterceptor:101] - - REFERER : time=5149, url=http://localhost:8080/flavours/ice-cream-pints
[DEBUG] 25-09-26 20:06:22 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 20:06:22 [existsCategorySlug:135] - ==> Parameters: half-baked-ice-cream(String)
[INFO ] 25-09-26 20:06:22 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'half-baked-ice-cream'

[INFO ] 25-09-26 20:06:22 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|0        |
|---------|

[DEBUG] 25-09-26 20:06:22 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 20:06:22 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 20:06:22 [selectVariantDetailDefault:135] - ==> Parameters: half-baked-ice-cream(String)
[INFO ] 25-09-26 20:06:22 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'half-baked-ice-cream'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 20:06:22 [resultsettable:610] - 
|------|------|---------------------|--------|-------------------------------------------------|-------|-----|----------------|--------|
|id    |id    |slug                 |name_ko |description_ko                                   |is_new |slug |list_slug       |name_ko |
|------|------|---------------------|--------|-------------------------------------------------|-------|-----|----------------|--------|
|30002 |20002 |half-baked-ice-cream |하프베이크드® |초코칩 쿠키도우와 퍼지 브라우니의 청크가 절묘하게 어우러진 초콜릿 & 바닐라 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|---------------------|--------|-------------------------------------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 20:06:22 [selectVariantDetailDefault:135] - <==      Total: 1
[DEBUG] 25-09-26 20:06:22 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 20:06:22 [selectVariantMedia:135] - ==> Parameters: 30002(Long)
[INFO ] 25-09-26 20:06:22 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30002
ORDER BY role, sort_order

[INFO ] 25-09-26 20:06:22 [resultsettable:610] - 
|----------|------------------------------------------------------------------------|--------------|
|role      |url                                                                     |alt_ko        |
|----------|------------------------------------------------------------------------|--------------|
|PACKSHOT  |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png        |하프베이크드 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/half-baked-ice-cream/pint/gallery/01-tower.png     |null          |
|GALLERY   |/assets/img/flavours/half-baked-ice-cream/pint/gallery/02-envirolid.jpg |null          |
|GALLERY   |/assets/img/flavours/half-baked-ice-cream/pint/gallery/03-scooped.jpg   |null          |
|GALLERY   |/assets/img/flavours/half-baked-ice-cream/pint/gallery/04-enviro.jpg    |null          |
|GALLERY   |/assets/img/flavours/half-baked-ice-cream/pint/gallery/05-hero.jpg      |null          |
|NUTRITION |/assets/img/flavours/half-baked-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml   |
|----------|------------------------------------------------------------------------|--------------|

[DEBUG] 25-09-26 20:06:22 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 20:06:22 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 20:06:22 [selectVariantIngredients:135] - ==> Parameters: 30002(Long)
[INFO ] 25-09-26 20:06:22 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30002

[INFO ] 25-09-26 20:06:22 [resultsettable:610] - 
|-----------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                                                     |smartlabel_url                                                                                                           |
|-----------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 설탕시럽, 탈지농축우유, 정제수, 설탕, 밀가루, 코코아분말, 갈색 설탕, 가당난황, 대두유, 버터, 계란, 전화당, 초콜릿 리커, 바닐라 추출물, 소금, 계란 흰자, 구아검, 카라기난, 당밀, 코코아버터, 천연향료, 맥아분말 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840101320-0002-en-US-1669212157071/index.html#nutrition |
|-----------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:06:22 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 20:06:22 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 20:06:22 [selectVariantSourcing:135] - ==> Parameters: 30002(Long)
[INFO ] 25-09-26 20:06:22 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30002
ORDER BY vs.sort_order

[INFO ] 25-09-26 20:06:22 [resultsettable:610] - 
|----------------|--------------------------------------------------------------|
|name_ko         |icon_url                                                      |
|----------------|--------------------------------------------------------------|
|Non-GMO         |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif         |
|Fairtrade       |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif       |
|Free Range Eggs |/assets/img/misc/90003_Free-range_Eggs_VLS_Simpler_Icons.webp |
|----------------|--------------------------------------------------------------|

[DEBUG] 25-09-26 20:06:22 [selectVariantSourcing:135] - <==      Total: 3
[DEBUG] 25-09-26 20:06:22 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 20:06:22 [selectVariantCerts:135] - ==> Parameters: 30002(Long)
[INFO ] 25-09-26 20:06:22 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30002
ORDER BY vc.sort_order

[INFO ] 25-09-26 20:06:22 [resultsettable:610] - 
|--------|---------|
|name_ko |icon_url |
|--------|---------|
|--------|---------|

[DEBUG] 25-09-26 20:06:22 [selectVariantCerts:135] - <==      Total: 0
[DEBUG] 25-09-26 20:06:22 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 20:06:22 [selectRecommendations:135] - ==> Parameters: 30002(Long)
[INFO ] 25-09-26 20:06:22 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30002
ORDER BY r.slot

[INFO ] 25-09-26 20:06:22 [resultsettable:610] - 
|------|--------------------------------------|------------|-------|-----|----------------|--------|----------------------------------------------------------------------------------|
|id    |slug                                  |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                               |
|------|--------------------------------------|------------|-------|-----|----------------|--------|----------------------------------------------------------------------------------|
|30005 |chocolate-chip-cookie-dough-ice-cream |초콜릿 칩 쿠키 도우 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-chip-cookie-dough-ice-cream/pint/packshot/main.png |
|30003 |chocolate-fudge-brownie-ice-cream     |초콜릿 퍼지 브라우니 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png     |
|30009 |mint-chocolate-cookie-ice-cream       |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png       |
|------|--------------------------------------|------------|-------|-----|----------------|--------|----------------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:06:22 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 20:06:22 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 20:06:22 [selectAvailableCategories:135] - ==> Parameters: 20002(Long)
[INFO ] 25-09-26 20:06:22 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20002
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 20:06:22 [resultsettable:610] - 
|------|-----------|--------|------|
|code  |slug       |name_ko |id    |
|------|-----------|--------|------|
|PINT  |pint       |파인트     |30002 |
|SCOOP |scoop-shop |스쿱 샵    |30036 |
|------|-----------|--------|------|

[DEBUG] 25-09-26 20:06:22 [selectAvailableCategories:135] - <==      Total: 2
[DEBUG] 25-09-26 20:06:22 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 20:06:22 [findNextVariant:135] - ==> Parameters: 30002(Long), 30002(Long), 30002(Long), 30002(Long), 30002(Long), 30002(Long)
[INFO ] 25-09-26 20:06:22 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30002))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30002)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30002)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30002)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30002)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30002)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 20:06:22 [resultsettable:610] - 
|------|-------------------|-----|
|id    |slug               |slug |
|------|-------------------|-----|
|30008 |karamel-sutra-core |pint |
|------|-------------------|-----|

[DEBUG] 25-09-26 20:06:22 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 20:06:22 [MyInterceptor:122] - running time: 100(ms)
[INFO ] 25-09-26 20:06:41 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 20:06:41 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 20:06:41 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/chocolate-fudge-brownie-ice-cream/
[INFO ] 25-09-26 20:06:41 [MyInterceptor:101] - - REFERER : time=19060, url=http://localhost:8080/flavours/ice-cream-pints
[DEBUG] 25-09-26 20:06:41 [existsCategorySlug:135] - ==>  Preparing: SELECT COUNT(*) FROM category WHERE list_slug = ?
[DEBUG] 25-09-26 20:06:41 [existsCategorySlug:135] - ==> Parameters: chocolate-fudge-brownie-ice-cream(String)
[INFO ] 25-09-26 20:06:41 [sqlonly:228] - SELECT COUNT(*)
    FROM category
    WHERE list_slug = 'chocolate-fudge-brownie-ice-cream'

[INFO ] 25-09-26 20:06:41 [resultsettable:610] - 
|---------|
|count(*) |
|---------|
|0        |
|---------|

[DEBUG] 25-09-26 20:06:41 [existsCategorySlug:135] - <==      Total: 1
[DEBUG] 25-09-26 20:06:41 [selectVariantDetailDefault:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? ORDER BY c.priority ASC LIMIT 1
[DEBUG] 25-09-26 20:06:41 [selectVariantDetailDefault:135] - ==> Parameters: chocolate-fudge-brownie-ice-cream(String)
[INFO ] 25-09-26 20:06:41 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'chocolate-fudge-brownie-ice-cream'
ORDER BY c.priority ASC
LIMIT 1

[INFO ] 25-09-26 20:06:41 [resultsettable:610] - 
|------|------|----------------------------------|------------|-----------------------|-------|-----|----------------|--------|
|id    |id    |slug                              |name_ko     |description_ko         |is_new |slug |list_slug       |name_ko |
|------|------|----------------------------------|------------|-----------------------|-------|-----|----------------|--------|
|30003 |20003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |퍼지 브라우니가 들어간 초콜릿 아이스크림 |false  |pint |ice-cream-pints |파인트     |
|------|------|----------------------------------|------------|-----------------------|-------|-----|----------------|--------|

[DEBUG] 25-09-26 20:06:41 [selectVariantDetailDefault:135] - <==      Total: 1
[DEBUG] 25-09-26 20:06:41 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 20:06:41 [selectVariantMedia:135] - ==> Parameters: 30003(Long)
[INFO ] 25-09-26 20:06:41 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30003
ORDER BY role, sort_order

[INFO ] 25-09-26 20:06:41 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                  |alt_ko             |
|----------|-------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/packshot/main.png        |초콜릿 퍼지 브라우니 파인트 팩샷 |
|GALLERY   |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/gallery/01-tower.png     |null               |
|GALLERY   |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/gallery/02-envirolid.jpg |null               |
|GALLERY   |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/gallery/03-scooped.jpg   |null               |
|GALLERY   |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/gallery/04-enviro.jpg    |null               |
|GALLERY   |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/gallery/05-hero.jpg      |null               |
|NUTRITION |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/pint/nutrition/473ml.png      |영양성분표 473ml        |
|----------|-------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 20:06:41 [selectVariantMedia:135] - <==      Total: 7
[DEBUG] 25-09-26 20:06:41 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 20:06:41 [selectVariantIngredients:135] - ==> Parameters: 30003(Long)
[INFO ] 25-09-26 20:06:41 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30003

[INFO ] 25-09-26 20:06:41 [resultsettable:610] - 
|-------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                               |smartlabel_url                                                                                                           |
|-------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 액상당, 농축 탈지유, 물, 코코아, 설탕, 밀가루, 대두유, 계란 노른자, 전화당, 계란, 계란 흰자, 농후제(구아검, 카라기난), 설탕, 바닐라 추출물, 팽창제(중탄산나트륨), 맥아분 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840100477-0002-en-US-1668535427889/index.html#nutrition |
|-------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:06:41 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 20:06:41 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 20:06:41 [selectVariantSourcing:135] - ==> Parameters: 30003(Long)
[INFO ] 25-09-26 20:06:41 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30003
ORDER BY vs.sort_order

[INFO ] 25-09-26 20:06:41 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.webp                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Greyston Brownies             |/assets/img/misc/90007_Greyston_Brownies_VLS_Simpler_Icons.png              |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:06:41 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 20:06:41 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 20:06:41 [selectVariantCerts:135] - ==> Parameters: 30003(Long)
[INFO ] 25-09-26 20:06:41 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30003
ORDER BY vc.sort_order

[INFO ] 25-09-26 20:06:41 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Halal        |/assets/img/misc/91001_Halal_Dietary_Icon.avif       |
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 20:06:41 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 20:06:41 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 20:06:41 [selectRecommendations:135] - ==> Parameters: 30003(Long)
[INFO ] 25-09-26 20:06:41 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30003
ORDER BY r.slot

[INFO ] 25-09-26 20:06:41 [resultsettable:610] - 
|------|--------------------------------|------------|-------|-----|----------------|--------|----------------------------------------------------------------------------|
|id    |slug                            |name_ko     |is_new |slug |list_slug       |name_ko |url                                                                         |
|------|--------------------------------|------------|-------|-----|----------------|--------|----------------------------------------------------------------------------|
|30009 |mint-chocolate-cookie-ice-cream |민트 초콜릿 칩 쿠키 |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/mint-chocolate-cookie-ice-cream/pint/packshot/main.png |
|30002 |half-baked-ice-cream            |하프베이크드®     |false  |pint |ice-cream-pints |파인트     |/assets/img/flavours/half-baked-ice-cream/pint/packshot/main.png            |
|30004 |strawberry-cheesecake-ice-cream |스트로베리 치즈케이크 |true   |pint |ice-cream-pints |파인트     |/assets/img/flavours/strawberry-cheesecake-ice-cream/pint/packshot/main.png |
|------|--------------------------------|------------|-------|-----|----------------|--------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:06:41 [selectRecommendations:135] - <==      Total: 3
[DEBUG] 25-09-26 20:06:41 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 20:06:41 [selectAvailableCategories:135] - ==> Parameters: 20003(Long)
[INFO ] 25-09-26 20:06:41 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20003
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 20:06:41 [resultsettable:610] - 
|---------|-----------|--------|------|
|code     |slug       |name_ko |id    |
|---------|-----------|--------|------|
|PINT     |pint       |파인트     |30003 |
|MINI_CUP |mini-cup   |미니컵     |30021 |
|SCOOP    |scoop-shop |스쿱 샵    |30034 |
|---------|-----------|--------|------|

[DEBUG] 25-09-26 20:06:41 [selectAvailableCategories:135] - <==      Total: 3
[DEBUG] 25-09-26 20:06:41 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 20:06:41 [findNextVariant:135] - ==> Parameters: 30003(Long), 30003(Long), 30003(Long), 30003(Long), 30003(Long), 30003(Long)
[INFO ] 25-09-26 20:06:41 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30003))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30003)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30003)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30003)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30003)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30003)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 20:06:41 [resultsettable:610] - 
|------|---------------------------------------|-----|
|id    |slug                                   |slug |
|------|---------------------------------------|-----|
|30007 |coffee-coffee-buzz-buzz-buzz-ice-cream |pint |
|------|---------------------------------------|-----|

[DEBUG] 25-09-26 20:06:41 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 20:06:41 [MyInterceptor:122] - running time: 156(ms)
[INFO ] 25-09-26 20:07:00 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 20:07:00 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 20:07:00 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/chocolate-fudge-brownie-ice-cream/mini-cup
[INFO ] 25-09-26 20:07:00 [MyInterceptor:101] - - REFERER : time=19319, url=http://localhost:8080/flavours/chocolate-fudge-brownie-ice-cream/
[DEBUG] 25-09-26 20:07:00 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 20:07:00 [selectVariantDetail:135] - ==> Parameters: chocolate-fudge-brownie-ice-cream(String), mini-cup(String)
[INFO ] 25-09-26 20:07:00 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'chocolate-fudge-brownie-ice-cream'
  AND c.slug = 'mini-cup'

[INFO ] 25-09-26 20:07:00 [resultsettable:610] - 
|------|------|----------------------------------|------------|-----------------------|-------|---------|---------------|--------|
|id    |id    |slug                              |name_ko     |description_ko         |is_new |slug     |list_slug      |name_ko |
|------|------|----------------------------------|------------|-----------------------|-------|---------|---------------|--------|
|30021 |20003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |퍼지 브라우니가 들어간 초콜릿 아이스크림 |false  |mini-cup |ice-cream-cups |미니컵     |
|------|------|----------------------------------|------------|-----------------------|-------|---------|---------------|--------|

[DEBUG] 25-09-26 20:07:00 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 20:07:00 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 20:07:00 [selectVariantMedia:135] - ==> Parameters: 30021(Long)
[INFO ] 25-09-26 20:07:00 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30021
ORDER BY role, sort_order

[INFO ] 25-09-26 20:07:00 [resultsettable:610] - 
|----------|-------------------------------------------------------------------------------------|-------------------|
|role      |url                                                                                  |alt_ko             |
|----------|-------------------------------------------------------------------------------------|-------------------|
|PACKSHOT  |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/packshot/main.png    |초콜릿 퍼지 브라우니 미니컵 팩샷 |
|GALLERY   |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/gallery/01-tower.png |null               |
|NUTRITION |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/mini-cup/nutrition/120ml.png  |영양성분표 120ml        |
|----------|-------------------------------------------------------------------------------------|-------------------|

[DEBUG] 25-09-26 20:07:00 [selectVariantMedia:135] - <==      Total: 3
[DEBUG] 25-09-26 20:07:00 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 20:07:00 [selectVariantIngredients:135] - ==> Parameters: 30021(Long)
[INFO ] 25-09-26 20:07:00 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30021

[INFO ] 25-09-26 20:07:00 [resultsettable:610] - 
|-------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|ingredients_ko                                                                                               |smartlabel_url                                                                                                           |
|-------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|
|크림, 액상당, 농축 탈지유, 물, 코코아, 설탕, 밀가루, 대두유, 계란 노른자, 전화당, 계란, 계란 흰자, 농후제(구아검, 카라기난), 설탕, 바닐라 추출물, 팽창제(중탄산나트륨), 맥아분 |https://smartlabel.scanbuy.com/3kDXaw4KiY2GQD9DU6973N/preview/076840200160-0002-en-US-1701801458882/index.html#nutrition |
|-------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:07:00 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 20:07:00 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 20:07:00 [selectVariantSourcing:135] - ==> Parameters: 30021(Long)
[INFO ] 25-09-26 20:07:00 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30021
ORDER BY vs.sort_order

[INFO ] 25-09-26 20:07:00 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.webp                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Greyston Brownies             |/assets/img/misc/90007_Greyston_Brownies_VLS_Simpler_Icons.png              |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:07:00 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 20:07:00 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 20:07:00 [selectVariantCerts:135] - ==> Parameters: 30021(Long)
[INFO ] 25-09-26 20:07:00 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30021
ORDER BY vc.sort_order

[INFO ] 25-09-26 20:07:00 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Halal        |/assets/img/misc/91001_Halal_Dietary_Icon.avif       |
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 20:07:00 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 20:07:00 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 20:07:00 [selectRecommendations:135] - ==> Parameters: 30021(Long)
[INFO ] 25-09-26 20:07:00 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30021
ORDER BY r.slot

[INFO ] 25-09-26 20:07:00 [resultsettable:610] - 
|---|-----|--------|-------|-----|----------|--------|----|
|id |slug |name_ko |is_new |slug |list_slug |name_ko |url |
|---|-----|--------|-------|-----|----------|--------|----|
|---|-----|--------|-------|-----|----------|--------|----|

[DEBUG] 25-09-26 20:07:00 [selectRecommendations:135] - <==      Total: 0
[DEBUG] 25-09-26 20:07:00 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 20:07:00 [selectAvailableCategories:135] - ==> Parameters: 20003(Long)
[INFO ] 25-09-26 20:07:00 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20003
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 20:07:00 [resultsettable:610] - 
|---------|-----------|--------|------|
|code     |slug       |name_ko |id    |
|---------|-----------|--------|------|
|PINT     |pint       |파인트     |30003 |
|MINI_CUP |mini-cup   |미니컵     |30021 |
|SCOOP    |scoop-shop |스쿱 샵    |30034 |
|---------|-----------|--------|------|

[DEBUG] 25-09-26 20:07:00 [selectAvailableCategories:135] - <==      Total: 3
[DEBUG] 25-09-26 20:07:00 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 20:07:00 [findNextVariant:135] - ==> Parameters: 30021(Long), 30021(Long), 30021(Long), 30021(Long), 30021(Long), 30021(Long)
[INFO ] 25-09-26 20:07:00 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30021))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30021)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30021)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30021)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30021)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30021)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 20:07:00 [resultsettable:610] - 
|------|-------------------------------------|-----------|
|id    |slug                                 |slug       |
|------|-------------------------------------|-----------|
|30039 |new-york-super-fudge-chunk-ice-cream |scoop-shop |
|------|-------------------------------------|-----------|

[DEBUG] 25-09-26 20:07:00 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 20:07:00 [MyInterceptor:122] - running time: 95(ms)
[INFO ] 25-09-26 20:07:02 [MyInterceptor:47] - ---------- new client connect ----------
[INFO ] 25-09-26 20:07:03 [MyInterceptor:67] - [Client] 0:0:0:0:0:0:0:1, Mac, Mac OS X 10.15, Chrome 139.0
[INFO ] 25-09-26 20:07:03 [MyInterceptor:85] - [GET] http://localhost:8080/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop
[INFO ] 25-09-26 20:07:03 [MyInterceptor:101] - - REFERER : time=2035, url=http://localhost:8080/flavours/chocolate-fudge-brownie-ice-cream/mini-cup
[DEBUG] 25-09-26 20:07:03 [selectVariantDetail:135] - ==>  Preparing: SELECT v.id AS variantId, f.id AS flavourId, f.slug AS flavourSlug, f.name_ko AS flavourNameKo, f.description_ko AS flavourDescriptionKo, f.is_new AS isNew, c.slug AS categorySlug, c.list_slug AS categoryListSlug, c.name_ko AS categoryNameKo FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND f.slug = ? AND c.slug = ?
[DEBUG] 25-09-26 20:07:03 [selectVariantDetail:135] - ==> Parameters: chocolate-fudge-brownie-ice-cream(String), scoop-shop(String)
[INFO ] 25-09-26 20:07:03 [sqlonly:228] - SELECT v.id         AS variantId,
       f.id         AS flavourId,
       f.slug       AS flavourSlug,
       f.name_ko    AS flavourNameKo,
       f.description_ko AS flavourDescriptionKo,
       f.is_new     AS isNew,
       c.slug       AS categorySlug,
       c.list_slug  AS categoryListSlug,
       c.name_ko    AS categoryNameKo
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND f.slug = 'chocolate-fudge-brownie-ice-cream'
  AND c.slug = 'scoop-shop'

[INFO ] 25-09-26 20:07:03 [resultsettable:610] - 
|------|------|----------------------------------|------------|-----------------------|-------|-----------|------------------------|--------|
|id    |id    |slug                              |name_ko     |description_ko         |is_new |slug       |list_slug               |name_ko |
|------|------|----------------------------------|------------|-----------------------|-------|-----------|------------------------|--------|
|30034 |20003 |chocolate-fudge-brownie-ice-cream |초콜릿 퍼지 브라우니 |퍼지 브라우니가 들어간 초콜릿 아이스크림 |false  |scoop-shop |ice-cream-shop-flavours |스쿱 샵    |
|------|------|----------------------------------|------------|-----------------------|-------|-----------|------------------------|--------|

[DEBUG] 25-09-26 20:07:03 [selectVariantDetail:135] - <==      Total: 1
[DEBUG] 25-09-26 20:07:03 [selectVariantMedia:135] - ==>  Preparing: SELECT role, url, alt_ko as altKo FROM variant_media WHERE variant_id = ? ORDER BY role, sort_order
[DEBUG] 25-09-26 20:07:03 [selectVariantMedia:135] - ==> Parameters: 30034(Long)
[INFO ] 25-09-26 20:07:03 [sqlonly:228] - SELECT role, url, alt_ko as altKo
FROM variant_media
WHERE variant_id = 30034
ORDER BY role, sort_order

[INFO ] 25-09-26 20:07:03 [resultsettable:610] - 
|---------|---------------------------------------------------------------------------------------|------------------|
|role     |url                                                                                    |alt_ko            |
|---------|---------------------------------------------------------------------------------------|------------------|
|PACKSHOT |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/packshot/main.png    |초콜릿 퍼지 브라우니 스쿱 팩샷 |
|GALLERY  |/assets/img/flavours/chocolate-fudge-brownie-ice-cream/scoop-shop/gallery/01-tower.png |null              |
|---------|---------------------------------------------------------------------------------------|------------------|

[DEBUG] 25-09-26 20:07:03 [selectVariantMedia:135] - <==      Total: 2
[DEBUG] 25-09-26 20:07:03 [selectVariantIngredients:135] - ==>  Preparing: SELECT ingredients_ko as ingredientsKo, smartlabel_url as smartlabelUrl FROM variant_ingredients WHERE variant_id = ?
[DEBUG] 25-09-26 20:07:03 [selectVariantIngredients:135] - ==> Parameters: 30034(Long)
[INFO ] 25-09-26 20:07:03 [sqlonly:228] - SELECT ingredients_ko as ingredientsKo,
       smartlabel_url as smartlabelUrl
FROM variant_ingredients
WHERE variant_id = 30034

[INFO ] 25-09-26 20:07:03 [resultsettable:610] - 
|-------------------------------------------------------------------------------------------------------------|---------------|
|ingredients_ko                                                                                               |smartlabel_url |
|-------------------------------------------------------------------------------------------------------------|---------------|
|크림, 액상당, 농축 탈지유, 물, 코코아, 설탕, 밀가루, 대두유, 계란 노른자, 전화당, 계란, 계란 흰자, 농후제(구아검, 카라기난), 설탕, 바닐라 추출물, 팽창제(중탄산나트륨), 맥아분 |null           |
|-------------------------------------------------------------------------------------------------------------|---------------|

[DEBUG] 25-09-26 20:07:03 [selectVariantIngredients:135] - <==      Total: 1
[DEBUG] 25-09-26 20:07:03 [selectVariantSourcing:135] - ==>  Preparing: SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl FROM variant_sourcing vs JOIN sourcing_feature sf ON vs.feature_id = sf.id WHERE vs.variant_id = ? ORDER BY vs.sort_order
[DEBUG] 25-09-26 20:07:03 [selectVariantSourcing:135] - ==> Parameters: 30034(Long)
[INFO ] 25-09-26 20:07:03 [sqlonly:228] - SELECT sf.name_ko as nameKo, sf.icon_url as iconUrl
FROM variant_sourcing vs
JOIN sourcing_feature sf ON vs.feature_id = sf.id
WHERE vs.variant_id = 30034
ORDER BY vs.sort_order

[INFO ] 25-09-26 20:07:03 [resultsettable:610] - 
|------------------------------|----------------------------------------------------------------------------|
|name_ko                       |icon_url                                                                    |
|------------------------------|----------------------------------------------------------------------------|
|Non-GMO                       |/assets/img/misc/90001_Non-GMO_VLS_Simpler_Icons.avif                       |
|Cage-Free Eggs                |/assets/img/misc/90002_Cage-free_Eggs_VLS_Simpler_Icons.webp                |
|Fairtrade                     |/assets/img/misc/90004_Fairtrade_VLS_Simpler_Icons.avif                     |
|Greyston Brownies             |/assets/img/misc/90007_Greyston_Brownies_VLS_Simpler_Icons.png              |
|Caring Dairy                  |/assets/img/misc/90005_Caring_Dairy_VLS_Simpler_Icons.avif                  |
|Responsibly Sourced Packaging |/assets/img/misc/90006_Responsibly_Sourced_Packaging_VLS_Simpler_Icons.avif |
|------------------------------|----------------------------------------------------------------------------|

[DEBUG] 25-09-26 20:07:03 [selectVariantSourcing:135] - <==      Total: 6
[DEBUG] 25-09-26 20:07:03 [selectVariantCerts:135] - ==>  Preparing: SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl FROM variant_cert vc JOIN dietary_cert dc ON vc.cert_id = dc.id WHERE vc.variant_id = ? ORDER BY vc.sort_order
[DEBUG] 25-09-26 20:07:03 [selectVariantCerts:135] - ==> Parameters: 30034(Long)
[INFO ] 25-09-26 20:07:03 [sqlonly:228] - SELECT dc.name_ko as nameKo, dc.icon_url as iconUrl
FROM variant_cert vc
JOIN dietary_cert dc ON vc.cert_id = dc.id
WHERE vc.variant_id = 30034
ORDER BY vc.sort_order

[INFO ] 25-09-26 20:07:03 [resultsettable:610] - 
|-------------|-----------------------------------------------------|
|name_ko      |icon_url                                             |
|-------------|-----------------------------------------------------|
|Halal        |/assets/img/misc/91001_Halal_Dietary_Icon.avif       |
|Kosher Dairy |/assets/img/misc/91002_Kosher_Dairy_Dietary_Icon.png |
|-------------|-----------------------------------------------------|

[DEBUG] 25-09-26 20:07:03 [selectVariantCerts:135] - <==      Total: 2
[DEBUG] 25-09-26 20:07:03 [selectRecommendations:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, f.name_ko as flavourNameKo, f.is_new as isNew, c.slug as categorySlug, c.list_slug as categoryListSlug, c.name_ko as categoryNameKo, vm.url as imageUrl FROM variant_reco r JOIN product_variant v ON r.target_variant_id = v.id JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id LEFT JOIN variant_media vm ON vm.variant_id = v.id AND vm.role = 'PACKSHOT' WHERE r.source_variant_id = ? ORDER BY r.slot
[DEBUG] 25-09-26 20:07:03 [selectRecommendations:135] - ==> Parameters: 30034(Long)
[INFO ] 25-09-26 20:07:03 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       f.name_ko as flavourNameKo,
       f.is_new as isNew,
       c.slug as categorySlug,
       c.list_slug as categoryListSlug,
       c.name_ko as categoryNameKo,
       vm.url as imageUrl
FROM variant_reco r
JOIN product_variant v ON r.target_variant_id = v.id
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
LEFT JOIN variant_media vm
       ON vm.variant_id = v.id AND vm.role = 'PACKSHOT'
WHERE r.source_variant_id = 30034
ORDER BY r.slot

[INFO ] 25-09-26 20:07:03 [resultsettable:610] - 
|---|-----|--------|-------|-----|----------|--------|----|
|id |slug |name_ko |is_new |slug |list_slug |name_ko |url |
|---|-----|--------|-------|-----|----------|--------|----|
|---|-----|--------|-------|-----|----------|--------|----|

[DEBUG] 25-09-26 20:07:03 [selectRecommendations:135] - <==      Total: 0
[DEBUG] 25-09-26 20:07:03 [selectAvailableCategories:135] - ==>  Preparing: SELECT c.code, c.slug AS slug, c.name_ko AS nameKo, v.id AS variantId FROM product_variant v JOIN category c ON v.category_id = c.id WHERE v.flavour_id = ? AND v.is_active = 1 ORDER BY c.priority
[DEBUG] 25-09-26 20:07:03 [selectAvailableCategories:135] - ==> Parameters: 20003(Long)
[INFO ] 25-09-26 20:07:03 [sqlonly:228] - SELECT c.code,
       c.slug       AS slug,
       c.name_ko    AS nameKo,
       v.id         AS variantId
FROM product_variant v
JOIN category c ON v.category_id = c.id
WHERE v.flavour_id = 20003
  AND v.is_active = 1
ORDER BY c.priority

[INFO ] 25-09-26 20:07:03 [resultsettable:610] - 
|---------|-----------|--------|------|
|code     |slug       |name_ko |id    |
|---------|-----------|--------|------|
|PINT     |pint       |파인트     |30003 |
|MINI_CUP |mini-cup   |미니컵     |30021 |
|SCOOP    |scoop-shop |스쿱 샵    |30034 |
|---------|-----------|--------|------|

[DEBUG] 25-09-26 20:07:03 [selectAvailableCategories:135] - <==      Total: 3
[DEBUG] 25-09-26 20:07:03 [findNextVariant:135] - ==>  Preparing: SELECT v.id as variantId, f.slug as flavourSlug, c.slug as categorySlug FROM product_variant v JOIN flavour f ON v.flavour_id = f.id JOIN category c ON v.category_id = c.id WHERE v.is_active = 1 AND ( (c.priority > (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?)) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id > (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) OR ( c.priority = (SELECT c2.priority FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id JOIN category c2 ON pv2.category_id = c2.id WHERE pv2.id = ?) AND f.flavour_type_id = (SELECT f2.flavour_type_id FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) AND f.name_ko > (SELECT f2.name_ko FROM product_variant pv2 JOIN flavour f2 ON pv2.flavour_id = f2.id WHERE pv2.id = ?) ) ) ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC LIMIT 1
[DEBUG] 25-09-26 20:07:03 [findNextVariant:135] - ==> Parameters: 30034(Long), 30034(Long), 30034(Long), 30034(Long), 30034(Long), 30034(Long)
[INFO ] 25-09-26 20:07:03 [sqlonly:228] - SELECT v.id as variantId,
       f.slug as flavourSlug,
       c.slug as categorySlug
FROM product_variant v
JOIN flavour f ON v.flavour_id = f.id
JOIN category c ON v.category_id = c.id
WHERE v.is_active = 1
  AND (
    (c.priority > (SELECT c2.priority
                   FROM product_variant pv2
                   JOIN flavour f2 ON pv2.flavour_id = f2.id
                   JOIN category c2 ON pv2.category_id = c2.id
                   WHERE pv2.id = 30034))
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30034)
      AND f.flavour_type_id > (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30034)
    )
    OR (
      c.priority = (SELECT c2.priority
                    FROM product_variant pv2
                    JOIN flavour f2 ON pv2.flavour_id = f2.id
                    JOIN category c2 ON pv2.category_id = c2.id
                    WHERE pv2.id = 30034)
      AND f.flavour_type_id = (SELECT f2.flavour_type_id
                               FROM product_variant pv2
                               JOIN flavour f2 ON pv2.flavour_id = f2.id
                               WHERE pv2.id = 30034)
      AND f.name_ko > (SELECT f2.name_ko
                       FROM product_variant pv2
                       JOIN flavour f2 ON pv2.flavour_id = f2.id
                       WHERE pv2.id = 30034)
    )
  )
ORDER BY c.priority ASC, f.flavour_type_id ASC, f.name_ko ASC
LIMIT 1

[INFO ] 25-09-26 20:07:03 [resultsettable:610] - 
|------|---------------------|-----------|
|id    |slug                 |slug       |
|------|---------------------|-----------|
|30036 |half-baked-ice-cream |scoop-shop |
|------|---------------------|-----------|

[DEBUG] 25-09-26 20:07:03 [findNextVariant:135] - <==      Total: 1
[INFO ] 25-09-26 20:07:03 [MyInterceptor:122] - running time: 113(ms)
